var LN=Object.defineProperty,VN=Object.defineProperties;var jN=Object.getOwnPropertyDescriptors;var Fu=Object.getOwnPropertySymbols,UN=Object.getPrototypeOf,qE=Object.prototype.hasOwnProperty,GE=Object.prototype.propertyIsEnumerable,BN=Reflect.get;var zE=(n,e,t)=>e in n?LN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,L=(n,e)=>{for(var t in e||={})qE.call(e,t)&&zE(n,t,e[t]);if(Fu)for(var t of Fu(e))GE.call(e,t)&&zE(n,t,e[t]);return n},pe=(n,e)=>VN(n,jN(e));var WE=(n,e)=>{var t={};for(var r in n)qE.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Fu)for(var r of Fu(n))e.indexOf(r)<0&&GE.call(n,r)&&(t[r]=n[r]);return t};var Pr=(n,e,t)=>BN(UN(n),t,e);var _=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});function KE(n,e){return Object.is(n,e)}var et=null,Lu=!1,Vu=1,er=Symbol("SIGNAL");function _e(n){let e=et;return et=n,e}function QE(){return et}var Da={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Op(n){if(Lu)throw new Error("");if(et===null)return;et.consumerOnSignalRead(n);let e=et.nextProducerIndex++;if($u(et),e<et.producerNode.length&&et.producerNode[e]!==n&&ba(et)){let t=et.producerNode[e];Bu(t,et.producerIndexOfThis[e])}et.producerNode[e]!==n&&(et.producerNode[e]=n,et.producerIndexOfThis[e]=ba(et)?XE(n,et,e):0),et.producerLastReadVersion[e]=n.version}function $N(){Vu++}function YE(n){if(!(ba(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Vu)){if(!n.producerMustRecompute(n)&&!Fp(n)){n.dirty=!1,n.lastCleanEpoch=Vu;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Vu}}function JE(n){if(n.liveConsumerNode===void 0)return;let e=Lu;Lu=!0;try{for(let t of n.liveConsumerNode)t.dirty||HN(t)}finally{Lu=e}}function ZE(){return et?.consumerAllowSignalWrites!==!1}function HN(n){n.dirty=!0,JE(n),n.consumerMarkedDirty?.(n)}function Uu(n){return n&&(n.nextProducerIndex=0),_e(n)}function kp(n,e){if(_e(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(ba(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Bu(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Fp(n){$u(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(YE(t),r!==t.version))return!0}return!1}function Lp(n){if($u(n),ba(n))for(let e=0;e<n.producerNode.length;e++)Bu(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function XE(n,e,t){if(e0(n),n.liveConsumerNode.length===0&&t0(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=XE(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Bu(n,e){if(e0(n),n.liveConsumerNode.length===1&&t0(n))for(let r=0;r<n.producerNode.length;r++)Bu(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];$u(i),i.producerIndexOfThis[r]=e}}function ba(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function $u(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function e0(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function t0(n){return n.producerNode!==void 0}function n0(n){let e=Object.create(zN);e.computation=n;let t=()=>{if(YE(e),Op(e),e.value===ju)throw e.error;return e.value};return t[er]=e,t}var Np=Symbol("UNSET"),Pp=Symbol("COMPUTING"),ju=Symbol("ERRORED"),zN=pe(L({},Da),{value:Np,dirty:!0,error:null,equal:KE,producerMustRecompute(n){return n.value===Np||n.value===Pp},producerRecomputeValue(n){if(n.value===Pp)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Pp;let t=Uu(n),r;try{r=n.computation()}catch(i){r=ju,n.error=i}finally{kp(n,t)}if(e!==Np&&e!==ju&&r!==ju&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function qN(){throw new Error}var r0=qN;function i0(){r0()}function o0(n){r0=n}var GN=null;function s0(n){let e=Object.create(c0);e.value=n;let t=()=>(Op(e),e.value);return t[er]=e,t}function Vp(n,e){ZE()||i0(),n.equal(n.value,e)||(n.value=e,WN(n))}function a0(n,e){ZE()||i0(),Vp(n,e(n.value))}var c0=pe(L({},Da),{equal:KE,value:void 0});function WN(n){n.version++,$N(),JE(n),GN?.()}function oe(n){return typeof n=="function"}function Do(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Hu=Do(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Si(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ue=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(oe(r))try{r()}catch(o){e=o instanceof Hu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{u0(o)}catch(s){e=e??[],s instanceof Hu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Hu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)u0(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Si(t,e)}remove(e){let{_finalizers:t}=this;t&&Si(t,e),e instanceof n&&e._removeParent(this)}};Ue.EMPTY=(()=>{let n=new Ue;return n.closed=!0,n})();var jp=Ue.EMPTY;function zu(n){return n instanceof Ue||n&&"closed"in n&&oe(n.remove)&&oe(n.add)&&oe(n.unsubscribe)}function u0(n){oe(n)?n():n.unsubscribe()}var fn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Co={setTimeout(n,e,...t){let{delegate:r}=Co;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Co;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function qu(n){Co.setTimeout(()=>{let{onUnhandledError:e}=fn;if(e)e(n);else throw n})}function Ca(){}var l0=Up("C",void 0,void 0);function d0(n){return Up("E",void 0,n)}function h0(n){return Up("N",n,void 0)}function Up(n,e,t){return{kind:n,value:e,error:t}}var Ai=null;function To(n){if(fn.useDeprecatedSynchronousErrorHandling){let e=!Ai;if(e&&(Ai={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Ai;if(Ai=null,t)throw r}}else n()}function f0(n){fn.useDeprecatedSynchronousErrorHandling&&Ai&&(Ai.errorThrown=!0,Ai.error=n)}var xi=class extends Ue{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,zu(e)&&e.add(this)):this.destination=YN}static create(e,t,r){return new So(e,t,r)}next(e){this.isStopped?$p(h0(e),this):this._next(e)}error(e){this.isStopped?$p(d0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?$p(l0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},KN=Function.prototype.bind;function Bp(n,e){return KN.call(n,e)}var Hp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Gu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Gu(r)}else Gu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Gu(t)}}},So=class extends xi{constructor(e,t,r){super();let i;if(oe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&fn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Bp(e.next,o),error:e.error&&Bp(e.error,o),complete:e.complete&&Bp(e.complete,o)}):i=e}this.destination=new Hp(i)}};function Gu(n){fn.useDeprecatedSynchronousErrorHandling?f0(n):qu(n)}function QN(n){throw n}function $p(n,e){let{onStoppedNotification:t}=fn;t&&Co.setTimeout(()=>t(n,e))}var YN={closed:!0,next:Ca,error:QN,complete:Ca};var Ao=typeof Symbol=="function"&&Symbol.observable||"@@observable";function zt(n){return n}function Wu(...n){return zp(n)}function zp(n){return n.length===0?zt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var le=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=ZN(t)?t:new So(t,r,i);return To(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=p0(r),new r((i,o)=>{let s=new So({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ao](){return this}pipe(...t){return zp(t)(this)}toPromise(t){return t=p0(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function p0(n){var e;return(e=n??fn.Promise)!==null&&e!==void 0?e:Promise}function JN(n){return n&&oe(n.next)&&oe(n.error)&&oe(n.complete)}function ZN(n){return n&&n instanceof xi||JN(n)&&zu(n)}function qp(n){return oe(n?.lift)}function Ee(n){return e=>{if(qp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function me(n,e,t,r,i){return new Gp(n,e,t,r,i)}var Gp=class extends xi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function xo(){return Ee((n,e)=>{let t=null;n._refCount++;let r=me(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Ro=class extends le{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,qp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ue;let t=this.getSubject();e.add(this.source.subscribe(me(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ue.EMPTY)}return e}refCount(){return xo()(this)}};var m0=Do(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ht=(()=>{class n extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Ku(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new m0}next(t){To(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){To(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){To(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?jp:(this.currentObservers=null,o.push(t),new Ue(()=>{this.currentObservers=null,Si(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new le;return t.source=this,t}}return n.create=(e,t)=>new Ku(e,t),n})(),Ku=class extends ht{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:jp}};var tt=class extends ht{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Wp={now(){return(Wp.delegate||Date).now()},delegate:void 0};var Qu=class extends Ue{constructor(e,t){super()}schedule(e,t=0){return this}};var Ta={setInterval(n,e,...t){let{delegate:r}=Ta;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ta;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Mo=class extends Qu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Ta.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ta.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Si(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var No=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};No.now=Wp.now;var Po=class extends No{constructor(e,t=No.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Kp=new Po(Mo);var Yu=class extends Mo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Ju=class extends Po{};var Qp=new Ju(Yu);var qt=new le(n=>n.complete());function g0(n){return n&&oe(n.schedule)}function y0(n){return n[n.length-1]}function Zu(n){return oe(y0(n))?n.pop():void 0}function Or(n){return g0(y0(n))?n.pop():void 0}function Yp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function _0(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function v0(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ri(n){return this instanceof Ri?(this.v=n,this):new Ri(n)}function I0(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(T){return Promise.resolve(T).then(y,p)}}function a(y,T){r[y]&&(i[y]=function(N){return new Promise(function(R,V){o.push([y,N,R,V])>1||u(y,N)})},T&&(i[y]=T(i[y])))}function u(y,T){try{l(r[y](T))}catch(N){g(o[0][3],N)}}function l(y){y.value instanceof Ri?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,T){y(T),o.shift(),o.length&&u(o[0][0],o[0][1])}}function w0(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof v0=="function"?v0(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Xu=n=>n&&typeof n.length=="number"&&typeof n!="function";function el(n){return oe(n?.then)}function tl(n){return oe(n[Ao])}function nl(n){return Symbol.asyncIterator&&oe(n?.[Symbol.asyncIterator])}function rl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function XN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var il=XN();function ol(n){return oe(n?.[il])}function sl(n){return I0(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ri(t.read());if(i)return yield Ri(void 0);yield yield Ri(r)}}finally{t.releaseLock()}})}function al(n){return oe(n?.getReader)}function Qe(n){if(n instanceof le)return n;if(n!=null){if(tl(n))return eP(n);if(Xu(n))return tP(n);if(el(n))return nP(n);if(nl(n))return E0(n);if(ol(n))return rP(n);if(al(n))return iP(n)}throw rl(n)}function eP(n){return new le(e=>{let t=n[Ao]();if(oe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function tP(n){return new le(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function nP(n){return new le(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,qu)})}function rP(n){return new le(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function E0(n){return new le(e=>{oP(n,e).catch(t=>e.error(t))})}function iP(n){return E0(sl(n))}function oP(n,e){var t,r,i,o;return _0(this,void 0,void 0,function*(){try{for(t=w0(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Pt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function kr(n,e=0){return Ee((t,r)=>{t.subscribe(me(r,i=>Pt(r,n,()=>r.next(i),e),()=>Pt(r,n,()=>r.complete(),e),i=>Pt(r,n,()=>r.error(i),e)))})}function Fr(n,e=0){return Ee((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function b0(n,e){return Qe(n).pipe(Fr(e),kr(e))}function D0(n,e){return Qe(n).pipe(Fr(e),kr(e))}function C0(n,e){return new le(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function T0(n,e){return new le(t=>{let r;return Pt(t,e,()=>{r=n[il](),Pt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>oe(r?.return)&&r.return()})}function cl(n,e){if(!n)throw new Error("Iterable cannot be null");return new le(t=>{Pt(t,e,()=>{let r=n[Symbol.asyncIterator]();Pt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function S0(n,e){return cl(sl(n),e)}function A0(n,e){if(n!=null){if(tl(n))return b0(n,e);if(Xu(n))return C0(n,e);if(el(n))return D0(n,e);if(nl(n))return cl(n,e);if(ol(n))return T0(n,e);if(al(n))return S0(n,e)}throw rl(n)}function Ie(n,e){return e?A0(n,e):Qe(n)}function Y(...n){let e=Or(n);return Ie(n,e)}function Oo(n,e){let t=oe(n)?n:()=>n,r=i=>i.error(t());return new le(e?i=>e.schedule(r,0,i):r)}function Jp(n){return!!n&&(n instanceof le||oe(n.lift)&&oe(n.subscribe))}var tr=Do(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ee(n,e){return Ee((t,r)=>{let i=0;t.subscribe(me(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:sP}=Array;function aP(n,e){return sP(e)?n(...e):n(e)}function ul(n){return ee(e=>aP(n,e))}var{isArray:cP}=Array,{getPrototypeOf:uP,prototype:lP,keys:dP}=Object;function ll(n){if(n.length===1){let e=n[0];if(cP(e))return{args:e,keys:null};if(hP(e)){let t=dP(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function hP(n){return n&&typeof n=="object"&&uP(n)===lP}function dl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Sa(...n){let e=Or(n),t=Zu(n),{args:r,keys:i}=ll(n);if(r.length===0)return Ie([],e);let o=new le(fP(r,e,i?s=>dl(i,s):zt));return t?o.pipe(ul(t)):o}function fP(n,e,t=zt){return r=>{x0(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)x0(e,()=>{let l=Ie(n[u],e),h=!1;l.subscribe(me(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function x0(n,e,t){n?Pt(t,n,e):e()}function R0(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?T(N):u.push(N),T=N=>{o&&e.next(N),l++;let R=!1;Qe(t(N,h++)).subscribe(me(e,V=>{i?.(V),o?y(V):e.next(V)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let V=u.shift();s?Pt(e,s,()=>T(V)):T(V)}g()}catch(V){e.error(V)}}))};return n.subscribe(me(e,y,()=>{p=!0,g()})),()=>{a?.()}}function Ye(n,e,t=1/0){return oe(e)?Ye((r,i)=>ee((o,s)=>e(r,o,i,s))(Qe(n(r,i))),t):(typeof e=="number"&&(t=e),Ee((r,i)=>R0(r,i,n,t)))}function ko(n=1/0){return Ye(zt,n)}function M0(){return ko(1)}function Fo(...n){return M0()(Ie(n,Or(n)))}function hl(n){return new le(e=>{Qe(n()).subscribe(e)})}function Zp(...n){let e=Zu(n),{args:t,keys:r}=ll(n),i=new le(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Qe(t[h]).subscribe(me(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?dl(r,a):a),o.complete())}))}});return e?i.pipe(ul(e)):i}function At(n,e){return Ee((t,r)=>{let i=0;t.subscribe(me(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Lr(n){return Ee((e,t)=>{let r=null,i=!1,o;r=e.subscribe(me(t,void 0,void 0,s=>{o=Qe(n(s,Lr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function N0(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(me(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function nr(n,e){return oe(e)?Ye(n,e,1):Ye(n,1)}function Vr(n){return Ee((e,t)=>{let r=!1;e.subscribe(me(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function rr(n){return n<=0?()=>qt:Ee((e,t)=>{let r=0;e.subscribe(me(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Xp(n){return ee(()=>n)}function fl(n=pP){return Ee((e,t)=>{let r=!1;e.subscribe(me(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function pP(){return new tr}function Mi(n){return Ee((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function pn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?At((i,o)=>n(i,o,r)):zt,rr(1),t?Vr(e):fl(()=>new tr))}function Lo(n){return n<=0?()=>qt:Ee((e,t)=>{let r=[];e.subscribe(me(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function em(n,e){let t=arguments.length>=2;return r=>r.pipe(n?At((i,o)=>n(i,o,r)):zt,Lo(1),t?Vr(e):fl(()=>new tr))}function pl(n,e){return Ee(N0(n,e,arguments.length>=2,!0))}function ml(...n){let e=Or(n);return Ee((t,r)=>{(e?Fo(n,t,e):Fo(n,t)).subscribe(r)})}function Ot(n,e){return Ee((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(me(r,u=>{i?.unsubscribe();let l=0,h=o++;Qe(n(u,h)).subscribe(i=me(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function tm(n){return Ee((e,t)=>{Qe(n).subscribe(me(t,()=>t.complete(),Ca)),!t.closed&&e.subscribe(t)})}function We(n,e,t){let r=oe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ee((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(me(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):zt}var gb="https://g.co/ng/security#xss",G=class extends Error{constructor(e,t){super(nd(e,t)),this.code=e}};function nd(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Va(n){return{toString:n}.toString()}var gl="__parameters__";function mP(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function yb(n,e,t){return Va(()=>{let r=mP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(gl)?u[gl]:Object.defineProperty(u,gl,{value:[]})[gl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var qr=globalThis;function Ne(n){for(let e in n)if(n[e]===Ne)return e;throw Error("Could not find renamed property on target object.")}function gP(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Rt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Rt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function P0(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var yP=Ne({__forward_ref__:Ne});function xn(n){return n.__forward_ref__=xn,n.toString=function(){return Rt(this())},n}function xt(n){return vb(n)?n():n}function vb(n){return typeof n=="function"&&n.hasOwnProperty(yP)&&n.__forward_ref__===xn}function U(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Rn(n){return{providers:n.providers||[],imports:n.imports||[]}}function rd(n){return O0(n,Ib)||O0(n,wb)}function _b(n){return rd(n)!==null}function O0(n,e){return n.hasOwnProperty(e)?n[e]:null}function vP(n){let e=n&&(n[Ib]||n[wb]);return e||null}function k0(n){return n&&(n.hasOwnProperty(F0)||n.hasOwnProperty(_P))?n[F0]:null}var Ib=Ne({\u0275prov:Ne}),F0=Ne({\u0275inj:Ne}),wb=Ne({ngInjectableDef:Ne}),_P=Ne({ngInjectorDef:Ne}),$=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=U({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Eb(n){return n&&!!n.\u0275providers}var IP=Ne({\u0275cmp:Ne}),wP=Ne({\u0275dir:Ne}),EP=Ne({\u0275pipe:Ne}),bP=Ne({\u0275mod:Ne}),Sl=Ne({\u0275fac:Ne}),Ra=Ne({__NG_ELEMENT_ID__:Ne}),L0=Ne({__NG_ENV_ID__:Ne});function cg(n){return typeof n=="string"?n:n==null?"":String(n)}function DP(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():cg(n)}function CP(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new G(-200,n)}function ug(n,e){throw new G(-201,!1)}var de=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(de||{}),ym;function bb(){return ym}function kt(n){let e=ym;return ym=n,e}function Db(n,e,t){let r=rd(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&de.Optional)return null;if(e!==void 0)return e;ug(n,"Injector")}var TP={},Ma=TP,vm="__NG_DI_FLAG__",Al="ngTempTokenPath",SP="ngTokenPath",AP=/\n/gm,xP="\u0275",V0="__source",$o;function RP(){return $o}function jr(n){let e=$o;return $o=n,e}function MP(n,e=de.Default){if($o===void 0)throw new G(-203,!1);return $o===null?Db(n,void 0,e):$o.get(n,e&de.Optional?null:void 0,e)}function z(n,e=de.Default){return(bb()||MP)(xt(n),e)}function P(n,e=de.Default){return z(n,id(e))}function id(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function _m(n){let e=[];for(let t=0;t<n.length;t++){let r=xt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new G(900,!1);let i,o=de.Default;for(let s=0;s<r.length;s++){let a=r[s],u=NP(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(z(i,o))}else e.push(z(r))}return e}function Cb(n,e){return n[vm]=e,n.prototype[vm]=e,n}function NP(n){return n[vm]}function PP(n,e,t,r){let i=n[Al];throw e[V0]&&i.unshift(e[V0]),n.message=OP(`
`+n.message,i,t,r),n[SP]=i,n[Al]=null,n}function OP(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==xP?n.slice(2):n;let i=Rt(e);if(Array.isArray(e))i=e.map(Rt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Rt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(AP,`
  `)}`}var It=Cb(yb("Optional"),8);var lg=Cb(yb("SkipSelf"),4);function Pi(n,e){let t=n.hasOwnProperty(Sl);return t?n[Sl]:null}function dg(n,e){n.forEach(t=>Array.isArray(t)?dg(t,e):e(t))}function Tb(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function xl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function kP(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function FP(n,e,t){let r=ja(n,e);return r>=0?n[r|1]=t:(r=~r,kP(n,r,e,t)),r}function nm(n,e){let t=ja(n,e);if(t>=0)return n[t|1]}function ja(n,e){return LP(n,e,1)}function LP(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var zo={},Gt=[],Oi=new $(""),Sb=new $("",-1),Ab=new $(""),Rl=class{get(e,t=Ma){if(t===Ma){let r=new Error(`NullInjectorError: No provider for ${Rt(e)}!`);throw r.name="NullInjectorError",r}return t}},xb=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(xb||{}),Tn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Tn||{}),Br=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Br||{});function VP(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Im(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];UP(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function jP(n){return n===3||n===4||n===6}function UP(n){return n.charCodeAt(0)===64}function Na(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?j0(n,t,i,null,e[++r]):j0(n,t,i,null,null))}}return n}function j0(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var Rb="ng-template";function BP(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&VP(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(hg(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function hg(n){return n.type===4&&n.value!==Rb}function $P(n,e,t){let r=n.type===4&&!t?Rb:n.value;return e===r}function HP(n,e,t){let r=4,i=n.attrs,o=i!==null?GP(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!mn(r)&&!mn(u))return!1;if(s&&mn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!$P(n,u,t)||u===""&&e.length===1){if(mn(r))return!1;s=!0}}else if(r&8){if(i===null||!BP(n,i,u,t)){if(mn(r))return!1;s=!0}}else{let l=e[++a],h=zP(u,i,hg(n),t);if(h===-1){if(mn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(mn(r))return!1;s=!0}}}}return mn(r)||s}function mn(n){return(n&1)===0}function zP(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return WP(e,n)}function qP(n,e,t=!1){for(let r=0;r<e.length;r++)if(HP(n,e[r],t))return!0;return!1}function GP(n){for(let e=0;e<n.length;e++){let t=n[e];if(jP(t))return e}return n.length}function WP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function U0(n,e){return n?":not("+e.trim()+")":e}function KP(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!mn(s)&&(e+=U0(o,i),i=""),r=s,o=o||!mn(r);t++}return i!==""&&(e+=U0(o,i)),e}function QP(n){return n.map(KP).join(",")}function YP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!mn(i))break;i=o}r++}return{attrs:e,classes:t}}function Be(n){return Va(()=>{let e=Fb(n),t=pe(L({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===xb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Tn.Emulated,styles:n.styles||Gt,_:null,schemas:n.schemas||null,tView:null,id:""});Lb(t);let r=n.dependencies;return t.directiveDefs=$0(r,!1),t.pipeDefs=$0(r,!0),t.id=XP(t),t})}function JP(n){return $r(n)||Nb(n)}function ZP(n){return n!==null}function Mn(n){return Va(()=>({type:n.type,bootstrap:n.bootstrap||Gt,declarations:n.declarations||Gt,imports:n.imports||Gt,exports:n.exports||Gt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function B0(n,e){if(n==null)return zo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Br.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Br.None?[r,a]:r,e[o]=s):t[o]=r}return t}function Je(n){return Va(()=>{let e=Fb(n);return Lb(e),e})}function Mb(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function $r(n){return n[IP]||null}function Nb(n){return n[wP]||null}function Pb(n){return n[EP]||null}function Ob(n){let e=$r(n)||Nb(n)||Pb(n);return e!==null?e.standalone:!1}function kb(n,e){let t=n[bP]||null;if(!t&&e===!0)throw new Error(`Type ${Rt(n)} does not have '\u0275mod' property.`);return t}function Fb(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||zo,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Gt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:B0(n.inputs,e),outputs:B0(n.outputs),debugInfo:null}}function Lb(n){n.features?.forEach(e=>e(n))}function $0(n,e){if(!n)return null;let t=e?Pb:JP;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(ZP)}function XP(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Lt(n){return{\u0275providers:n}}function eO(...n){return{\u0275providers:Vb(!0,n),\u0275fromNgModule:!0}}function Vb(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return dg(e,s=>{let a=s;wm(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&jb(i,o),t}function jb(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];fg(i,o=>{e(o,r)})}}function wm(n,e,t,r){if(n=xt(n),!n)return!1;let i=null,o=k0(n),s=!o&&$r(n);if(!o&&!s){let u=n.ngModule;if(o=k0(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)wm(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{dg(o.imports,h=>{wm(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&jb(l,e)}if(!a){let l=Pi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Gt},i),e({provide:Ab,useValue:i,multi:!0},i),e({provide:Oi,useValue:()=>z(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;fg(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function fg(n,e){for(let t of n)Eb(t)&&(t=t.\u0275providers),Array.isArray(t)?fg(t,e):e(t)}var tO=Ne({provide:String,useValue:Ne});function Ub(n){return n!==null&&typeof n=="object"&&tO in n}function nO(n){return!!(n&&n.useExisting)}function rO(n){return!!(n&&n.useFactory)}function qo(n){return typeof n=="function"}function iO(n){return!!n.useClass}var od=new $(""),El={},oO={},rm;function pg(){return rm===void 0&&(rm=new Rl),rm}var Mt=class{},Pa=class extends Mt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bm(e,s=>this.processProvider(s)),this.records.set(Sb,Vo(void 0,this)),i.has("environment")&&this.records.set(Mt,Vo(void 0,this));let o=this.records.get(od);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ab,Gt,de.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=_e(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_e(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=jr(this),r=kt(void 0),i;try{return e()}finally{jr(t),kt(r)}}get(e,t=Ma,r=de.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(L0))return e[L0](this);r=id(r);let i,o=jr(this),s=kt(void 0);try{if(!(r&de.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=lO(e)&&rd(e);l&&this.injectableDefInScope(l)?u=Vo(Em(e),El):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&de.Self?pg():this.parent;return t=r&de.Optional&&t===Ma?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Al]=a[Al]||[]).unshift(Rt(e)),o)throw a;return PP(a,e,"R3InjectorError",this.source)}else throw a}finally{kt(s),jr(o)}}resolveInjectorInitializers(){let e=_e(null),t=jr(this),r=kt(void 0),i;try{let o=this.get(Oi,Gt,de.Self);for(let s of o)s()}finally{jr(t),kt(r),_e(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Rt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new G(205,!1)}processProvider(e){e=xt(e);let t=qo(e)?e:xt(e&&e.provide),r=aO(e);if(!qo(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Vo(void 0,El,!0),i.factory=()=>_m(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=_e(null);try{return t.value===El&&(t.value=oO,t.value=t.factory()),typeof t.value=="object"&&t.value&&uO(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{_e(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=xt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Em(n){let e=rd(n),t=e!==null?e.factory:Pi(n);if(t!==null)return t;if(n instanceof $)throw new G(204,!1);if(n instanceof Function)return sO(n);throw new G(204,!1)}function sO(n){if(n.length>0)throw new G(204,!1);let t=vP(n);return t!==null?()=>t.factory(n):()=>new n}function aO(n){if(Ub(n))return Vo(void 0,n.useValue);{let e=Bb(n);return Vo(e,El)}}function Bb(n,e,t){let r;if(qo(n)){let i=xt(n);return Pi(i)||Em(i)}else if(Ub(n))r=()=>xt(n.useValue);else if(rO(n))r=()=>n.useFactory(..._m(n.deps||[]));else if(nO(n))r=()=>z(xt(n.useExisting));else{let i=xt(n&&(n.useClass||n.provide));if(cO(n))r=()=>new i(..._m(n.deps));else return Pi(i)||Em(i)}return r}function Vo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function cO(n){return!!n.deps}function uO(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function lO(n){return typeof n=="function"||typeof n=="object"&&n instanceof $}function bm(n,e){for(let t of n)Array.isArray(t)?bm(t,e):t&&Eb(t)?bm(t.\u0275providers,e):e(t)}function on(n,e){n instanceof Pa&&n.assertNotDestroyed();let t,r=jr(n),i=kt(void 0);try{return e()}finally{jr(r),kt(i)}}function $b(){return bb()!==void 0||RP()!=null}function dO(n){if(!$b())throw new G(-203,!1)}function hO(n){return typeof n=="function"}var Wt=0,ae=1,re=2,_t=3,gn=4,_n=5,Sn=6,Ml=7,nn=8,Go=9,An=10,Le=11,Oa=12,H0=13,ts=14,rn=15,Wo=16,jo=17,Ko=18,sd=19,Hb=20,Ur=21,im=22,tn=23,nt=25,zb=1,ka=6,ir=7,Nl=8,Pl=9,Ft=10,Ol=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Ol||{});function yn(n){return Array.isArray(n)&&typeof n[zb]=="object"}function Nn(n){return Array.isArray(n)&&n[zb]===!0}function qb(n){return(n.flags&4)!==0}function Ua(n){return n.componentOffset>-1}function mg(n){return(n.flags&1)===1}function Hr(n){return!!n.template}function kl(n){return(n[re]&512)!==0}var Dm=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Gb(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Gr(){return Wb}function Wb(n){return n.type.prototype.ngOnChanges&&(n.setInput=pO),fO}Gr.ngInherit=!0;function fO(){let n=Qb(this),e=n?.current;if(e){let t=n.previous;if(t===zo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function pO(n,e,t,r,i){let o=this.declaredInputs[r],s=Qb(n)||mO(n,{previous:zo,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Dm(l&&l.currentValue,t,u===zo),Gb(n,e,i,t)}var Kb="__ngSimpleChanges__";function Qb(n){return n[Kb]||null}function mO(n,e){return n[Kb]=e}var z0=null;var Dn=function(n,e,t){z0?.(n,e,t)},gO="svg",yO="math";function vn(n){for(;Array.isArray(n);)n=n[Wt];return n}function Yb(n,e){return vn(e[n])}function sn(n,e){return vn(e[n.index])}function gg(n,e){return n.data[e]}function Jb(n,e){return n[e]}function Wr(n,e){let t=e[n];return yn(t)?t:t[Wt]}function yg(n){return(n[re]&128)===128}function vO(n){return Nn(n[_t])}function Fl(n,e){return e==null?null:n[e]}function Zb(n){n[jo]=0}function Xb(n){n[re]&1024||(n[re]|=1024,yg(n)&&cd(n))}function _O(n,e){for(;n>0;)e=e[ts],n--;return e}function ad(n){return!!(n[re]&9216||n[tn]?.dirty)}function Cm(n){n[An].changeDetectionScheduler?.notify(8),n[re]&64&&(n[re]|=1024),ad(n)&&cd(n)}function cd(n){n[An].changeDetectionScheduler?.notify(0);let e=ki(n);for(;e!==null&&!(e[re]&8192||(e[re]|=8192,!yg(e)));)e=ki(e)}function eD(n,e){if((n[re]&256)===256)throw new G(911,!1);n[Ur]===null&&(n[Ur]=[]),n[Ur].push(e)}function IO(n,e){if(n[Ur]===null)return;let t=n[Ur].indexOf(e);t!==-1&&n[Ur].splice(t,1)}function ki(n){let e=n[_t];return Nn(e)?e[_t]:e}var he={lFrame:uD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var tD=!1;function wO(){return he.lFrame.elementDepthCount}function EO(){he.lFrame.elementDepthCount++}function bO(){he.lFrame.elementDepthCount--}function nD(){return he.bindingsEnabled}function Ba(){return he.skipHydrationRootTNode!==null}function DO(n){return he.skipHydrationRootTNode===n}function CO(n){he.skipHydrationRootTNode=n}function TO(){he.skipHydrationRootTNode=null}function Re(){return he.lFrame.lView}function Vt(){return he.lFrame.tView}function st(n){return he.lFrame.contextLView=n,n[nn]}function at(n){return he.lFrame.contextLView=null,n}function jt(){let n=rD();for(;n!==null&&n.type===64;)n=n.parent;return n}function rD(){return he.lFrame.currentTNode}function SO(){let n=he.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function $a(n,e){let t=he.lFrame;t.currentTNode=n,t.isParent=e}function iD(){return he.lFrame.isParent}function AO(){he.lFrame.isParent=!1}function xO(){return he.lFrame.contextLView}function oD(){return tD}function q0(n){tD=n}function RO(){let n=he.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function MO(n){return he.lFrame.bindingIndex=n}function ud(){return he.lFrame.bindingIndex++}function NO(n){let e=he.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function PO(){return he.lFrame.inI18n}function OO(n,e){let t=he.lFrame;t.bindingIndex=t.bindingRootIndex=n,Tm(e)}function kO(){return he.lFrame.currentDirectiveIndex}function Tm(n){he.lFrame.currentDirectiveIndex=n}function FO(n){let e=he.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function sD(n){he.lFrame.currentQueryIndex=n}function LO(n){let e=n[ae];return e.type===2?e.declTNode:e.type===1?n[_n]:null}function aD(n,e,t){if(t&de.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&de.Host);)if(i=LO(o),i===null||(o=o[ts],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=he.lFrame=cD();return r.currentTNode=e,r.lView=n,!0}function vg(n){let e=cD(),t=n[ae];he.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function cD(){let n=he.lFrame,e=n===null?null:n.child;return e===null?uD(n):e}function uD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function lD(){let n=he.lFrame;return he.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var dD=lD;function _g(){let n=lD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function VO(n){return(he.lFrame.contextLView=_O(n,he.lFrame.contextLView))[nn]}function ns(){return he.lFrame.selectedIndex}function Fi(n){he.lFrame.selectedIndex=n}function Ig(){let n=he.lFrame;return gg(n.tView,n.selectedIndex)}function hD(){return he.lFrame.currentNamespace}var fD=!0;function wg(){return fD}function Kr(n){fD=n}function jO(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Wb(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Eg(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function bl(n,e,t){pD(n,e,3,t)}function Dl(n,e,t,r){(n[re]&3)===t&&pD(n,e,t,r)}function om(n,e){let t=n[re];(t&3)===e&&(t&=16383,t+=1,n[re]=t)}function pD(n,e,t,r){let i=r!==void 0?n[jo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[jo]+=65536),(a<o||o==-1)&&(UO(n,t,e,u),n[jo]=(n[jo]&4294901760)+u+2),u++}function G0(n,e){Dn(4,n,e);let t=_e(null);try{e.call(n)}finally{_e(t),Dn(5,n,e)}}function UO(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[re]>>14<n[jo]>>16&&(n[re]&3)===e&&(n[re]+=16384,G0(a,o)):G0(a,o)}var Ho=-1,Li=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function BO(n){return n instanceof Li}function $O(n){return(n.flags&8)!==0}function HO(n){return(n.flags&16)!==0}var sm={},Sm=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=id(r);let i=this.injector.get(e,sm,r);return i!==sm||t===sm?i:this.parentInjector.get(e,t,r)}};function mD(n){return n!==Ho}function Ll(n){return n&32767}function zO(n){return n>>16}function Vl(n,e){let t=zO(n),r=e;for(;t>0;)r=r[ts],t--;return r}var Am=!0;function jl(n){let e=Am;return Am=n,e}var qO=256,gD=qO-1,yD=5,GO=0,Cn={};function WO(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ra)&&(r=t[Ra]),r==null&&(r=t[Ra]=GO++);let i=r&gD,o=1<<i;e.data[n+(i>>yD)]|=o}function Ul(n,e){let t=vD(n,e);if(t!==-1)return t;let r=e[ae];r.firstCreatePass&&(n.injectorIndex=e.length,am(r.data,n),am(e,null),am(r.blueprint,null));let i=bg(n,e),o=n.injectorIndex;if(mD(i)){let s=Ll(i),a=Vl(i,e),u=a[ae].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function am(n,e){n.push(0,0,0,0,0,0,0,0,e)}function vD(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function bg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=bD(i),r===null)return Ho;if(t++,i=i[ts],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ho}function xm(n,e,t){WO(n,e,t)}function _D(n,e,t){if(t&de.Optional||n!==void 0)return n;ug(e,"NodeInjector")}function ID(n,e,t,r){if(t&de.Optional&&r===void 0&&(r=null),!(t&(de.Self|de.Host))){let i=n[Go],o=kt(void 0);try{return i?i.get(e,r,t&de.Optional):Db(e,r,t&de.Optional)}finally{kt(o)}}return _D(r,e,t)}function wD(n,e,t,r=de.Default,i){if(n!==null){if(e[re]&2048&&!(r&de.Self)){let s=ZO(n,e,t,r,Cn);if(s!==Cn)return s}let o=ED(n,e,t,r,Cn);if(o!==Cn)return o}return ID(e,t,r,i)}function ED(n,e,t,r,i){let o=YO(t);if(typeof o=="function"){if(!aD(e,n,r))return r&de.Host?_D(i,t,r):ID(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&de.Optional))ug(t);else return s}finally{dD()}}else if(typeof o=="number"){let s=null,a=vD(n,e),u=Ho,l=r&de.Host?e[rn][_n]:null;for((a===-1||r&de.SkipSelf)&&(u=a===-1?bg(n,e):e[a+8],u===Ho||!K0(r,!1)?a=-1:(s=e[ae],a=Ll(u),e=Vl(u,e)));a!==-1;){let h=e[ae];if(W0(o,a,h.data)){let p=KO(a,e,t,s,r,l);if(p!==Cn)return p}u=e[a+8],u!==Ho&&K0(r,e[ae].data[a+8]===l)&&W0(o,a,e)?(s=h,a=Ll(u),e=Vl(u,e)):a=-1}}return i}function KO(n,e,t,r,i,o){let s=e[ae],a=s.data[n+8],u=r==null?Ua(a)&&Am:r!=s&&(a.type&3)!==0,l=i&de.Host&&o===a,h=QO(a,s,t,u,l);return h!==null?Qo(e,s,h,a):Cn}function QO(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let T=s[y];if(y<u&&t===T||y>=u&&T.type===t)return y}if(i){let y=s[u];if(y&&Hr(y)&&y.type===t)return u}return null}function Qo(n,e,t,r){let i=n[t],o=e.data;if(BO(i)){let s=i;s.resolving&&CP(DP(o[t]));let a=jl(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?kt(s.injectImpl):null,h=aD(n,r,de.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&jO(t,o[t],e)}finally{l!==null&&kt(l),jl(a),s.resolving=!1,dD()}}return i}function YO(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ra)?n[Ra]:void 0;return typeof e=="number"?e>=0?e&gD:JO:e}function W0(n,e,t){let r=1<<n;return!!(t[e+(n>>yD)]&r)}function K0(n,e){return!(n&de.Self)&&!(n&de.Host&&e)}var Ni=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return wD(this._tNode,this._lView,e,id(r),t)}};function JO(){return new Ni(jt(),Re())}function Qr(n){return Va(()=>{let e=n.prototype.constructor,t=e[Sl]||Rm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Sl]||Rm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Rm(n){return vb(n)?()=>{let e=Rm(xt(n));return e&&e()}:Pi(n)}function ZO(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[re]&2048&&!(s[re]&512);){let a=ED(o,s,t,r|de.Self,Cn);if(a!==Cn)return a;let u=o.parent;if(!u){let l=s[Hb];if(l){let h=l.get(t,Cn,r);if(h!==Cn)return h}u=bD(s),s=s[ts]}o=u}return i}function bD(n){let e=n[ae],t=e.type;return t===2?e.declTNode:t===1?n[_n]:null}function Q0(n,e=null,t=null,r){let i=DD(n,e,t,r);return i.resolveInjectorInitializers(),i}function DD(n,e=null,t=null,r,i=new Set){let o=[t||Gt,eO(n)];return r=r||(typeof n=="object"?void 0:Rt(n)),new Pa(o,e||pg(),r||null,i)}var ot=class n{static{this.THROW_IF_NOT_FOUND=Ma}static{this.NULL=new Rl}static create(e,t){if(Array.isArray(e))return Q0({name:""},t,e,"");{let r=e.name??"";return Q0({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=U({token:n,providedIn:"any",factory:()=>z(Sb)})}static{this.__NG_ELEMENT_ID__=-1}};var XO=new $("");XO.__NG_ELEMENT_ID__=n=>{let e=jt();if(e===null)throw new G(204,!1);if(e.type&2)return e.value;if(n&de.Optional)return null;throw new G(204,!1)};var e1="ngOriginalError";function cm(n){return n[e1]}var CD=!0,Dg=(()=>{class n{static{this.__NG_ELEMENT_ID__=t1}static{this.__NG_ENV_ID__=t=>t}}return n})(),Mm=class extends Dg{constructor(e){super(),this._lView=e}onDestroy(e){return eD(this._lView,e),()=>IO(this._lView,e)}};function t1(){return new Mm(Re())}var Yr=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new tt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Nm=class extends ht{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,$b()&&(this.destroyRef=P(Dg,{optional:!0})??void 0,this.pendingTasks=P(Yr,{optional:!0})??void 0)}emit(e){let t=_e(null);try{super.next(e)}finally{_e(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ue&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Fe=Nm;function Bl(...n){}function TD(n){let e,t;function r(){n=Bl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Y0(n){return queueMicrotask(()=>n()),()=>{n=Bl}}var Cg="isAngularZone",$l=Cg+"_ID",n1=0,ge=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=CD}=e;if(typeof Zone>"u")throw new G(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,o1(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Cg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new G(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new G(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,r1,Bl,Bl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},r1={};function Tg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function i1(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){TD(()=>{n.callbackScheduled=!1,Pm(n),n.isCheckStableRunning=!0,Tg(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Pm(n)}function o1(n){let e=()=>{i1(n)},t=n1++;n._inner=n._inner.fork({name:"angular",properties:{[Cg]:!0,[$l]:t,[$l+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(s1(u))return r.invokeTask(o,s,a,u);try{return J0(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Z0(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return J0(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!a1(u)&&e(),Z0(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Pm(n),Tg(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Pm(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function J0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Z0(n){n._nesting--,Tg(n)}var Om=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fe,this.onMicrotaskEmpty=new Fe,this.onStable=new Fe,this.onError=new Fe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function s1(n){return SD(n,"__ignore_ng_zone__")}function a1(n){return SD(n,"__scheduler_tick__")}function SD(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var or=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&cm(e);for(;t&&cm(t);)t=cm(t);return t||null}},c1=new $("",{providedIn:"root",factory:()=>{let n=P(ge),e=P(or);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function u1(){return ld(jt(),Re())}function ld(n,e){return new cr(sn(n,e))}var cr=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=u1}}return n})();var l1="ngSkipHydration",d1="ngskiphydration";function AD(n){let e=n.mergedAttrs;if(e===null)return!1;for(let t=0;t<e.length;t+=2){let r=e[t];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===d1)return!0}return!1}function xD(n){return n.hasAttribute(l1)}function Hl(n){return(n.flags&128)===128}function h1(n){if(Hl(n))return!0;let e=n.parent;for(;e;){if(Hl(n)||AD(e))return!0;e=e.parent}return!1}var RD=new Map,f1=0;function p1(){return f1++}function m1(n){RD.set(n[sd],n)}function km(n){RD.delete(n[sd])}var X0="__ngContext__";function Vi(n,e){yn(e)?(n[X0]=e[sd],m1(e)):n[X0]=e}function MD(n){return PD(n[Oa])}function ND(n){return PD(n[gn])}function PD(n){for(;n!==null&&!Nn(n);)n=n[gn];return n}var Fm;function OD(n){Fm=n}function dd(){if(Fm!==void 0)return Fm;if(typeof document<"u")return document;throw new G(210,!1)}var hd=new $("",{providedIn:"root",factory:()=>g1}),g1="ng",Sg=new $(""),Ut=new $("",{providedIn:"platform",factory:()=>"unknown"});var Ag=new $("",{providedIn:"root",factory:()=>dd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function y1(){let n=new rs;return P(Ut)==="browser"&&(n.store=v1(dd(),P(hd))),n}var rs=(()=>{class n{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=U({token:n,providedIn:"root",factory:y1})}get(t,r){return this.store[t]!==void 0?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(let t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();function v1(n,e){let t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var kD="h",FD="b",Lm=function(n){return n.FirstChild="f",n.NextSibling="n",n}(Lm||{}),_1="e",I1="t",xg="c",LD="x",zl="r",w1="i",E1="n",VD="d";var b1="__nghData__",jD=b1,um="ngh",D1="nghm",UD=()=>null;function C1(n,e,t=!1){let r=n.getAttribute(um);if(r==null)return null;let[i,o]=r.split("|");if(r=t?o:i,!r)return null;let s=o?`|${o}`:"",a=t?i:s,u={};if(r!==""){let h=e.get(rs,null,{optional:!0});h!==null&&(u=h.get(jD,[])[Number(r)])}let l={data:u,firstChild:n.firstChild??null};return t&&(l.firstChild=n,fd(l,0,n.nextSibling)),a?n.setAttribute(um,a):n.removeAttribute(um),l}function T1(){UD=C1}function Rg(n,e,t=!1){return UD(n,e,t)}function S1(n){let e=n._lView;return e[ae].type===2?null:(kl(e)&&(e=e[nt]),e)}function A1(n){return n.textContent?.replace(/\s/gm,"")}function x1(n){let e=dd(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=A1(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=t.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function fd(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function Vm(n,e){return n.segmentHeads?.[e]??null}function R1(n,e){let t=n.data,r=t[_1]?.[e]??null;return r===null&&t[xg]?.[e]&&(r=Mg(n,e)),r}function BD(n,e){return n.data[xg]?.[e]??null}function Mg(n,e){let t=BD(n,e)??[],r=0;for(let i of t)r+=i[zl]*(i[LD]??1);return r}function M1(n){if(typeof n.disconnectedNodes>"u"){let e=n.data[VD];n.disconnectedNodes=e?new Set(e):null}return n.disconnectedNodes}function Ha(n,e){if(typeof n.disconnectedNodes>"u"){let t=n.data[VD];n.disconnectedNodes=t?new Set(t):null}return!!M1(n)?.has(e)}var yl=new $(""),$D=!1,HD=new $("",{providedIn:"root",factory:()=>$D});var ql=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gb})`}};function pd(n){return n instanceof ql?n.changingThisBreaksApplicationSecurity:n}function zD(n,e){let t=N1(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${gb})`)}return t===e}function N1(n){return n instanceof ql&&n.getTypeName()||null}var P1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function qD(n){return n=String(n),n.match(P1)?n:"unsafe:"+n}var Ng=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Ng||{});function za(n){let e=O1();return e?e.sanitize(Ng.URL,n)||"":zD(n,"URL")?pd(n):qD(cg(n))}function O1(){let n=Re();return n&&n[An].sanitizer}var k1=/^>|^->|<!--|-->|--!>|<!-$/g,F1=/(<|>)/g,L1="\u200B$1\u200B";function V1(n){return n.replace(k1,e=>e.replace(F1,L1))}function GD(n){return n.ownerDocument.defaultView}function j1(n){return n.ownerDocument.body}function WD(n){return n instanceof Function?n():n}function Aa(n){return(n??P(ot)).get(Ut)==="browser"}var sr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(sr||{}),U1;function Pg(n,e){return U1(n,e)}function Uo(n,e,t,r,i){if(r!=null){let o,s=!1;Nn(r)?o=r:yn(r)&&(s=!0,r=r[Wt]);let a=vn(r);n===0&&t!==null?i==null?ZD(e,t,a):Wl(e,t,a,i||null,!0):n===1&&t!==null?Wl(e,t,a,i||null,!0):n===2?Vg(e,a,s):n===3&&e.destroyNode(a),o!=null&&tk(e,n,o,t,i)}}function KD(n,e){return n.createText(e)}function B1(n,e,t){n.setValue(e,t)}function QD(n,e){return n.createComment(V1(e))}function Og(n,e,t){return n.createElement(e,t)}function $1(n,e){YD(n,e),e[Wt]=null,e[_n]=null}function H1(n,e,t,r,i,o){r[Wt]=i,r[_n]=e,md(n,r,t,1,i,o)}function YD(n,e){e[An].changeDetectionScheduler?.notify(9),md(n,e,e[Le],2,null,null)}function z1(n){let e=n[Oa];if(!e)return lm(n[ae],n);for(;e;){let t=null;if(yn(e))t=e[Oa];else{let r=e[Ft];r&&(t=r)}if(!t){for(;e&&!e[gn]&&e!==n;)yn(e)&&lm(e[ae],e),e=e[_t];e===null&&(e=n),yn(e)&&lm(e[ae],e),t=e&&e[gn]}e=t}}function q1(n,e,t,r){let i=Ft+r,o=t.length;r>0&&(t[i-1][gn]=e),r<o-Ft?(e[gn]=t[i],Tb(t,Ft+r,e)):(t.push(e),e[gn]=null),e[_t]=t;let s=e[Wo];s!==null&&t!==s&&JD(s,e);let a=e[Ko];a!==null&&a.insertView(n),Cm(e),e[re]|=128}function JD(n,e){let t=n[Pl],r=e[_t];if(yn(r))n[re]|=Ol.HasTransplantedViews;else{let i=r[_t][rn];e[rn]!==i&&(n[re]|=Ol.HasTransplantedViews)}t===null?n[Pl]=[e]:t.push(e)}function kg(n,e){let t=n[Pl],r=t.indexOf(e);t.splice(r,1)}function Gl(n,e){if(n.length<=Ft)return;let t=Ft+e,r=n[t];if(r){let i=r[Wo];i!==null&&i!==n&&kg(i,r),e>0&&(n[t-1][gn]=r[gn]);let o=xl(n,Ft+e);$1(r[ae],r);let s=o[Ko];s!==null&&s.detachView(o[ae]),r[_t]=null,r[gn]=null,r[re]&=-129}return r}function Fg(n,e){if(!(e[re]&256)){let t=e[Le];t.destroyNode&&md(n,e,t,3,null,null),z1(e)}}function lm(n,e){if(e[re]&256)return;let t=_e(null);try{e[re]&=-129,e[re]|=256,e[tn]&&Lp(e[tn]),W1(n,e),G1(n,e),e[ae].type===1&&e[Le].destroy();let r=e[Wo];if(r!==null&&Nn(e[_t])){r!==e[_t]&&kg(r,e);let i=e[Ko];i!==null&&i.detachView(n)}km(e)}finally{_e(t)}}function G1(n,e){let t=n.cleanup,r=e[Ml];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[Ml]=null);let i=e[Ur];if(i!==null){e[Ur]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function W1(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Li)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Dn(4,a,u);try{u.call(a)}finally{Dn(5,a,u)}}else{Dn(4,i,o);try{o.call(i)}finally{Dn(5,i,o)}}}}}function K1(n,e,t){return Q1(n,e.parent,t)}function Q1(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Wt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===Tn.None||o===Tn.Emulated)return null}return sn(r,t)}}function Wl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function ZD(n,e,t){n.appendChild(e,t)}function eb(n,e,t,r,i){r!==null?Wl(n,e,t,r,i):ZD(n,e,t)}function XD(n,e){return n.parentNode(e)}function Y1(n,e){return n.nextSibling(e)}function J1(n,e,t){return X1(n,e,t)}function Z1(n,e,t){return n.type&40?sn(n,t):null}var X1=Z1,tb;function Lg(n,e,t,r){let i=K1(n,r,e),o=e[Le],s=r.parent||e[_n],a=J1(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)eb(o,i,t[u],a,!1);else eb(o,i,t,a,!1);tb!==void 0&&tb(o,r,e,t,i)}function xa(n,e){if(e!==null){let t=e.type;if(t&3)return sn(e,n);if(t&4)return jm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return xa(n,r);{let i=n[e.index];return Nn(i)?jm(-1,i):vn(i)}}else{if(t&128)return xa(n,e.next);if(t&32)return Pg(e,n)()||vn(n[e.index]);{let r=eC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ki(n[rn]);return xa(i,r)}else return xa(n,e.next)}}}return null}function eC(n,e){if(e!==null){let r=n[rn][_n],i=e.projection;return r.projection[i]}return null}function jm(n,e){let t=Ft+n+1;if(t<e.length){let r=e[t],i=r[ae].firstChild;if(i!==null)return xa(r,i)}return e[ir]}function Vg(n,e,t){n.removeChild(null,e,t)}function tC(n){n.textContent=""}function jg(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&Vi(vn(a),r),t.flags|=2),(t.flags&32)!==32)if(u&8)jg(n,e,t.child,r,i,o,!1),Uo(e,n,i,a,o);else if(u&32){let l=Pg(t,r),h;for(;h=l();)Uo(e,n,i,h,o);Uo(e,n,i,a,o)}else u&16?ek(n,e,r,t,i,o):Uo(e,n,i,a,o);t=s?t.projectionNext:t.next}}function md(n,e,t,r,i,o){jg(t,r,n.firstChild,e,i,o,!1)}function ek(n,e,t,r,i,o){let s=t[rn],u=s[_n].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Uo(e,n,i,h,o)}else{let l=u,h=s[_t];Hl(r)&&(l.flags|=128),jg(n,e,l,h,i,o,!0)}}function tk(n,e,t,r,i){let o=t[ir],s=vn(t);o!==s&&Uo(e,n,r,o,i);for(let a=Ft;a<t.length;a++){let u=t[a];md(u[ae],u,n,e,r,o)}}function nk(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:sr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=sr.Important),n.setStyle(t,r,i,o))}}function rk(n,e,t){n.setAttribute(e,"style",t)}function nC(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function rC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Im(n,e,r),i!==null&&nC(n,e,i),o!==null&&rk(n,e,o)}var ur={};function H(n=1){iC(Vt(),Re(),ns()+n,!1)}function iC(n,e,t,r){if(!r)if((e[re]&3)===3){let o=n.preOrderCheckHooks;o!==null&&bl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Dl(e,o,0,t)}Fi(t)}function Q(n,e=de.Default){let t=Re();if(t===null)return z(n,e);let r=jt();return wD(r,t,xt(n),e)}function oC(){let n="invalid";throw new Error(n)}function sC(n,e,t,r,i,o){let s=_e(null);try{let a=null;i&Br.SignalBased&&(a=e[r][er]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Br.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):Gb(e,a,r,o)}finally{_e(s)}}function ik(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Fi(~i);else{let o=i,s=t[++r],a=t[++r];OO(s,o);let u=e[o];a(2,u)}}}finally{Fi(-1)}}function gd(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Wt]=i,p[re]=r|4|128|8|64,(l!==null||n&&n[re]&2048)&&(p[re]|=2048),Zb(p),p[_t]=p[ts]=n,p[nn]=t,p[An]=s||n&&n[An],p[Le]=a||n&&n[Le],p[Go]=u||n&&n[Go]||null,p[_n]=o,p[sd]=p1(),p[Sn]=h,p[Hb]=l,p[rn]=e.type==2?n[rn]:p,p}function yd(n,e,t,r,i){let o=n.data[e];if(o===null)o=ok(n,e,t,r,i),PO()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=SO();o.injectorIndex=s===null?-1:s.injectorIndex}return $a(o,!0),o}function ok(n,e,t,r,i){let o=rD(),s=iD(),a=s?o:o&&o.parent,u=n.data[e]=dk(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function aC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function cC(n,e,t,r,i){let o=ns(),s=r&2;try{Fi(-1),s&&e.length>nt&&iC(n,e,nt,!1),Dn(s?2:0,i),t(r,i)}finally{Fi(o),Dn(s?3:1,i)}}function uC(n,e,t){if(qb(e)){let r=_e(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{_e(r)}}}function lC(n,e,t){nD()&&(yk(n,e,t,sn(t,e)),(t.flags&64)===64&&gC(n,e,t))}function dC(n,e,t=sn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function hC(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Ug(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Ug(n,e,t,r,i,o,s,a,u,l,h){let p=nt+r,g=p+i,y=sk(p,g),T=typeof l=="function"?l():l;return y[ae]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:T,incompleteFirstPass:!1,ssrId:h}}function sk(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:ur);return t}function ak(n,e,t,r){let o=r.get(HD,$D)||t===Tn.ShadowDom,s=n.selectRootElement(e,o);return ck(s),s}function ck(n){fC(n)}var fC=()=>null;function uk(n){xD(n)?tC(n):x1(n)}function lk(){fC=uk}function dk(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Ba()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function nb(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Br.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?rb(r,t,l,a,u):rb(r,t,l,a)}return r}function rb(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function hk(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],g=t?t.get(p):null,y=g?g.inputs:null,T=g?g.outputs:null;u=nb(0,p.inputs,h,u,y),l=nb(1,p.outputs,h,l,T);let N=u!==null&&s!==null&&!hg(e)?Tk(u,h,s):null;a.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function fk(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Bg(n,e,t,r,i,o,s,a){let u=sn(e,t),l=e.inputs,h;!a&&l!=null&&(h=l[r])?($g(n,t,h,r,i),Ua(e)&&pk(t,e.index)):e.type&3?(r=fk(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function pk(n,e){let t=Wr(e,n);t[re]&16||(t[re]|=64)}function pC(n,e,t,r){if(nD()){let i=r===null?null:{"":-1},o=_k(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&mC(n,e,t,s,i,a),i&&Ik(t,r,i)}t.mergedAttrs=Na(t.mergedAttrs,t.attrs)}function mC(n,e,t,r,i,o){for(let l=0;l<r.length;l++)xm(Ul(t,e),n,r[l].type);Ek(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=aC(n,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];t.mergedAttrs=Na(t.mergedAttrs,h.hostAttrs),bk(n,t,e,u,h),wk(u,h,i),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}hk(n,t,o)}function mk(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;gk(s)!=a&&s.push(a),s.push(t,r,o)}}function gk(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function yk(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;Ua(t)&&Dk(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Ul(t,e),Vi(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let u=n.data[a],l=Qo(e,n,a,t);if(Vi(l,e),s!==null&&Ck(e,a-i,l,u,t,s),Hr(u)){let h=Wr(t.index,e);h[nn]=Qo(e,n,a,t)}}}function gC(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=kO();try{Fi(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Tm(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&vk(u,l)}}finally{Fi(-1),Tm(s)}}function vk(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function _k(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(qP(e,s.selectors,!1))if(r||(r=[]),Hr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Um(n,e,u)}else r.unshift(s),Um(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Um(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Ik(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new G(-301,!1);r.push(e[i],o)}}}function wk(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Hr(e)&&(t[""]=n)}}function Ek(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function bk(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Pi(i.type,!0)),s=new Li(o,Hr(i),Q);n.blueprint[r]=s,t[r]=s,mk(n,e,r,aC(n,t,i.hostVars,ur),i)}function Dk(n,e,t){let r=sn(e,n),i=hC(t),o=n[An].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=vd(n,gd(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function Ck(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];sC(r,t,u,l,h,p)}}function Tk(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function yC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function vC(n,e){let t=n.contentQueries;if(t!==null){let r=_e(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];sD(o),a.contentQueries(2,e[s],s)}}}finally{_e(r)}}}function vd(n,e){return n[Oa]?n[H0][gn]=e:n[Oa]=e,n[H0]=e,e}function Bm(n,e,t){sD(0);let r=_e(null);try{e(n,t)}finally{_e(r)}}function Sk(n){return n[Ml]??=[]}function Ak(n){return n.cleanup??=[]}function _C(n,e){let t=n[Go],r=t?t.get(or,null):null;r&&r.handleError(e)}function $g(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],u=t[o++],l=e[s],h=n.data[s];sC(h,l,r,a,u,i)}}function xk(n,e,t){let r=Yb(e,n);B1(n[Le],r,t)}function Rk(n,e){let t=Wr(e,n),r=t[ae];Mk(r,t);let i=t[Wt];i!==null&&t[Sn]===null&&(t[Sn]=Rg(i,t[Go])),Hg(r,t,t[nn])}function Mk(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Hg(n,e,t){vg(e);try{let r=n.viewQuery;r!==null&&Bm(1,r,t);let i=n.template;i!==null&&cC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ko]?.finishViewCreation(n),n.staticContentQueries&&vC(n,e),n.staticViewQueries&&Bm(2,n.viewQuery,t);let o=n.components;o!==null&&Nk(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[re]&=-5,_g()}}function Nk(n,e){for(let t=0;t<e.length;t++)Rk(n,e[t])}function IC(n,e,t,r){let i=_e(null);try{let o=e.tView,a=n[re]&4096?4096:16,u=gd(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Wo]=l;let h=n[Ko];return h!==null&&(u[Ko]=h.createEmbeddedView(o)),Hg(o,u,t),u}finally{_e(i)}}function Pk(n,e){let t=Ft+e;if(t<n.length)return n[t]}function $m(n,e){return!e||e.firstChild===null||Hl(n)}function wC(n,e,t,r=!0){let i=e[ae];if(q1(i,e,n,t),r){let s=jm(t,n),a=e[Le],u=XD(a,n[ir]);u!==null&&H1(i,n[_n],a,e,u,s)}let o=e[Sn];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ok(n,e){let t=Gl(n,e);return t!==void 0&&Fg(t[ae],t),t}function Kl(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(vn(o)),Nn(o)&&kk(o,r);let s=t.type;if(s&8)Kl(n,e,t.child,r);else if(s&32){let a=Pg(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=eC(e,t);if(Array.isArray(a))r.push(...a);else{let u=ki(e[rn]);Kl(u[ae],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function kk(n,e){for(let t=Ft;t<n.length;t++){let r=n[t],i=r[ae].firstChild;i!==null&&Kl(r[ae],r,i,e)}n[ir]!==n[Wt]&&e.push(n[ir])}var EC=[];function Fk(n){return n[tn]??Lk(n)}function Lk(n){let e=EC.pop()??Object.create(jk);return e.lView=n,e}function Vk(n){n.lView[tn]!==n&&(n.lView=null,EC.push(n))}var jk=pe(L({},Da),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{cd(n.lView)},consumerOnSignalRead(){this.lView[tn]=this}});function Uk(n){let e=n[tn]??Object.create(Bk);return e.lView=n,e}var Bk=pe(L({},Da),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=ki(n.lView);for(;e&&!bC(e[ae]);)e=ki(e);e&&Xb(e)},consumerOnSignalRead(){this.lView[tn]=this}});function bC(n){return n.type!==2}var $k=100;function DC(n,e=!0,t=0){let r=n[An],i=r.rendererFactory,o=!1;o||i.begin?.();try{Hk(n,t)}catch(s){throw e&&_C(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Hk(n,e){let t=oD();try{q0(!0),Hm(n,e);let r=0;for(;ad(n);){if(r===$k)throw new G(103,!1);r++,Hm(n,1)}}finally{q0(t)}}function zk(n,e,t,r){let i=e[re];if((i&256)===256)return;let o=!1,s=!1;!o&&e[An].inlineEffectRunner?.flush(),vg(e);let a=!0,u=null,l=null;o||(bC(n)?(l=Fk(e),u=Uu(l)):QE()===null?(a=!1,l=Uk(e),u=Uu(l)):e[tn]&&(Lp(e[tn]),e[tn]=null));try{Zb(e),MO(n.bindingStartIndex),t!==null&&cC(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&bl(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Dl(e,y,0,null),om(e,0)}if(s||qk(e),CC(e,0),n.contentQueries!==null&&vC(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&bl(e,y)}else{let y=n.contentHooks;y!==null&&Dl(e,y,1),om(e,1)}ik(n,e);let p=n.components;p!==null&&SC(e,p,0);let g=n.viewQuery;if(g!==null&&Bm(2,g,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&bl(e,y)}else{let y=n.viewHooks;y!==null&&Dl(e,y,2),om(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[im]){for(let y of e[im])y();e[im]=null}o||(e[re]&=-73)}catch(h){throw o||cd(e),h}finally{l!==null&&(kp(l,u),a&&Vk(l)),_g()}}function CC(n,e){for(let t=MD(n);t!==null;t=ND(t))for(let r=Ft;r<t.length;r++){let i=t[r];TC(i,e)}}function qk(n){for(let e=MD(n);e!==null;e=ND(e)){if(!(e[re]&Ol.HasTransplantedViews))continue;let t=e[Pl];for(let r=0;r<t.length;r++){let i=t[r];Xb(i)}}}function Gk(n,e,t){let r=Wr(e,n);TC(r,t)}function TC(n,e){yg(n)&&Hm(n,e)}function Hm(n,e){let r=n[ae],i=n[re],o=n[tn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Fp(o)),s||=!1,o&&(o.dirty=!1),n[re]&=-9217,s)zk(r,n,r.template,n[nn]);else if(i&8192){CC(n,1);let a=r.components;a!==null&&SC(n,a,1)}}function SC(n,e,t){for(let r=0;r<e.length;r++)Gk(n,e[r],t)}function zg(n,e){let t=oD()?64:1088;for(n[An].changeDetectionScheduler?.notify(e);n;){n[re]|=t;let r=ki(n);if(kl(n)&&!r)return n;n=r}return null}var ji=class{get rootNodes(){let e=this._lView,t=e[ae];return Kl(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[nn]}set context(e){this._lView[nn]=e}get destroyed(){return(this._lView[re]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[_t];if(Nn(e)){let t=e[Nl],r=t?t.indexOf(this):-1;r>-1&&(Gl(e,r),xl(t,r))}this._attachedToViewContainer=!1}Fg(this._lView[ae],this._lView)}onDestroy(e){eD(this._lView,e)}markForCheck(){zg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[re]&=-129}reattach(){Cm(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,DC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new G(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=kl(this._lView),t=this._lView[Wo];t!==null&&!e&&kg(t,this._lView),YD(this._lView[ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new G(902,!1);this._appRef=e;let t=kl(this._lView),r=this._lView[Wo];r!==null&&!t&&JD(r,this._lView),Cm(this._lView)}},_d=(()=>{class n{static{this.__NG_ELEMENT_ID__=Qk}}return n})(),Wk=_d,Kk=class extends Wk{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=IC(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new ji(i)}};function Qk(){return AC(jt(),Re())}function AC(n,e){return n.type&4?new Kk(e,n,ld(n,e)):null}var Yk=new RegExp(`^(\\d+)*(${FD}|${kD})*(.*)`);function Jk(n){let e=n.match(Yk),[t,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[u,l,h]of o.matchAll(/(f|n)(\d*)/g)){let p=parseInt(h,10)||1;a.push(l,p)}return[s,...a]}function Zk(n){return!n.prev&&n.parent?.type===8}function dm(n){return n.index-nt}function Xk(n,e){let t=n.i18nNodes;if(t)return t.get(e)}function Id(n,e,t,r){let i=dm(r),o=Xk(n,i);if(o===void 0){let s=n.data[E1];if(s?.[i])o=tF(s[i],t);else if(e.firstChild===r)o=n.firstChild;else{let a=r.prev===null,u=r.prev??r.parent;if(Zk(r)){let l=dm(r.parent);o=Vm(n,l)}else{let l=sn(u,t);if(a)o=l.firstChild;else{let h=dm(u),p=Vm(n,h);if(u.type===2&&p){let y=Mg(n,h)+1;o=wd(y,p)}else o=l.nextSibling}}}}return o}function wd(n,e){let t=e;for(let r=0;r<n;r++)t=t.nextSibling;return t}function eF(n,e){let t=n;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case Lm.FirstChild:t=t.firstChild;break;case Lm.NextSibling:t=t.nextSibling;break}}return t}function tF(n,e){let[t,...r]=Jk(n),i;if(t===kD)i=e[rn][Wt];else if(t===FD)i=j1(e[rn][Wt]);else{let o=Number(t);i=vn(e[o+nt])}return eF(i,r)}var nF=!1;function rF(n){nF=n}function iF(n){let e=n[Sn];if(e){let{i18nNodes:t,dehydratedIcuData:r}=e;if(t&&r){let i=n[Le];for(let o of r.values())oF(i,t,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function oF(n,e,t){for(let r of t.node.cases[t.case]){let i=e.get(r.index-nt);i&&Vg(n,i,!1)}}function xC(n){let e=n[ka]??[],r=n[_t][Le];for(let i of e)sF(i,r);n[ka]=Gt}function sF(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[zl];for(;t<i;){let o=r.nextSibling;Vg(e,r,!1),r=o,t++}}}function RC(n){xC(n);let e=n[Wt];yn(e)&&Ql(e);for(let t=Ft;t<n.length;t++)Ql(n[t])}function Ql(n){iF(n);let e=n[ae];for(let t=nt;t<e.bindingStartIndex;t++)if(Nn(n[t])){let r=n[t];RC(r)}else yn(n[t])&&Ql(n[t])}function aF(n){let e=n._views;for(let t of e){let r=S1(t);r!==null&&r[Wt]!==null&&(yn(r)?Ql(r):RC(r))}}function cF(n,e){let t=[];for(let r of e)for(let i=0;i<(r[LD]??1);i++){let o={data:r,firstChild:null};r[zl]>0&&(o.firstChild=n,n=wd(r[zl],n)),t.push(o)}return[n,t]}var MC=()=>null;function uF(n,e){let t=n[ka];return!e||t===null||t.length===0?null:t[0].data[w1]===e?t.shift():(xC(n),null)}function lF(){MC=uF}function zm(n,e){return MC(n,e)}var Yo=class{},qg=new $("",{providedIn:"root",factory:()=>!1});var NC=new $(""),PC=new $(""),qm=class{},Yl=class{};function dF(n){let e=Error(`No component factory found for ${Rt(n)}.`);return e[hF]=n,e}var hF="ngComponent";var Gm=class{resolveComponentFactory(e){throw dF(e)}},Jo=class{static{this.NULL=new Gm}},Zo=class{},Jr=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>fF()}}return n})();function fF(){let n=Re(),e=jt(),t=Wr(e.index,n);return(yn(t)?t:n)[Le]}var pF=(()=>{class n{static{this.\u0275prov=U({token:n,providedIn:"root",factory:()=>null})}}return n})();function Wm(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=P0(i,a);else if(o==2){let u=a,l=e[++s];r=P0(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var Jl=class extends Jo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=$r(e);return new Xo(t,this.ngModule)}};function ib(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Br.None;e?t.push({propName:s,templateName:r,isSignal:(a&Br.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function mF(n){let e=n.toLowerCase();return e==="svg"?gO:e==="math"?yO:null}var Xo=class extends Yl{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=ib(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return ib(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=QP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=_e(null);try{i=i||this.ngModule;let s=i instanceof Mt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Sm(e,s):e,u=a.get(Zo,null);if(u===null)throw new G(407,!1);let l=a.get(pF,null),h=a.get(Yo,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},g=u.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",T=r?ak(g,r,this.componentDef.encapsulation,a):Og(g,y,mF(y)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let R=null;T!==null&&(R=Rg(T,a,!0));let V=Ug(0,null,null,1,0,null,null,null,null,null,null),W=gd(null,V,null,N,null,null,p,g,a,null,R);vg(W);let B,X,De=null;try{let Z=this.componentDef,E,v=null;Z.findHostDirectiveDefs?(E=[],v=new Map,Z.findHostDirectiveDefs(Z,E,v),E.push(Z)):E=[Z];let I=gF(W,T);De=yF(I,T,Z,E,W,p,g),X=gg(V,nt),T&&IF(g,Z,T,r),t!==void 0&&wF(X,this.ngContentSelectors,t),B=_F(De,Z,E,v,W,[EF]),Hg(V,W,null)}catch(Z){throw De!==null&&km(De),km(W),Z}finally{_g()}return new Km(this.componentType,B,ld(X,W),W,X)}finally{_e(o)}}},Km=class extends qm{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new ji(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;$g(o[ae],o,i,e,t),this.previousInputValues.set(e,t);let s=Wr(this._tNode.index,o);zg(s,1)}}get injector(){return new Ni(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function gF(n,e){let t=n[ae],r=nt;return n[r]=e,yd(t,r,2,"#host",null)}function yF(n,e,t,r,i,o,s){let a=i[ae];vF(r,n,e,s);let u=null;e!==null&&(u=Rg(e,i[Go]));let l=o.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let p=gd(i,hC(t),null,h,i[n.index],n,o,l,null,null,u);return a.firstCreatePass&&Um(a,n,r.length-1),vd(i,p),i[n.index]=p}function vF(n,e,t,r){for(let i of n)e.mergedAttrs=Na(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Wm(e,e.mergedAttrs,!0),t!==null&&rC(r,t,e))}function _F(n,e,t,r,i,o){let s=jt(),a=i[ae],u=sn(s,i);mC(a,i,s,t,null,r);for(let h=0;h<t.length;h++){let p=s.directiveStart+h,g=Qo(i,a,p,s);Vi(g,i)}gC(a,i,s),u&&Vi(u,i);let l=Qo(i,a,s.directiveStart+s.componentOffset,s);if(n[nn]=i[nn]=l,o!==null)for(let h of o)h(l,e);return uC(a,s,i),l}function IF(n,e,t,r){if(r)Im(n,t,["ng-version","18.2.5"]);else{let{attrs:i,classes:o}=YP(e.selectors[0]);i&&Im(n,t,i),o&&o.length>0&&nC(n,t,o.join(" "))}}function wF(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function EF(){let n=jt();Eg(Re()[ae],n)}var is=(()=>{class n{static{this.__NG_ELEMENT_ID__=bF}}return n})();function bF(){let n=jt();return CF(n,Re())}var DF=is,OC=class extends DF{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ld(this._hostTNode,this._hostLView)}get injector(){return new Ni(this._hostTNode,this._hostLView)}get parentInjector(){let e=bg(this._hostTNode,this._hostLView);if(mD(e)){let t=Vl(e,this._hostLView),r=Ll(e),i=t[ae].data[r+8];return new Ni(i,t)}else return new Ni(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=ob(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Ft}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=zm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,$m(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!hO(e),a;if(s)a=t;else{let T=t||{};a=T.index,r=T.injector,i=T.projectableNodes,o=T.environmentInjector||T.ngModuleRef}let u=s?e:new Xo($r(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?l:this.parentInjector).get(Mt,null);N&&(o=N)}let h=$r(u.componentType??{}),p=zm(this._lContainer,h?.id??null),g=p?.firstChild??null,y=u.create(l,i,g,o);return this.insertImpl(y.hostView,a,$m(this._hostTNode,p)),y}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(vO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[_t],l=new OC(u,u[_n],u[_t]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return wC(s,i,o,r),e.attachToViewContainerRef(),Tb(hm(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=ob(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Gl(this._lContainer,t);r&&(xl(hm(this._lContainer),t),Fg(r[ae],r))}detach(e){let t=this._adjustIndex(e,-1),r=Gl(this._lContainer,t);return r&&xl(hm(this._lContainer),t)!=null?new ji(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function ob(n){return n[Nl]}function hm(n){return n[Nl]||(n[Nl]=[])}function CF(n,e){let t,r=e[n.index];return Nn(r)?t=r:(t=yC(r,e,null,n),e[n.index]=t,vd(e,t)),kC(t,e,n,r),new OC(t,n,e)}function TF(n,e){let t=n[Le],r=t.createComment(""),i=sn(e,n),o=XD(t,i);return Wl(t,o,r,Y1(t,i),!1),r}var kC=FC,Gg=()=>!1;function SF(n,e,t){return Gg(n,e,t)}function FC(n,e,t,r){if(n[ir])return;let i;t.type&8?i=vn(r):i=TF(e,t),n[ir]=i}function AF(n,e,t){if(n[ir]&&n[ka])return!0;let r=t[Sn],i=e.index-nt;if(!r||h1(e)||Ha(r,i))return!1;let s=Vm(r,i),a=r.data[xg]?.[i],[u,l]=cF(s,a);return n[ir]=u,n[ka]=l,!0}function xF(n,e,t,r){Gg(n,t,e)||FC(n,e,t,r)}function RF(){kC=xF,Gg=AF}var sb=new Set;function Pn(n){sb.has(n)||(sb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function MF(n){return typeof n=="function"&&n[er]!==void 0}function qa(n,e){Pn("NgSignals");let t=s0(n),r=t[er];return e?.equal&&(r.equal=e.equal),t.set=i=>Vp(r,i),t.update=i=>a0(r,i),t.asReadonly=NF.bind(t),t}function NF(){let n=this[er];if(n.readonlyFn===void 0){let e=()=>this();e[er]=n,n.readonlyFn=e}return n.readonlyFn}function LC(n){return MF(n)&&typeof n.set=="function"}function PF(n){return Object.getPrototypeOf(n.prototype).constructor}function an(n){let e=PF(n.type),t=!0,r=[n];for(;e;){let i;if(Hr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new G(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=vl(n.inputs),s.inputTransforms=vl(n.inputTransforms),s.declaredInputs=vl(n.declaredInputs),s.outputs=vl(n.outputs);let a=i.hostBindings;a&&VF(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&FF(n,u),l&&LF(n,l),OF(n,i),gP(n.outputs,i.outputs),Hr(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===an&&(t=!1)}}e=Object.getPrototypeOf(e)}kF(r)}function OF(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function kF(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Na(i.hostAttrs,t=Na(t,i.hostAttrs))}}function vl(n){return n===zo?{}:n===Gt?[]:n}function FF(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function LF(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function VF(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}var zr=class{},Fa=class{};var Qm=class extends zr{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Jl(this);let o=kb(e);this._bootstrapComponents=WD(o.bootstrap),this._r3Injector=DD(e,t,[{provide:zr,useValue:this},{provide:Jo,useValue:this.componentFactoryResolver},...r],Rt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ym=class extends Fa{constructor(e){super(),this.moduleType=e}create(e){return new Qm(this.moduleType,e,[])}};var Zl=class extends zr{constructor(e){super(),this.componentFactoryResolver=new Jl(this),this.instance=null;let t=new Pa([...e.providers,{provide:zr,useValue:this},{provide:Jo,useValue:this.componentFactoryResolver}],e.parent||pg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ed(n,e,t=null){return new Zl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function VC(n){return UF(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function jF(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function UF(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function BF(n,e,t){return n[e]=t}function os(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Ga(n){return(n.flags&32)===32}function $F(n,e,t,r,i,o,s,a,u){let l=e.consts,h=yd(e,n,4,s||null,a||null);pC(e,t,h,Fl(l,u)),Eg(e,h);let p=h.tView=Ug(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function HF(n,e,t,r,i,o,s,a,u,l){let h=t+nt,p=e.firstCreatePass?$F(h,e,n,r,i,o,s,a,u):e.data[h];$a(p,!1);let g=jC(e,n,p,t);wg()&&Lg(e,n,g,p),Vi(g,n);let y=yC(g,n,g,p);return n[h]=y,vd(n,y),SF(y,p,n),mg(p)&&lC(e,n,p),u!=null&&dC(n,p,l),p}function Ae(n,e,t,r,i,o,s,a){let u=Re(),l=Vt(),h=Fl(l.consts,o);return HF(u,l,n,e,t,r,i,h,s,a),Ae}var jC=UC;function UC(n,e,t,r){return Kr(!0),e[Le].createComment("")}function zF(n,e,t,r){let i=e[Sn],o=!i||Ba()||Ga(t)||Ha(i,r);if(Kr(o),o)return UC(n,e,t,r);let s=i.data[I1]?.[r]??null;s!==null&&t.tView!==null&&t.tView.ssrId===null&&(t.tView.ssrId=s);let a=Id(i,n,e,t);fd(i,r,a);let u=Mg(i,r);return wd(u,a)}function qF(){jC=zF}var Bo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Bo||{}),BC=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Jm=class n{constructor(){this.ngZone=P(ge),this.scheduler=P(Yo),this.errorHandler=P(or,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Bo.EarlyRead,Bo.Write,Bo.MixedReadWrite,Bo.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}},Zm=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Wg(n,e){!e?.injector&&dO(Wg);let t=e?.injector??P(ot);return Aa(t)?(Pn("NgAfterNextRender"),WF(n,t,e,!0)):KF}function GF(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function WF(n,e,t,r){let i=e.get(BC);i.impl??=e.get(Jm);let o=t?.phase??Bo.MixedReadWrite,s=new Zm(i.impl,GF(n,o),r,e.get(Dg));return i.impl.register(s),s}var KF={destroy(){}};function $C(n,e,t,r){return os(n,ud(),t)?e+cg(t)+r:ur}function _l(n,e){return n<<17|e<<2}function Ui(n){return n>>17&32767}function QF(n){return(n&2)==2}function YF(n,e){return n&131071|e<<17}function Xm(n){return n|2}function es(n){return(n&131068)>>2}function fm(n,e){return n&-131069|e<<2}function JF(n){return(n&1)===1}function eg(n){return n|1}function ZF(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ui(s),u=es(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||ja(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let g=Ui(n[a+1]);n[r+1]=_l(g,a),g!==0&&(n[g+1]=fm(n[g+1],r)),n[a+1]=YF(n[a+1],r)}else n[r+1]=_l(a,0),a!==0&&(n[a+1]=fm(n[a+1],r)),a=r;else n[r+1]=_l(u,0),a===0?a=r:n[u+1]=fm(n[u+1],r),u=r;l&&(n[r+1]=Xm(n[r+1])),ab(n,h,r,!0),ab(n,h,r,!1),XF(e,h,n,r,o),s=_l(a,u),o?e.classBindings=s:e.styleBindings=s}function XF(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&ja(o,e)>=0&&(t[r+1]=eg(t[r+1]))}function ab(n,e,t,r){let i=n[t+1],o=e===null,s=r?Ui(i):es(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];eL(u,e)&&(a=!0,n[s+1]=r?eg(l):Xm(l)),s=r?Ui(l):es(l)}a&&(n[t+1]=r?Xm(i):eg(i))}function eL(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?ja(n,e)>=0:!1}function fe(n,e,t){let r=Re(),i=ud();if(os(r,i,e)){let o=Vt(),s=Ig();Bg(o,s,r,n,e,r[Le],t,!1)}return fe}function cb(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";$g(n,t,o[s],s,r)}function bd(n,e){return tL(n,e,null,!0),bd}function tL(n,e,t,r){let i=Re(),o=Vt(),s=NO(2);if(o.firstUpdatePass&&rL(o,n,s,r),e!==ur&&os(i,s,e)){let a=o.data[ns()];cL(o,a,i,i[Le],n,i[s+1]=uL(e,t),r,s)}}function nL(n,e){return e>=n.expandoStartIndex}function rL(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[ns()],s=nL(n,t);lL(o,r)&&e===null&&!s&&(e=!1),e=iL(i,o,e,r),ZF(i,o,e,t,s,r)}}function iL(n,e,t,r){let i=FO(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=pm(null,n,e,t,r),t=La(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=pm(i,n,e,t,r),o===null){let u=oL(n,e,r);u!==void 0&&Array.isArray(u)&&(u=pm(null,n,e,u[1],r),u=La(u,e.attrs,r),sL(n,e,r,u))}else o=aL(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function oL(n,e,t){let r=t?e.classBindings:e.styleBindings;if(es(r)!==0)return n[Ui(r)]}function sL(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Ui(i)]=r}function aL(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=La(r,s,t)}return La(r,e.attrs,t)}function pm(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=La(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function La(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),FP(n,s,t?!0:e[++o]))}return n===void 0?null:n}function cL(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=JF(l)?ub(u,e,t,i,es(l),s):void 0;if(!Xl(h)){Xl(o)||QF(l)&&(o=ub(u,null,t,i,a,s));let p=Yb(ns(),t);nk(r,s,p,i,o)}}function ub(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=t[i+1];g===ur&&(g=p?Gt:void 0);let y=p?nm(g,r):h===r?g:void 0;if(l&&!Xl(y)&&(y=nm(u,r)),Xl(y)&&(a=y,s))return a;let T=n[i+1];i=s?Ui(T):es(T)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=nm(u,r))}return a}function Xl(n){return n!==void 0}function uL(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Rt(pd(n)))),n}function lL(n,e){return(n.flags&(e?8:16))!==0}function HC(n,e){Pn("NgControlFlow");let t=Re(),r=ud(),i=t[r]!==ur?t[r]:-1,o=i!==-1?lb(t,nt+i):void 0,s=0;if(os(t,r,n)){let a=_e(null);try{if(o!==void 0&&Ok(o,s),n!==-1){let u=nt+n,l=lb(t,u),h=dL(t[ae],u),p=zm(l,h.tView.ssrId),g=IC(t,h,e,{dehydratedView:p});wC(l,g,s,$m(h,p))}}finally{_e(a)}}else if(o!==void 0){let a=Pk(o,s);a!==void 0&&(a[nn]=e)}}function lb(n,e){return n[e]}function dL(n,e){return gg(n,e)}function hL(n,e,t,r,i,o){let s=e.consts,a=Fl(s,i),u=yd(e,n,2,r,a);return pC(e,t,u,Fl(s,o)),u.attrs!==null&&Wm(u,u.attrs,!1),u.mergedAttrs!==null&&Wm(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function M(n,e,t,r){let i=Re(),o=Vt(),s=nt+n,a=i[Le],u=o.firstCreatePass?hL(s,o,i,e,t,r):o.data[s],l=zC(o,i,u,a,e,n);i[s]=l;let h=mg(u);return $a(u,!0),rC(a,l,u),!Ga(u)&&wg()&&Lg(o,i,l,u),wO()===0&&Vi(l,i),EO(),h&&(lC(o,i,u),uC(o,u,i)),r!==null&&dC(i,u),M}function A(){let n=jt();iD()?AO():(n=n.parent,$a(n,!1));let e=n;DO(e)&&TO(),bO();let t=Vt();return t.firstCreatePass&&(Eg(t,n),qb(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&$O(e)&&cb(t,e,Re(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&HO(e)&&cb(t,e,Re(),e.stylesWithoutHost,!1),A}function ce(n,e,t,r){return M(n,e,t,r),A(),ce}var zC=(n,e,t,r,i,o)=>(Kr(!0),Og(r,i,hD()));function fL(n,e,t,r,i,o){let s=e[Sn],a=!s||Ba()||Ga(t)||Ha(s,o);if(Kr(a),a)return Og(r,i,hD());let u=Id(s,n,e,t);return BD(s,o)&&fd(s,o,u.nextSibling),s&&(AD(t)||xD(u))&&Ua(t)&&(CO(t),tC(u)),u}function pL(){zC=fL}var mL=(n,e,t,r)=>(Kr(!0),QD(e[Le],""));function gL(n,e,t,r){let i,o=e[Sn],s=!o||Ba()||Ha(o,r)||Ga(t);if(Kr(s),s)return QD(e[Le],"");let a=Id(o,n,e,t),u=R1(o,r);return fd(o,r,a),i=wd(u,a),i}function yL(){mL=gL}function Kt(){return Re()}var ed="en-US";var vL=ed;function _L(n){typeof n=="string"&&(vL=n.toLowerCase().replace(/_/g,"-"))}var IL=(n,e,t)=>{};function we(n,e,t,r){let i=Re(),o=Vt(),s=jt();return qC(o,i,i[Le],s,n,e,r),we}function wL(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Ml],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function qC(n,e,t,r,i,o,s){let a=mg(r),l=n.firstCreatePass&&Ak(n),h=e[nn],p=Sk(e),g=!0;if(r.type&3||s){let N=sn(r,e),R=s?s(N):N,V=p.length,W=s?X=>s(vn(X[r.index])):r.index,B=null;if(!s&&a&&(B=wL(n,e,i,r.index)),B!==null){let X=B.__ngLastListenerFn__||B;X.__ngNextListenerFn__=o,B.__ngLastListenerFn__=o,g=!1}else{o=hb(r,e,h,o),IL(N,i,o);let X=t.listen(R,i,o);p.push(o,X),l&&l.push(i,W,V,V+1)}}else o=hb(r,e,h,o);let y=r.outputs,T;if(g&&y!==null&&(T=y[i])){let N=T.length;if(N)for(let R=0;R<N;R+=2){let V=T[R],W=T[R+1],De=e[V][W].subscribe(o),Z=p.length;p.push(o,De),l&&l.push(i,r.index,Z,-(Z+1))}}}function db(n,e,t,r){let i=_e(null);try{return Dn(6,e,t),t(r)!==!1}catch(o){return _C(n,o),!1}finally{Dn(7,e,t),_e(i)}}function hb(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?Wr(n.index,e):e;zg(s,5);let a=db(e,t,r,o),u=i.__ngNextListenerFn__;for(;u;)a=db(e,t,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function Oe(n=1){return VO(n)}function Kg(n,e,t){return Dd(n,"",e,"",t),Kg}function Dd(n,e,t,r,i){let o=Re(),s=$C(o,e,t,r);if(s!==ur){let a=Vt(),u=Ig();Bg(a,u,o,n,s,o[Le],i,!1)}return Dd}function EL(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Wa(n){let e=xO();return Jb(e,nt+n)}function O(n,e=""){let t=Re(),r=Vt(),i=n+nt,o=r.firstCreatePass?yd(r,i,1,e,null):r.data[i],s=GC(r,t,o,e,n);t[i]=s,wg()&&Lg(r,t,s,o),$a(o,!1)}var GC=(n,e,t,r,i)=>(Kr(!0),KD(e[Le],r));function bL(n,e,t,r,i){let o=e[Sn],s=!o||Ba()||Ga(t)||Ha(o,i);return Kr(s),s?KD(e[Le],r):Id(o,n,e,t)}function DL(){GC=bL}function wt(n){return Pe("",n,""),wt}function Pe(n,e,t){let r=Re(),i=$C(r,n,e,t);return i!==ur&&xk(r,ns(),i),Pe}function Cd(n,e,t){LC(e)&&(e=e());let r=Re(),i=ud();if(os(r,i,e)){let o=Vt(),s=Ig();Bg(o,s,r,n,e,r[Le],t,!1)}return Cd}function Qg(n,e){let t=LC(n);return t&&n.set(e),t}function Td(n,e){let t=Re(),r=Vt(),i=jt();return qC(r,t,t[Le],i,n,e),Td}function CL(n,e,t){let r=Vt();if(r.firstCreatePass){let i=Hr(n);tg(t,r.data,r.blueprint,i,!0),tg(e,r.data,r.blueprint,i,!1)}}function tg(n,e,t,r,i){if(n=xt(n),Array.isArray(n))for(let o=0;o<n.length;o++)tg(n[o],e,t,r,i);else{let o=Vt(),s=Re(),a=jt(),u=qo(n)?n:xt(n.provide),l=Bb(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(qo(n)||!n.multi){let y=new Li(l,i,Q),T=gm(u,e,i?h:h+g,p);T===-1?(xm(Ul(a,s),o,u),mm(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[T]=y,s[T]=y)}else{let y=gm(u,e,h+g,p),T=gm(u,e,h,h+g),N=y>=0&&t[y],R=T>=0&&t[T];if(i&&!R||!i&&!N){xm(Ul(a,s),o,u);let V=AL(i?SL:TL,t.length,i,r,l);!i&&R&&(t[T].providerFactory=V),mm(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(V),s.push(V)}else{let V=WC(t[i?T:y],l,!i&&r);mm(o,n,y>-1?y:T,V)}!i&&r&&R&&t[T].componentProviders++}}}function mm(n,e,t,r){let i=qo(e),o=iO(e);if(i||o){let u=(o?xt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function WC(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function gm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function TL(n,e,t,r){return ng(this.multi,[])}function SL(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Qo(t,t[ae],this.providerFactory.index,r);o=a.slice(0,s),ng(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],ng(i,o);return o}function ng(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function AL(n,e,t,r,i){let o=new Li(n,t,Q);return o.multi=[],o.index=e,o.componentProviders=0,WC(o,i,r&&!t),o}function Zr(n,e=[]){return t=>{t.providersResolver=(r,i)=>CL(r,i?i(n):n,e)}}var xL=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Vb(!1,t.type),i=r.length>0?Ed([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=U({token:n,providedIn:"environment",factory:()=>new n(z(Mt))})}}return n})();function $e(n){Pn("NgStandalone"),n.getStandaloneInjector=e=>e.get(xL).getOrCreateStandaloneInjector(n)}function RL(n,e){let t=n[e];return t===ur?void 0:t}function ML(n,e,t,r,i,o){let s=e+t;return os(n,s,i)?BF(n,s+1,o?r.call(o,i):r(i)):RL(n,s+1)}function KC(n,e){let t=Vt(),r,i=n+nt;t.firstCreatePass?(r=NL(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Pi(r.type,!0)),s,a=kt(Q);try{let u=jl(!1),l=o();return jl(u),EL(t,Re(),i,l),l}finally{kt(a)}}function NL(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function QC(n,e,t){let r=n+nt,i=Re(),o=Jb(i,r);return PL(i,r)?ML(i,RO(),e,o.transform,t,o):o.transform(t)}function PL(n,e){return n[ae].data[e].pure}function Ka(n,e){return AC(n,e)}var ar=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},YC=new ar("18.2.5");var Sd=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var Yg=new $(""),Qa=new $(""),Ad=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Jg||(OL(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(z(ge),z(xd),z(Qa))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),xd=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Jg?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function OL(n){Jg=n}var Jg;function Xr(n){return!!n&&typeof n.then=="function"}function Zg(n){return!!n&&typeof n.subscribe=="function"}var Rd=new $(""),JC=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=P(Rd,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(Xr(o))t.push(o);else if(Zg(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Bi=new $("");function kL(){o0(()=>{throw new G(600,!1)})}function FL(n){return n.isBoundToModule}var LL=10;function VL(n,e,t){try{let r=t();return Xr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var On=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(c1),this.afterRenderManager=P(BC),this.zonelessEnabled=P(qg),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ht,this.afterTick=new ht,this.componentTypes=[],this.components=[],this.isStable=P(Yr).hasPendingTasks.pipe(ee(t=>!t)),this._injector=P(Mt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Yl;if(!this._injector.get(JC).done){let g=!i&&Ob(t),y=!1;throw new G(405,y)}let s;i?s=t:s=this._injector.get(Jo).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=FL(s)?void 0:this._injector.get(zr),u=r||s.selector,l=s.create(ot.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(Yg,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Cl(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new G(101,!1);let t=_e(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,_e(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Zo,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<LL;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)jL(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>ad(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Cl(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(Bi,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Cl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new G(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Cl(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var Il;function Md(n){Il??=new WeakMap;let e=Il.get(n);if(e)return e;let t=n.isStable.pipe(pn(r=>r)).toPromise().then(()=>{});return Il.set(n,t),n.onDestroy(()=>Il?.delete(n)),t}function jL(n,e,t,r){if(!t&&!ad(n))return;DC(n,e,t&&!r?0:1)}var rg=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Nd=(()=>{class n{compileModuleSync(t){return new Ym(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=kb(t),o=WD(i.declarations).reduce((s,a)=>{let u=$r(a);return u&&s.push(new Xo(u)),s},[]);return new rg(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var UL=(()=>{class n{constructor(){this.zone=P(ge),this.changeDetectionScheduler=P(Yo),this.applicationRef=P(On)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),BL=new $("",{factory:()=>!1});function ZC({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ge(pe(L({},eT()),{scheduleInRootZone:t})),[{provide:ge,useFactory:n},{provide:Oi,multi:!0,useFactory:()=>{let r=P(UL,{optional:!0});return()=>r.initialize()}},{provide:Oi,multi:!0,useFactory:()=>{let r=P($L);return()=>{r.initialize()}}},e===!0?{provide:NC,useValue:!0}:[],{provide:PC,useValue:t??CD}]}function XC(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=ZC({ngZoneFactory:()=>{let i=eT(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Pn("NgZone_CoalesceEvent"),new ge(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Lt([{provide:BL,useValue:!0},{provide:qg,useValue:!1},r])}function eT(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var $L=(()=>{class n{constructor(){this.subscription=new Ue,this.initialized=!1,this.zone=P(ge),this.pendingTasks=P(Yr)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ge.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var HL=(()=>{class n{constructor(){this.appRef=P(On),this.taskService=P(Yr),this.ngZone=P(ge),this.zonelessEnabled=P(qg),this.disableScheduling=P(NC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ue,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get($l):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(PC,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Om||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Y0:TD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get($l+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Y0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function zL(){return typeof $localize<"u"&&$localize.locale||ed}var Xg=new $("",{providedIn:"root",factory:()=>P(Xg,de.Optional|de.SkipSelf)||zL()});var tT=new $("");function wl(n){return!!n.platformInjector}function qL(n){let e=wl(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ge);return t.run(()=>{wl(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(or,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),wl(n)){let o=()=>e.destroy(),s=n.platformInjector.get(tT);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else n.moduleRef.onDestroy(()=>{Cl(n.allPlatformModules,n.moduleRef),i.unsubscribe()});return VL(r,t,()=>{let o=e.get(JC);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Xg,ed);if(_L(s||ed),wl(n)){let a=e.get(On);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return GL(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function GL(n,e){let t=n.injector.get(On);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new G(-403,!1);e.push(n)}var Tl=null;function WL(n=[],e){return ot.create({name:e,providers:[{provide:od,useValue:"platform"},{provide:tT,useValue:new Set([()=>Tl=null])},...n]})}function KL(n=[]){if(Tl)return Tl;let e=WL(n);return Tl=e,kL(),QL(e),e}function QL(n){n.get(Sg,null)?.forEach(t=>t())}var ei=(()=>{class n{static{this.__NG_ELEMENT_ID__=YL}}return n})();function YL(n){return JL(jt(),Re(),(n&16)===16)}function JL(n,e,t){if(Ua(n)&&!t){let r=Wr(n.index,e);return new ji(r,r)}else if(n.type&175){let r=e[rn];return new ji(r,e)}return null}var ig=class{constructor(){}supports(e){return VC(e)}create(e){return new og(e)}},ZL=(n,e)=>e,og=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ZL}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<fb(r,i,o)?t:r,a=fb(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,T=y+g;h<=T&&T<l&&(o[g]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!VC(e))throw new G(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,jF(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new sg(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new td),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new td),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},sg=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},ag=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},td=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new ag,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function fb(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function pb(){return new ey([new ig])}var ey=(()=>{class n{static{this.\u0275prov=U({token:n,providedIn:"root",factory:pb})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||pb()),deps:[[n,new lg,new It]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new G(901,!1)}}return n})();function nT(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=KL(r),o=[ZC({}),{provide:Yo,useExisting:HL},...t||[]],s=new Zl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return qL({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var rT=new $("");var mb=!1;function XL(){mb||(mb=!0,T1(),pL(),DL(),yL(),qF(),RF(),lF(),lk())}function eV(n,e){return Md(n)}function iT(){return Lt([{provide:yl,useFactory:()=>{let n=!0;return Aa()&&(n=!!P(rs,{optional:!0})?.get(jD,null)),n&&Pn("NgHydration"),n}},{provide:Oi,useValue:()=>{rF(!1),Aa()&&P(yl)&&(tV(),XL())},multi:!0},{provide:HD,useFactory:()=>Aa()&&P(yl)},{provide:Bi,useFactory:()=>{if(Aa()&&P(yl)){let n=P(On),e=P(ot);return()=>{eV(n,e).then(()=>{aF(n)})}}return()=>{}},multi:!0}])}function tV(){let n=dd(),e;for(let t of n.body.childNodes)if(t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===D1){e=t;break}if(!e)throw new G(-507,!1)}function Pd(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Ya(n,e){Pn("NgSignals");let t=n0(n);return e?.equal&&(t[er].equal=e.equal),t}function In(n){let e=_e(null);try{return n()}finally{_e(e)}}function oT(n){let e=$r(n);if(!e)return null;let t=new Xo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var lT=null;function kn(){return lT}function dT(n){lT??=n}var Od=class{};var ft=new $(""),ay=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:()=>P(iV),providedIn:"platform"})}}return n})(),hT=new $(""),iV=(()=>{class n extends ay{constructor(){super(),this._doc=P(ft),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return kn().getBaseHref(this._doc)}onPopState(t){let r=kn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=kn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function cy(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function sT(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function lr(n){return n&&n[0]!=="?"?"?"+n:n}var $i=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:()=>P(uy),providedIn:"root"})}}return n})(),fT=new $(""),uy=(()=>{class n extends $i{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(ft).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return cy(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+lr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+lr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+lr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(z(ay),z(fT,8))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pT=(()=>{class n extends $i{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=cy(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+lr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+lr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(z(ay),z(fT,8))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),as=(()=>{class n{constructor(t){this._subject=new Fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=aV(sT(aT(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+lr(r))}normalize(t){return n.stripTrailingSlash(sV(this._basePath,aT(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=lr}static{this.joinWithSlash=cy}static{this.stripTrailingSlash=sT}static{this.\u0275fac=function(r){return new(r||n)(z($i))}}static{this.\u0275prov=U({token:n,factory:()=>oV(),providedIn:"root"})}}return n})();function oV(){return new as(z($i))}function sV(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function aT(n){return n.replace(/\/index.html$/,"")}function aV(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function kd(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var ty=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ti=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new ty(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),cT(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);cT(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Q(is),Q(_d),Q(ey))}}static{this.\u0275dir=Je({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function cT(n,e){n.context.$implicit=e.item}var Bt=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new ny,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){uT("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){uT("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Q(is),Q(_d))}}static{this.\u0275dir=Je({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),ny=class{constructor(){this.$implicit=null,this.ngIf=null}};function uT(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Rt(e)}'.`)}function cV(n,e){return new G(2100,!1)}var ry=class{createSubscription(e,t){return In(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){In(()=>e.unsubscribe())}},iy=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},uV=new iy,lV=new ry,mT=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Xr(t))return uV;if(Zg(t))return lV;throw cV(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||n)(Q(ei,16))}}static{this.\u0275pipe=Mb({name:"async",type:n,pure:!1,standalone:!0})}}return n})();var Nt=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Mn({type:n})}static{this.\u0275inj=Rn({})}}return n})(),ly="browser",dV="server";function hV(n){return n===ly}function Ja(n){return n===dV}var gT=(()=>{class n{static{this.\u0275prov=U({token:n,providedIn:"root",factory:()=>hV(P(Ut))?new oy(P(ft),window):new sy})}}return n})(),oy=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=fV(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function fV(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var sy=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},ss=class{};var Xa=class{},Vd=class{},Fn=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var hy=class{encodeKey(e){return yT(e)}encodeValue(e){return yT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function pV(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var mV=/%(\d[a-f0-9])/gi,gV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function yT(n){return encodeURIComponent(n).replace(mV,(e,t)=>gV[t]??e)}function Fd(n){return`${n}`}var ii=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new hy,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=pV(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Fd):[Fd(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Fd(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Fd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var fy=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function yV(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function vT(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function _T(n){return typeof Blob<"u"&&n instanceof Blob}function IT(n){return typeof FormData<"u"&&n instanceof FormData}function vV(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Za=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(yV(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Fn,this.context??=new fy,!this.params)this.params=new ii,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||vT(this.body)||_T(this.body)||IT(this.body)||vV(this.body)?this.body:this.body instanceof ii?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||IT(this.body)?null:_T(this.body)?this.body.type||null:vT(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ii?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((g,y)=>g.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,y)=>g.set(y,e.setParams[y]),h)),new n(t,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},oi=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(oi||{}),ec=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Fn,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},jd=class n extends ec{constructor(e={}){super(e),this.type=oi.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Hi=class n extends ec{constructor(e={}){super(e),this.type=oi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ri=class extends ec{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},MT=200,_V=204;function dy(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var zi=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Za)o=t;else{let u;i.headers instanceof Fn?u=i.headers:u=new Fn(i.headers);let l;i.params&&(i.params instanceof ii?l=i.params:l=new ii({fromObject:i.params})),o=new Za(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=Y(o).pipe(nr(u=>this.handler.handle(u)));if(t instanceof Za||i.observe==="events")return s;let a=s.pipe(At(u=>u instanceof Hi));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ee(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ee(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ee(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(ee(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new ii().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,dy(i,r))}post(t,r,i={}){return this.request("POST",t,dy(i,r))}put(t,r,i={}){return this.request("PUT",t,dy(i,r))}static{this.\u0275fac=function(r){return new(r||n)(z(Xa))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),IV=/^\)\]\}',?\n/,wV="X-Request-URL";function wT(n){if(n.url)return n.url;let e=wV.toLocaleLowerCase();return n.headers.get(e)}var EV=(()=>{class n{constructor(){this.fetchImpl=P(py,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=P(ge)}handle(t){return new le(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(my,o=>r.error(new ri({error:o}))),()=>i.abort()})}doRequest(t,r,i){return _(this,null,function*(){let o=this.createRequestInit(t),s;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,L({signal:r},o)));bV(y),i.next({type:oi.Sent}),s=yield y}catch(y){i.error(new ri({error:y,status:y.status??0,statusText:y.statusText,url:t.urlWithParams,headers:y.headers}));return}let a=new Fn(s.headers),u=s.statusText,l=wT(s)??t.urlWithParams,h=s.status,p=null;if(t.reportProgress&&i.next(new jd({headers:a,status:h,statusText:u,url:l})),s.body){let y=s.headers.get("content-length"),T=[],N=s.body.getReader(),R=0,V,W,B=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>_(this,null,function*(){for(;;){let{done:De,value:Z}=yield N.read();if(De)break;if(T.push(Z),R+=Z.length,t.reportProgress){W=t.responseType==="text"?(W??"")+(V??=new TextDecoder).decode(Z,{stream:!0}):void 0;let E=()=>i.next({type:oi.DownloadProgress,total:y?+y:void 0,loaded:R,partialText:W});B?B.run(E):E()}}}));let X=this.concatChunks(T,R);try{let De=s.headers.get("Content-Type")??"";p=this.parseBody(t,X,De)}catch(De){i.error(new ri({error:De,headers:new Fn(s.headers),status:s.status,statusText:s.statusText,url:wT(s)??t.urlWithParams}));return}}h===0&&(h=p?MT:0),h>=200&&h<300?(i.next(new Hi({body:p,headers:a,status:h,statusText:u,url:l})),i.complete()):i.error(new ri({error:p,headers:a,status:h,statusText:u,url:l}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(IV,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),py=class{};function my(){}function bV(n){n.then(my,my)}function DV(n,e){return e(n)}function CV(n,e,t){return(r,i)=>on(t,()=>e(r,o=>n(o,i)))}var NT=new $(""),PT=new $(""),TV=new $("",{providedIn:"root",factory:()=>!0});var ET=(()=>{class n extends Xa{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=P(Yr),this.contributeToStability=P(TV)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(NT),...this.injector.get(PT,[])]));this.chain=r.reduceRight((i,o)=>CV(i,o,this.injector),DV)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Mi(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(z(Vd),z(Mt))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();var SV=/^\)\]\}',?\n/;function AV(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var bT=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new G(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ie(r.\u0275loadImpl()):Y(null)).pipe(Ot(()=>new le(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((N,R)=>s.setRequestHeader(N,R.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let N=t.detectContentTypeHeader();N!==null&&s.setRequestHeader("Content-Type",N)}if(t.responseType){let N=t.responseType.toLowerCase();s.responseType=N!=="json"?N:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let N=s.statusText||"OK",R=new Fn(s.getAllResponseHeaders()),V=AV(s)||t.url;return u=new jd({headers:R,status:s.status,statusText:N,url:V}),u},h=()=>{let{headers:N,status:R,statusText:V,url:W}=l(),B=null;R!==_V&&(B=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=B?MT:0);let X=R>=200&&R<300;if(t.responseType==="json"&&typeof B=="string"){let De=B;B=B.replace(SV,"");try{B=B!==""?JSON.parse(B):null}catch(Z){B=De,X&&(X=!1,B={error:Z,text:B})}}X?(o.next(new Hi({body:B,headers:N,status:R,statusText:V,url:W||void 0})),o.complete()):o.error(new ri({error:B,headers:N,status:R,statusText:V,url:W||void 0}))},p=N=>{let{url:R}=l(),V=new ri({error:N,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(V)},g=!1,y=N=>{g||(o.next(l()),g=!0);let R={type:oi.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),t.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},T=N=>{let R={type:oi.UploadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",T)),s.send(a),o.next({type:oi.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",T)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(z(ss))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),OT=new $(""),xV="XSRF-TOKEN",RV=new $("",{providedIn:"root",factory:()=>xV}),MV="X-XSRF-TOKEN",NV=new $("",{providedIn:"root",factory:()=>MV}),Ud=class{},PV=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=kd(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(z(ft),z(Ut),z(RV))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();function OV(n,e){let t=n.url.toLowerCase();if(!P(OT)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=P(Ud).getToken(),i=P(NV);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function kT(...n){let e=[zi,bT,ET,{provide:Xa,useExisting:ET},{provide:Vd,useFactory:()=>P(EV,{optional:!0})??P(bT)},{provide:NT,useValue:OV,multi:!0},{provide:OT,useValue:!0},{provide:Ud,useClass:PV}];for(let t of n)e.push(...t.\u0275providers);return Lt(e)}var kV=new $(""),DT="b",CT="h",TT="s",ST="st",AT="u",xT="rt",Ld=new $(""),FV=["GET","HEAD"];function LV(n,e){let y=P(Ld),{isCacheActive:t}=y,r=WE(y,["isCacheActive"]),{transferCache:i,method:o}=n;if(!t||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!FV.includes(o)||!r.includeRequestsWithAuthHeaders&&VV(n)||r.filter?.(n)===!1)return e(n);let s=P(rs),a=P(kV,{optional:!0}),u=Ja(P(Ut));if(a&&!u)throw new G(2803,!1);let l=u&&a?$V(n.url,a):n.url,h=UV(n,l),p=s.get(h,null),g=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(g=i.includeHeaders),p){let{[DT]:T,[xT]:N,[CT]:R,[TT]:V,[ST]:W,[AT]:B}=p,X=T;switch(N){case"arraybuffer":X=new TextEncoder().encode(T).buffer;break;case"blob":X=new Blob([T]);break}let De=new Fn(R);return Y(new Hi({body:X,headers:De,status:V,statusText:W,url:B}))}return e(n).pipe(We(T=>{T instanceof Hi&&u&&s.set(h,{[DT]:T.body,[CT]:jV(T.headers,g),[TT]:T.status,[ST]:T.statusText,[AT]:l,[xT]:n.responseType})}))}function VV(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}function jV(n,e){if(!e)return{};let t={};for(let r of e){let i=n.getAll(r);i!==null&&(t[r]=i)}return t}function RT(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function UV(n,e){let{params:t,method:r,responseType:i}=n,o=RT(t),s=n.serializeBody();s instanceof URLSearchParams?s=RT(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),u=BV(a);return u}function BV(n){let e=0;for(let t of n)e=Math.imul(31,e)+t.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function FT(n){return[{provide:Ld,useFactory:()=>(Pn("NgHttpTransferCache"),L({isCacheActive:!0},n))},{provide:PT,useValue:LV,multi:!0,deps:[rs,Ld]},{provide:Bi,multi:!0,useFactory:()=>{let e=P(On),t=P(Ld);return()=>{Md(e).then(()=>{t.isCacheActive=!1})}}}]}function $V(n,e){let t=new URL(n,"resolve://").origin,r=e[t];return r?n.replace(t,r):n}var vy=class extends Od{constructor(){super(...arguments),this.supportsDOMEvents=!0}},_y=class n extends vy{static makeCurrent(){dT(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=zV();return t==null?null:qV(t)}resetBaseElement(){tc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return kd(document.cookie,e)}},tc=null;function zV(){return tc=tc||document.querySelector("base"),tc?tc.getAttribute("href"):null}function qV(n){return new URL(n,document.baseURI).pathname}var Iy=class{addToWindow(e){qr.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new G(5103,!1);return o},qr.getAllAngularTestabilities=()=>e.getAllTestabilities(),qr.getAllAngularRootElements=()=>e.getAllRootElements();let t=r=>{let i=qr.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};qr.frameworkStabilizers||(qr.frameworkStabilizers=[]),qr.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,r){if(t==null)return null;let i=e.getTestability(t);return i??(r?kn().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},GV=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),Bd=new $(""),UT=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new G(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(z(Bd),z(ge))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),nc=class{constructor(e){this._doc=e}},gy="ng-app-id",BT=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ja(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${gy}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(gy),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(gy,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(z(ft),z(hd),z(Ag,8),z(Ut))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),yy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},by=/%COMP%/g,$T="%COMP%",WV=`_nghost-${$T}`,KV=`_ngcontent-${$T}`,QV=!0,YV=new $("",{providedIn:"root",factory:()=>QV});function JV(n){return KV.replace(by,n)}function ZV(n){return WV.replace(by,n)}function HT(n,e){return e.map(t=>t.replace(by,n))}var LT=(()=>{class n{constructor(t,r,i,o,s,a,u,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Ja(a),this.defaultRenderer=new rc(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Tn.ShadowDom&&(r=pe(L({},r),{encapsulation:Tn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof $d?i.applyToHost(t):i instanceof ic&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Tn.Emulated:o=new $d(u,l,r,this.appId,h,s,a,p);break;case Tn.ShadowDom:return new wy(u,l,t,r,s,a,this.nonce,p);default:o=new ic(u,l,r,h,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(z(UT),z(BT),z(hd),z(YV),z(ft),z(Ut),z(ge),z(Ag))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),rc=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(yy[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(VT(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(VT(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new G(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=yy[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=yy[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(sr.DashCase|sr.Important)?e.style.setProperty(t,r,i&sr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&sr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=kn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function VT(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var wy=class extends rc{constructor(e,t,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=HT(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ic=class extends rc{constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?HT(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},$d=class extends ic{constructor(e,t,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,t,r,o,s,a,u,l),this.contentAttr=JV(l),this.hostAttr=ZV(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},XV=(()=>{class n extends nc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(z(ft))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),e2=(()=>{class n extends nc{constructor(t){super(t),this.delegate=P(rT,{optional:!0})}supports(t){return this.delegate?this.delegate.supports(t):!1}addEventListener(t,r,i){return this.delegate.addEventListener(t,r,i)}removeEventListener(t,r,i){return this.delegate.removeEventListener(t,r,i)}static{this.\u0275fac=function(r){return new(r||n)(z(ft))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})(),jT=["alt","control","meta","shift"],t2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},n2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},r2=(()=>{class n extends nc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>kn().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),jT.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=t2[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),jT.forEach(s=>{if(s!==i){let a=n2[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(z(ft))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();function zT(n,e){return nT(L({rootComponent:n},i2(e)))}function i2(n){return{appProviders:[...l2,...n?.providers??[]],platformProviders:c2}}function qT(){return[...u2]}function o2(){_y.makeCurrent()}function s2(){return new or}function a2(){return OD(document),document}var c2=[{provide:Ut,useValue:ly},{provide:Sg,useValue:o2,multi:!0},{provide:ft,useFactory:a2,deps:[]}];var u2=[{provide:Qa,useClass:Iy,deps:[]},{provide:Yg,useClass:Ad,deps:[ge,xd,Qa]},{provide:Ad,useClass:Ad,deps:[ge,xd,Qa]}],l2=[{provide:od,useValue:"root"},{provide:or,useFactory:s2,deps:[]},{provide:Bd,useClass:XV,multi:!0,deps:[ft,ge,Ut]},{provide:Bd,useClass:r2,multi:!0,deps:[ft]},{provide:Bd,useClass:e2,multi:!0},LT,BT,UT,{provide:Zo,useExisting:LT},{provide:ss,useClass:GV,deps:[]},[]];var GT=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(z(ft))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ey=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n}(Ey||{});function WT(...n){let e=[],t=new Set,r=t.has(Ey.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of n)t.add(o),i.length&&e.push(i);return Lt([[],iT(),t.has(Ey.NoHttpTransferCache)||r?[]:FT({}),e])}var ue="primary",Ic=Symbol("RouteTitle"),Ay=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function fs(n){return new Ay(n)}function f2(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function p2(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ln(n[t],e[t]))return!1;return!0}function Ln(n,e){let t=n?xy(n):void 0,r=e?xy(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!iS(n[i],e[i]))return!1;return!0}function xy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function iS(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function oS(n){return n.length>0?n[n.length-1]:null}function ai(n){return Jp(n)?n:Xr(n)?Ie(Promise.resolve(n)):Y(n)}var m2={exact:aS,subset:cS},sS={exact:g2,subset:y2,ignored:()=>!0};function KT(n,e,t){return m2[t.paths](n.root,e.root,t.matrixParams)&&sS[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function g2(n,e){return Ln(n,e)}function aS(n,e,t){if(!Gi(n.segments,e.segments)||!qd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!aS(n.children[r],e.children[r],t))return!1;return!0}function y2(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>iS(n[t],e[t]))}function cS(n,e,t){return uS(n,e,e.segments,t)}function uS(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Gi(i,t)||e.hasChildren()||!qd(i,t,r))}else if(n.segments.length===t.length){if(!Gi(n.segments,t)||!qd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!cS(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Gi(n.segments,i)||!qd(n.segments,i,r)||!n.children[ue]?!1:uS(n.children[ue],e,o,r)}}function qd(n,e,t){return e.every((r,i)=>sS[t](n[i].parameters,r.parameters))}var hr=class{constructor(e=new Se([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=fs(this.queryParams),this._queryParamMap}toString(){return I2.serialize(this)}},Se=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gd(this)}},qi=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=fs(this.parameters),this._parameterMap}toString(){return dS(this)}};function v2(n,e){return Gi(n,e)&&n.every((t,r)=>Ln(t.parameters,e[r].parameters))}function Gi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function _2(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ue&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ue&&(t=t.concat(e(i,r)))}),t}var wc=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:()=>new ps,providedIn:"root"})}}return n})(),ps=class{parse(e){let t=new My(e);return new hr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${oc(e.root,!0)}`,r=b2(e.queryParams),i=typeof e.fragment=="string"?`#${w2(e.fragment)}`:"";return`${t}${r}${i}`}},I2=new ps;function Gd(n){return n.segments.map(e=>dS(e)).join("/")}function oc(n,e){if(!n.hasChildren())return Gd(n);if(e){let t=n.children[ue]?oc(n.children[ue],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ue&&r.push(`${i}:${oc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=_2(n,(r,i)=>i===ue?[oc(n.children[ue],!1)]:[`${i}:${oc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ue]!=null?`${Gd(n)}/${t[0]}`:`${Gd(n)}/(${t.join("//")})`}}function lS(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hd(n){return lS(n).replace(/%3B/gi,";")}function w2(n){return encodeURI(n)}function Ry(n){return lS(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wd(n){return decodeURIComponent(n)}function QT(n){return Wd(n.replace(/\+/g,"%20"))}function dS(n){return`${Ry(n.path)}${E2(n.parameters)}`}function E2(n){return Object.entries(n).map(([e,t])=>`;${Ry(e)}=${Ry(t)}`).join("")}function b2(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Hd(t)}=${Hd(i)}`).join("&"):`${Hd(t)}=${Hd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var D2=/^[^\/()?;#]+/;function Dy(n){let e=n.match(D2);return e?e[0]:""}var C2=/^[^\/()?;=#]+/;function T2(n){let e=n.match(C2);return e?e[0]:""}var S2=/^[^=?&#]+/;function A2(n){let e=n.match(S2);return e?e[0]:""}var x2=/^[^&#]+/;function R2(n){let e=n.match(x2);return e?e[0]:""}var My=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ue]=new Se(e,t)),r}parseSegment(){let e=Dy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new G(4009,!1);return this.capture(e),new qi(Wd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=T2(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Dy(this.remaining);i&&(r=i,this.capture(r))}e[Wd(t)]=Wd(r)}parseQueryParam(e){let t=A2(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=R2(this.remaining);s&&(r=s,this.capture(r))}let i=QT(t),o=QT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Dy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new G(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ue);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ue]:new Se([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new G(4011,!1)}};function hS(n){return n.segments.length>0?new Se([],{[ue]:n}):n}function fS(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=fS(i);if(r===ue&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Se(n.segments,e);return M2(t)}function M2(n){if(n.numberOfChildren===1&&n.children[ue]){let e=n.children[ue];return new Se(n.segments.concat(e.segments),e.children)}return n}function dc(n){return n instanceof hr}function N2(n,e,t=null,r=null){let i=pS(n);return mS(i,e,t,r)}function pS(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Se(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=hS(r);return e??i}function mS(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Cy(i,i,i,t,r);let o=P2(e);if(o.toRoot())return Cy(i,i,new Se([],{}),t,r);let s=O2(o,i,n),a=s.processChildren?cc(s.segmentGroup,s.index,o.commands):yS(s.segmentGroup,s.index,o.commands);return Cy(i,s.segmentGroup,a,t,r)}function Kd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function hc(n){return typeof n=="object"&&n!=null&&n.outlets}function Cy(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=gS(n,e,t);let a=hS(fS(s));return new hr(a,o,i)}function gS(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=gS(o,e,t)}),new Se(n.segments,r)}var Qd=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Kd(r[0]))throw new G(4003,!1);let i=r.find(hc);if(i&&i!==oS(r))throw new G(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function P2(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Qd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Qd(t,e,r)}var ls=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function O2(n,e,t){if(n.isAbsolute)return new ls(e,!0,0);if(!t)return new ls(e,!1,NaN);if(t.parent===null)return new ls(t,!0,0);let r=Kd(n.commands[0])?0:1,i=t.segments.length-1+r;return k2(t,i,n.numberOfDoubleDots)}function k2(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new G(4005,!1);i=r.segments.length}return new ls(r,!1,i-o)}function F2(n){return hc(n[0])?n[0].outlets:{[ue]:n}}function yS(n,e,t){if(n??=new Se([],{}),n.segments.length===0&&n.hasChildren())return cc(n,e,t);let r=L2(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Se(n.segments.slice(0,r.pathIndex),{});return o.children[ue]=new Se(n.segments.slice(r.pathIndex),n.children),cc(o,0,i)}else return r.match&&i.length===0?new Se(n.segments,{}):r.match&&!n.hasChildren()?Ny(n,e,t):r.match?cc(n,0,i):Ny(n,e,t)}function cc(n,e,t){if(t.length===0)return new Se(n.segments,{});{let r=F2(t),i={};if(Object.keys(r).some(o=>o!==ue)&&n.children[ue]&&n.numberOfChildren===1&&n.children[ue].segments.length===0){let o=cc(n.children[ue],e,t);return new Se(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=yS(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Se(n.segments,i)}}function L2(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(hc(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!JT(u,l,s))return o;r+=2}else{if(!JT(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ny(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(hc(o)){let u=V2(o.outlets);return new Se(r,u)}if(i===0&&Kd(t[0])){let u=n.segments[e];r.push(new qi(u.path,YT(t[0]))),i++;continue}let s=hc(o)?o.outlets[ue]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Kd(a)?(r.push(new qi(s,YT(a))),i+=2):(r.push(new qi(s,{})),i++)}return new Se(r,{})}function V2(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Ny(new Se([],{}),0,r))}),e}function YT(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function JT(n,e,t){return n==t.path&&Ln(e,t.parameters)}var uc="imperative",ct=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ct||{}),cn=class{constructor(e,t){this.id=e,this.url=t}},ms=class extends cn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=ct.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},fr=class extends cn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=ct.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Yt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Yt||{}),Yd=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Yd||{}),dr=class extends cn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=ct.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},si=class extends cn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=ct.NavigationSkipped}},fc=class extends cn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=ct.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Jd=class extends cn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ct.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Py=class extends cn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ct.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Oy=class extends cn{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ct.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ky=class extends cn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ct.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fy=class extends cn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ct.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ly=class{constructor(e){this.route=e,this.type=ct.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Vy=class{constructor(e){this.route=e,this.type=ct.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},jy=class{constructor(e){this.snapshot=e,this.type=ct.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Uy=class{constructor(e){this.snapshot=e,this.type=ct.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},By=class{constructor(e){this.snapshot=e,this.type=ct.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$y=class{constructor(e){this.snapshot=e,this.type=ct.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zd=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=ct.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},pc=class{},gs=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function j2(n,e){return n.providers&&!n._injector&&(n._injector=Ed(n.providers,e,`Route: ${n.path}`)),n._injector??e}function wn(n){return n.outlet||ue}function U2(n,e){let t=n.filter(r=>wn(r)===e);return t.push(...n.filter(r=>wn(r)!==e)),t}function Ec(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Hy=class{get injector(){return Ec(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new bc(this.rootInjector),this.attachRef=null}},bc=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Hy(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(z(Mt))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Xd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=zy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=zy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=qy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return qy(e,this._root).map(t=>t.value)}};function zy(n,e){if(n===e.value)return e;for(let t of e.children){let r=zy(n,t);if(r)return r}return null}function qy(n,e){if(n===e.value)return[e];for(let t of e.children){let r=qy(n,t);if(r.length)return r.unshift(e),r}return[]}var Qt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function us(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var eh=class extends Xd{constructor(e,t){super(e),this.snapshot=t,ev(this,e)}toString(){return this.snapshot.toString()}};function vS(n){let e=B2(n),t=new tt([new qi("",{})]),r=new tt({}),i=new tt({}),o=new tt({}),s=new tt(""),a=new pr(t,r,o,s,i,ue,n,e.root);return a.snapshot=e.root,new eh(new Qt(a,[]),e)}function B2(n){let e={},t={},r={},i="",o=new ds([],e,r,i,t,ue,n,null,{});return new nh("",new Qt(o,[]))}var pr=class{constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ee(l=>l[Ic]))??Y(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>fs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>fs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function th(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),i?.data),n._resolvedData)}:r={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},i&&IS(i)&&(r.resolve[Ic]=i.title),r}var ds=class{get title(){return this.data?.[Ic]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=fs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=fs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},nh=class extends Xd{constructor(e,t){super(t),this.url=e,ev(this,t)}toString(){return _S(this._root)}};function ev(n,e){e.value._routerState=n,e.children.forEach(t=>ev(n,t))}function _S(n){let e=n.children.length>0?` { ${n.children.map(_S).join(", ")} } `:"";return`${n.value}${e}`}function Ty(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ln(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Ln(e.params,t.params)||n.paramsSubject.next(t.params),p2(e.url,t.url)||n.urlSubject.next(t.url),Ln(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Gy(n,e){let t=Ln(n.params,e.params)&&v2(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Gy(n.parent,e.parent))}function IS(n){return typeof n.title=="string"||n.title===null}var tv=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ue,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.attachEvents=new Fe,this.detachEvents=new Fe,this.parentContexts=P(bc),this.location=P(is),this.changeDetector=P(ei),this.inputBinder=P(sh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new G(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new G(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new G(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new G(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Wy(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Je({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Gr]})}}return n})(),Wy=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===pr?this.route:e===bc?this.childContexts:this.parent.get(e,t)}},sh=new $(""),ZT=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Sa([r.queryParams,r.params,r.data]).pipe(Ot(([o,s,a],u)=>(a=L(L(L({},o),s),a),u===0?Y(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=oT(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();function $2(n,e,t){let r=mc(n,e._root,t?t._root:void 0);return new eh(r,e)}function mc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=H2(n,e,t);return new Qt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>mc(n,a)),s}}let r=z2(e.value),i=e.children.map(o=>mc(n,o));return new Qt(r,i)}}function H2(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return mc(n,r,i);return mc(n,r)})}function z2(n){return new pr(new tt(n.url),new tt(n.params),new tt(n.queryParams),new tt(n.fragment),new tt(n.data),n.outlet,n.component,n)}var gc=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},wS="ngNavigationCancelingError";function rh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=dc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ES(!1,Yt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function ES(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[wS]=!0,t.cancellationCode=e,t}function q2(n){return bS(n)&&dc(n.url)}function bS(n){return!!n&&n[wS]}var G2=(n,e,t,r)=>ee(i=>(new Ky(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Ky=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Ty(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=us(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=us(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=us(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=us(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new $y(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Uy(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Ty(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Ty(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},ih=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},hs=class{constructor(e,t){this.component=e,this.route=t}};function W2(n,e,t){let r=n._root,i=e?e._root:null;return sc(r,i,t,[r.value])}function K2(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function vs(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!_b(n)?n:e.get(n):r}function sc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=us(e);return n.children.forEach(s=>{Q2(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>lc(a,t.getContext(s),i)),i}function Q2(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Y2(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ih(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?sc(n,e,a?a.children:null,r,i):sc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new hs(a.outlet.component,s))}else s&&lc(e,a,i),i.canActivateChecks.push(new ih(r)),o.component?sc(n,null,a?a.children:null,r,i):sc(n,null,t,r,i);return i}function Y2(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Gi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Gi(n.url,e.url)||!Ln(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gy(n,e)||!Ln(n.queryParams,e.queryParams);case"paramsChange":default:return!Gy(n,e)}}function lc(n,e,t){let r=us(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?lc(s,e.children.getContext(o),t):lc(s,null,t):lc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new hs(e.outlet.component,i)):t.canDeactivateChecks.push(new hs(null,i)):t.canDeactivateChecks.push(new hs(null,i))}function Dc(n){return typeof n=="function"}function J2(n){return typeof n=="boolean"}function Z2(n){return n&&Dc(n.canLoad)}function X2(n){return n&&Dc(n.canActivate)}function ej(n){return n&&Dc(n.canActivateChild)}function tj(n){return n&&Dc(n.canDeactivate)}function nj(n){return n&&Dc(n.canMatch)}function DS(n){return n instanceof tr||n?.name==="EmptyError"}var zd=Symbol("INITIAL_VALUE");function ys(){return Ot(n=>Sa(n.map(e=>e.pipe(rr(1),ml(zd)))).pipe(ee(e=>{for(let t of e)if(t!==!0){if(t===zd)return zd;if(t===!1||rj(t))return t}return!0}),At(e=>e!==zd),rr(1)))}function rj(n){return dc(n)||n instanceof gc}function ij(n,e){return Ye(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Y(pe(L({},t),{guardsResult:!0})):oj(s,r,i,n).pipe(Ye(a=>a&&J2(a)?sj(r,o,n,e):Y(a)),ee(a=>pe(L({},t),{guardsResult:a})))})}function oj(n,e,t,r){return Ie(n).pipe(Ye(i=>dj(i.component,i.route,t,e,r)),pn(i=>i!==!0,!0))}function sj(n,e,t,r){return Ie(e).pipe(nr(i=>Fo(cj(i.route.parent,r),aj(i.route,r),lj(n,i.path,t),uj(n,i.route,t))),pn(i=>i!==!0,!0))}function aj(n,e){return n!==null&&e&&e(new By(n)),Y(!0)}function cj(n,e){return n!==null&&e&&e(new jy(n)),Y(!0)}function uj(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Y(!0);let i=r.map(o=>hl(()=>{let s=Ec(e)??t,a=vs(o,s),u=X2(a)?a.canActivate(e,n):on(s,()=>a(e,n));return ai(u).pipe(pn())}));return Y(i).pipe(ys())}function lj(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>K2(s)).filter(s=>s!==null).map(s=>hl(()=>{let a=s.guards.map(u=>{let l=Ec(s.node)??t,h=vs(u,l),p=ej(h)?h.canActivateChild(r,n):on(l,()=>h(r,n));return ai(p).pipe(pn())});return Y(a).pipe(ys())}));return Y(o).pipe(ys())}function dj(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Y(!0);let s=o.map(a=>{let u=Ec(e)??i,l=vs(a,u),h=tj(l)?l.canDeactivate(n,e,t,r):on(u,()=>l(n,e,t,r));return ai(h).pipe(pn())});return Y(s).pipe(ys())}function hj(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Y(!0);let o=i.map(s=>{let a=vs(s,n),u=Z2(a)?a.canLoad(e,t):on(n,()=>a(e,t));return ai(u)});return Y(o).pipe(ys(),CS(r))}function CS(n){return Wu(We(e=>{if(typeof e!="boolean")throw rh(n,e)}),ee(e=>e===!0))}function fj(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Y(!0);let o=i.map(s=>{let a=vs(s,n),u=nj(a)?a.canMatch(e,t):on(n,()=>a(e,t));return ai(u)});return Y(o).pipe(ys(),CS(r))}var yc=class{constructor(e){this.segmentGroup=e||null}},vc=class extends Error{constructor(e){super(),this.urlTree=e}};function cs(n){return Oo(new yc(n))}function pj(n){return Oo(new G(4e3,!1))}function mj(n){return Oo(ES(!1,Yt.GuardRejected))}var Qy=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Y(r);if(i.numberOfChildren>1||!i.children[ue])return pj(`${e.redirectTo}`);i=i.children[ue]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,params:y,data:T,title:N}=i,R=on(o,()=>a({params:y,data:T,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,title:N}));if(R instanceof hr)throw new vc(R);t=R}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new vc(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new hr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Se(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new G(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Yy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gj(n,e,t,r,i){let o=TS(n,e,t);return o.matched?(r=j2(e,r),fj(r,e,t,i).pipe(ee(s=>s===!0?o:L({},Yy)))):Y(o)}function TS(n,e,t){if(e.path==="**")return yj(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},Yy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||f2)(t,n,e);if(!i)return L({},Yy);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function yj(n){return{matched:!0,parameters:n.length>0?oS(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function XT(n,e,t,r){return t.length>0&&Ij(n,t,r)?{segmentGroup:new Se(e,_j(r,new Se(t,n.children))),slicedSegments:[]}:t.length===0&&wj(n,t,r)?{segmentGroup:new Se(n.segments,vj(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Se(n.segments,n.children),slicedSegments:t}}function vj(n,e,t,r){let i={};for(let o of t)if(ah(n,e,o)&&!r[wn(o)]){let s=new Se([],{});i[wn(o)]=s}return L(L({},r),i)}function _j(n,e){let t={};t[ue]=e;for(let r of n)if(r.path===""&&wn(r)!==ue){let i=new Se([],{});t[wn(r)]=i}return t}function Ij(n,e,t){return t.some(r=>ah(n,e,r)&&wn(r)!==ue)}function wj(n,e,t){return t.some(r=>ah(n,e,r))}function ah(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Ej(n,e,t){return e.length===0&&!n.children[t]}var Jy=class{};function bj(n,e,t,r,i,o,s="emptyOnly"){return new Zy(n,e,t,r,i,s,o).recognize()}var Dj=31,Zy=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Qy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new G(4002,`'${e.segmentGroup}'`)}recognize(){let e=XT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(({children:t,rootSnapshot:r})=>{let i=new Qt(r,t),o=new nh("",i),s=N2(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ds([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ue,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ue,t).pipe(ee(r=>({children:r,rootSnapshot:t})),Lr(r=>{if(r instanceof vc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof yc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ee(s=>s instanceof Qt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ie(o).pipe(nr(s=>{let a=r.children[s],u=U2(t,s);return this.processSegmentGroup(e,u,a,s,i)}),pl((s,a)=>(s.push(...a),s)),Vr(null),em(),Ye(s=>{if(s===null)return cs(r);let a=SS(s);return Cj(a),Y(a)}))}processSegment(e,t,r,i,o,s,a){return Ie(t).pipe(nr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(Lr(l=>{if(l instanceof yc)return Y(null);throw l}))),pn(u=>!!u),Lr(u=>{if(DS(u))return Ej(r,i,o)?Y(new Jy):cs(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return wn(r)!==s&&(s===ue||!ah(i,o,r))?cs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):cs(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=TS(t,i,o);if(!u)return cs(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Dj&&(this.allowRedirects=!1));let y=new ds(o,l,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,eS(i),wn(i),i.component??i._loadedComponent??null,i,tS(i)),T=th(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(T.params),y.data=Object.freeze(T.data);let N=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(Ye(R=>this.processSegment(e,r,t,R.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=gj(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ot(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ot(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=u,T=new ds(g,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,eS(r),wn(r),r.component??r._loadedComponent??null,r,tS(r)),N=th(T,s,this.paramsInheritanceStrategy);T.params=Object.freeze(N.params),T.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:V}=XT(t,g,y,l);if(V.length===0&&R.hasChildren())return this.processChildren(h,l,R,T).pipe(ee(B=>new Qt(T,B)));if(l.length===0&&V.length===0)return Y(new Qt(T,[]));let W=wn(r)===o;return this.processSegment(h,l,R,V,W?ue:o,!0,T).pipe(ee(B=>new Qt(T,B instanceof Qt?[B]:[])))}))):cs(t)))}getChildConfig(e,t,r){return t.children?Y({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Y({routes:t._loadedRoutes,injector:t._loadedInjector}):hj(e,t,r,this.urlSerializer).pipe(Ye(i=>i?this.configLoader.loadChildren(e,t).pipe(We(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):mj(t))):Y({routes:[],injector:e})}};function Cj(n){n.sort((e,t)=>e.value.outlet===ue?-1:t.value.outlet===ue?1:e.value.outlet.localeCompare(t.value.outlet))}function Tj(n){let e=n.value.routeConfig;return e&&e.path===""}function SS(n){let e=[],t=new Set;for(let r of n){if(!Tj(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=SS(r.children);e.push(new Qt(r.value,i))}return e.filter(r=>!t.has(r))}function eS(n){return n.data||{}}function tS(n){return n.resolve||{}}function Sj(n,e,t,r,i,o){return Ye(s=>bj(n,e,t,r,s.extractedUrl,i,o).pipe(ee(({state:a,tree:u})=>pe(L({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function Aj(n,e){return Ye(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Y(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of AS(u))s.add(l);let a=0;return Ie(s).pipe(nr(u=>o.has(u)?xj(u,r,n,e):(u.data=th(u,u.parent,n).resolve,Y(void 0))),We(()=>a++),Lo(1),Ye(u=>a===s.size?Y(t):qt))})}function AS(n){let e=n.children.map(t=>AS(t)).flat();return[n,...e]}function xj(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!IS(i)&&(o[Ic]=i.title),Rj(o,n,e,r).pipe(ee(s=>(n._resolvedData=s,n.data=th(n,n.parent,t).resolve,null)))}function Rj(n,e,t,r){let i=xy(n);if(i.length===0)return Y({});let o={};return Ie(i).pipe(Ye(s=>Mj(n[s],e,t,r).pipe(pn(),We(a=>{if(a instanceof gc)throw rh(new ps,a);o[s]=a}))),Lo(1),Xp(o),Lr(s=>DS(s)?qt:Oo(s)))}function Mj(n,e,t,r){let i=Ec(e)??r,o=vs(n,i),s=o.resolve?o.resolve(e,t):on(i,()=>o(e,t));return ai(s)}function Sy(n){return Ot(e=>{let t=n(e);return t?Ie(t).pipe(ee(()=>e)):Y(e)})}var xS=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ue);return r}getResolvedTitleForRoute(t){return t.data[Ic]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:()=>P(Nj),providedIn:"root"})}}return n})(),Nj=(()=>{class n extends xS{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(z(GT))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Cc=new $("",{providedIn:"root",factory:()=>({})}),Pj=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Be({type:n,selectors:[["ng-component"]],standalone:!0,features:[$e],decls:1,vars:0,template:function(r,i){r&1&&ce(0,"router-outlet")},dependencies:[tv],encapsulation:2})}}return n})();function nv(n){let e=n.children&&n.children.map(nv),t=e?pe(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ue&&(t.component=Pj),t}var _c=new $(""),rv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(Nd)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Y(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=ai(t.loadComponent()).pipe(ee(RS),We(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Mi(()=>{this.componentLoaders.delete(t)})),i=new Ro(r,()=>new ht).pipe(xo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Oj(r,this.compiler,t,this.onLoadEndListener).pipe(Mi(()=>{this.childrenLoaders.delete(r)})),s=new Ro(o,()=>new ht).pipe(xo());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Oj(n,e,t,r){return ai(n.loadChildren()).pipe(ee(RS),Ye(i=>i instanceof Fa||Array.isArray(i)?Y(i):Ie(e.compileModuleAsync(i))),ee(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(_c,[],{optional:!0,self:!0}).flat()),{routes:s.map(nv),injector:o}}))}function kj(n){return n&&typeof n=="object"&&"default"in n}function RS(n){return kj(n)?n.default:n}var iv=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:()=>P(Fj),providedIn:"root"})}}return n})(),Fj=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),MS=new $(""),NS=new $("");function Lj(n,e,t){let r=n.get(NS),i=n.get(ft);return n.get(ge).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),Vj(n))),{onViewTransitionCreated:u}=r;return u&&on(n,()=>u({transition:a,from:e,to:t})),s})}function Vj(n){return new Promise(e=>{Wg({read:()=>setTimeout(e)},{injector:n})})}var jj=new $(""),ov=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ht,this.transitionAbortSubject=new ht,this.configLoader=P(rv),this.environmentInjector=P(Mt),this.urlSerializer=P(wc),this.rootContexts=P(bc),this.location=P(as),this.inputBindingEnabled=P(sh,{optional:!0})!==null,this.titleStrategy=P(xS),this.options=P(Cc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=P(iv),this.createViewTransition=P(MS,{optional:!0}),this.navigationErrorHandler=P(jj,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Ly(i)),r=i=>this.events.next(new Vy(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(pe(L(L({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new tt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:uc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(At(o=>o.id!==0),ee(o=>pe(L({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ot(o=>{let s=!1,a=!1;return Y(o).pipe(Ot(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Yt.SupersededByNewNavigation),qt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?pe(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new si(u.id,this.urlSerializer.serialize(u.rawUrl),p,Yd.IgnoredSameUrlNavigation)),u.resolve(!1),qt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Y(u).pipe(Ot(p=>{let g=this.transitions?.getValue();return this.events.next(new ms(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?qt:Promise.resolve(p)}),Sj(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),We(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=pe(L({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let g=new Jd(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:g,source:y,restoredState:T,extras:N}=u,R=new ms(p,this.urlSerializer.serialize(g),y,T);this.events.next(R);let V=vS(this.rootComponentType).snapshot;return this.currentTransition=o=pe(L({},u),{targetSnapshot:V,urlAfterRedirects:g,extras:pe(L({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,Y(o)}else{let p="";return this.events.next(new si(u.id,this.urlSerializer.serialize(u.extractedUrl),p,Yd.IgnoredByUrlHandlingStrategy)),u.resolve(!1),qt}}),We(u=>{let l=new Py(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ee(u=>(this.currentTransition=o=pe(L({},u),{guards:W2(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),ij(this.environmentInjector,u=>this.events.next(u)),We(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw rh(this.urlSerializer,u.guardsResult);let l=new Oy(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),At(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Yt.GuardRejected),!1)),Sy(u=>{if(u.guards.canActivateChecks.length)return Y(u).pipe(We(l=>{let h=new ky(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Ot(l=>{let h=!1;return Y(l).pipe(Aj(this.paramsInheritanceStrategy,this.environmentInjector),We({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",Yt.NoDataFromResolver)}}))}),We(l=>{let h=new Fy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),Sy(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(We(g=>{h.component=g}),ee(()=>{})));for(let g of h.children)p.push(...l(g));return p};return Sa(l(u.targetSnapshot.root)).pipe(Vr(null),rr(1))}),Sy(()=>this.afterPreactivation()),Ot(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Ie(h).pipe(ee(()=>o)):Y(o)}),ee(u=>{let l=$2(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=pe(L({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),We(()=>{this.events.next(new pc)}),G2(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),rr(1),We({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new fr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),tm(this.transitionAbortSubject.pipe(We(u=>{throw u}))),Mi(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Yt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Lr(u=>{if(a=!0,bS(u))this.events.next(new dr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),q2(u)?this.events.next(new gs(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let l=new fc(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let h=on(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof gc){let{message:p,cancellationCode:g}=rh(this.urlSerializer,h);this.events.next(new dr(o.id,this.urlSerializer.serialize(o.extractedUrl),p,g)),this.events.next(new gs(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=t.errorHandler(u);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return qt}))}))}cancelNavigationTransition(t,r,i){let o=new dr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Uj(n){return n!==uc}var Bj=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:()=>P($j),providedIn:"root"})}}return n})(),Xy=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},$j=(()=>{class n extends Xy{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Qr(n)))(i||n)}})()}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),PS=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:()=>P(Hj),providedIn:"root"})}}return n})(),Hj=(()=>{class n extends PS{constructor(){super(...arguments),this.location=P(as),this.urlSerializer=P(wc),this.options=P(Cc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=P(iv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new hr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=vS(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof ms)this.stateMemento=this.createStateMemento();else if(t instanceof si)this.rawUrlTree=r.initialUrl;else if(t instanceof Jd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof pc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof dr&&(t.code===Yt.GuardRejected||t.code===Yt.NoDataFromResolver)?this.restoreHistory(r):t instanceof fc?this.restoreHistory(r,!0):t instanceof fr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof hr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=L(L({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=L(L({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Qr(n)))(i||n)}})()}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ac=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(ac||{});function OS(n,e){n.events.pipe(At(t=>t instanceof fr||t instanceof dr||t instanceof fc||t instanceof si),ee(t=>t instanceof fr||t instanceof si?ac.COMPLETE:(t instanceof dr?t.code===Yt.Redirect||t.code===Yt.SupersededByNewNavigation:!1)?ac.REDIRECTING:ac.FAILED),At(t=>t!==ac.REDIRECTING),rr(1)).subscribe(()=>{e()})}function zj(n){throw n}var qj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Gj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ze=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=P(Sd),this.stateManager=P(PS),this.options=P(Cc,{optional:!0})||{},this.pendingTasks=P(Yr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=P(ov),this.urlSerializer=P(wc),this.location=P(as),this.urlHandlingStrategy=P(iv),this._events=new ht,this.errorHandler=this.options.errorHandler||zj,this.navigated=!1,this.routeReuseStrategy=P(Bj),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=P(_c,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!P(sh,{optional:!0}),this.eventsSubscription=new Ue,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof dr&&r.code!==Yt.Redirect&&r.code!==Yt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof fr)this.navigated=!0;else if(r instanceof gs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Uj(i.source)},s);this.scheduleNavigation(a,uc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Kj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),uc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=L({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(nv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=pS(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return mS(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=dc(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,uc,null,r)}navigate(t,r={skipLocationChange:!1}){return Wj(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=L({},qj):r===!1?i=L({},Gj):i=r,dc(t))return KT(this.currentUrlTree,t,i);let o=this.parseUrl(t);return KT(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return OS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Wj(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new G(4008,!1)}function Kj(n){return!(n instanceof pc)&&!(n instanceof gs)}var oh=class{};var Qj=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(At(t=>t instanceof fr),nr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ed(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ie(i).pipe(ko())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=Y(null);let o=i.pipe(Ye(s=>s===null?Y(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Ie([o,s]).pipe(ko())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(z(ze),z(Nd),z(Mt),z(oh),z(rv))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),kS=new $(""),Yj=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ms?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof fr?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof si&&t.code===Yd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Zd&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Zd(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){oC()}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac})}}return n})();function FS(n,...e){return Lt([{provide:_c,multi:!0,useValue:n},[],{provide:pr,useFactory:LS,deps:[ze]},{provide:Bi,multi:!0,useFactory:VS},e.map(t=>t.\u0275providers)])}function LS(n){return n.routerState.root}function Tc(n,e){return{\u0275kind:n,\u0275providers:e}}function VS(){let n=P(ot);return e=>{let t=n.get(On);if(e!==t.components[0])return;let r=n.get(ze),i=n.get(jS);n.get(sv)===1&&r.initialNavigation(),n.get(US,null,de.Optional)?.setUpPreloading(),n.get(kS,null,de.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var jS=new $("",{factory:()=>new ht}),sv=new $("",{providedIn:"root",factory:()=>1});function Jj(){return Tc(2,[{provide:sv,useValue:0},{provide:Rd,multi:!0,deps:[ot],useFactory:e=>{let t=e.get(hT,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(ze),o=e.get(jS);OS(i,()=>{r(!0)}),e.get(ov).afterPreactivation=()=>(r(!0),o.closed?Y(void 0):o),i.initialNavigation()}))}}])}function Zj(){return Tc(3,[{provide:Rd,multi:!0,useFactory:()=>{let e=P(ze);return()=>{e.setUpLocationChangeListener()}}},{provide:sv,useValue:2}])}var US=new $("");function Xj(n){return Tc(0,[{provide:US,useExisting:Qj},{provide:oh,useExisting:n}])}function eU(){return Tc(8,[ZT,{provide:sh,useExisting:ZT}])}function tU(n){let e=[{provide:MS,useValue:Lj},{provide:NS,useValue:L({skipNextTransition:!!n?.skipInitialTransition},n)}];return Tc(9,e)}var nS=new $("ROUTER_FORROOT_GUARD"),nU=[as,{provide:wc,useClass:ps},ze,bc,{provide:pr,useFactory:LS,deps:[ze]},rv,[]],BS=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[nU,[],{provide:_c,multi:!0,useValue:t},{provide:nS,useFactory:sU,deps:[[ze,new It,new lg]]},{provide:Cc,useValue:r||{}},r?.useHash?iU():oU(),rU(),r?.preloadingStrategy?Xj(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?aU(r):[],r?.bindToComponentInputs?eU().\u0275providers:[],r?.enableViewTransitions?tU().\u0275providers:[],cU()]}}static forChild(t){return{ngModule:n,providers:[{provide:_c,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(z(nS,8))}}static{this.\u0275mod=Mn({type:n})}static{this.\u0275inj=Rn({})}}return n})();function rU(){return{provide:kS,useFactory:()=>{let n=P(gT),e=P(ge),t=P(Cc),r=P(ov),i=P(wc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Yj(i,r,n,e,t)}}}function iU(){return{provide:$i,useClass:pT}}function oU(){return{provide:$i,useClass:uy}}function sU(n){return"guarded"}function aU(n){return[n.initialNavigation==="disabled"?Zj().\u0275providers:[],n.initialNavigation==="enabledBlocking"?Jj().\u0275providers:[]]}var rS=new $("");function cU(){return[{provide:rS,useFactory:VS},{provide:Bi,multi:!0,useExisting:rS}]}function uU(n,e){if(n&1){let t=Kt();M(0,"div",1),we("click",function(){st(t);let i=Oe();return at(i.navigateToDetails())}),ce(1,"img",2),M(2,"div",3)(3,"h5",4),O(4),A(),M(5,"p",5),O(6),A(),M(7,"p",6),O(8),A(),M(9,"p",7)(10,"small",8),O(11),A()(),M(12,"p",7)(13,"small",8),O(14),A()(),M(15,"button",9),we("click",function(i){return st(t),Oe().onAddToCart(),at(i.stopPropagation())}),O(16,"Add to Cart"),A()()()}if(n&2){let t=Oe();H(),fe("src",t.product.thumbnail,za)("alt",t.product.title),H(3),wt(t.product.title),H(2),wt(t.product.description),H(2),Pe("Price: $",t.product.price,""),H(3),Pe("Category: ",t.product.category,""),H(3),Pe("Rating: ",t.product.rating,"")}}var ch=class n{constructor(e){this.router=e}product;addToCart=new Fe;navigateToDetails(){this.product&&this.router.navigate(["/details",this.product.id])}onAddToCart(){this.product&&this.addToCart.emit(this.product)}static \u0275fac=function(t){return new(t||n)(Q(ze))};static \u0275cmp=Be({type:n,selectors:[["app-product"]],inputs:{product:"product"},outputs:{addToCart:"addToCart"},standalone:!0,features:[$e],decls:1,vars:1,consts:[["class","card h-100 shadow-sm",3,"click",4,"ngIf"],[1,"card","h-100","shadow-sm",3,"click"],[1,"card-img-top","img-fluid",3,"src","alt"],[1,"card-body","d-flex","flex-column"],[1,"card-title"],[1,"card-text","text-truncate",2,"max-height","3.5em"],[1,"card-text","fw-bold"],[1,"card-text"],[1,"text-muted"],[1,"btn","btn-primary","mt-auto",3,"click"]],template:function(t,r){t&1&&Ae(0,uU,17,7,"div",0),t&2&&fe("ngIf",r.product)},dependencies:[Bt],styles:['.listing[_ngcontent-%COMP%]{background:var(--accent-color);border-radius:30px;padding-bottom:30px}.listing-heading[_ngcontent-%COMP%]{color:var(--primary-color);padding:10px 20px 0}.listing-photo[_ngcontent-%COMP%]{height:250px;width:100%;object-fit:cover;border-radius:30px 30px 0 0}.listing-location[_ngcontent-%COMP%]{padding:10px 20px 20px}.listing-location[_ngcontent-%COMP%]:before{content:url(/assets/location-pin.svg) / ""}section.listing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding-left:20px;text-decoration:none;color:var(--primary-color)}section.listing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"\\203a";margin-left:5px}.card[_ngcontent-%COMP%]{cursor:pointer}.card[_ngcontent-%COMP%]:hover{transform:scale(1.02);transition:transform .2s ease-in-out;box-shadow:0 8px 20px #0000001a}']})};var _s=class n{constructor(e){this.http=e}getProductCategoryList(){return this.http.get("https://dummyjson.com/products/categories")}getAllProducts(){return this.http.get("https://dummyjson.com/products")}getProductByCategory(e){return this.http.get(`https://dummyjson.com/products/category/${e}`)}getProductByKey(e){return this.http.get(`https://dummyjson.com/products/search?q=${e}`)}static \u0275fac=function(t){return new(t||n)(z(zi))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})};var JS=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(Q(Jr),Q(cr))}}static{this.\u0275dir=Je({type:n})}}return n})(),yh=(()=>{class n extends JS{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Qr(n)))(i||n)}})()}static{this.\u0275dir=Je({type:n,features:[an]})}}return n})(),bs=new $(""),lU={provide:bs,useExisting:xn(()=>Nc),multi:!0},Nc=(()=>{class n extends yh{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Qr(n)))(i||n)}})()}static{this.\u0275dir=Je({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&we("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[Zr([lU]),an]})}}return n})(),dU={provide:bs,useExisting:xn(()=>li),multi:!0};function hU(){let n=kn()?kn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var fU=new $(""),li=(()=>{class n extends JS{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!hU())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(Q(Jr),Q(cr),Q(fU,8))}}static{this.\u0275dir=Je({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&we("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Zr([dU]),an]})}}return n})();function ci(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function ZS(n){return n!=null&&typeof n.length=="number"}var fv=new $(""),pv=new $(""),pU=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Jt=class{static min(e){return mU(e)}static max(e){return gU(e)}static required(e){return yU(e)}static requiredTrue(e){return vU(e)}static email(e){return _U(e)}static minLength(e){return IU(e)}static maxLength(e){return wU(e)}static pattern(e){return EU(e)}static nullValidator(e){return XS(e)}static compose(e){return oA(e)}static composeAsync(e){return aA(e)}};function mU(n){return e=>{if(ci(e.value)||ci(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function gU(n){return e=>{if(ci(e.value)||ci(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function yU(n){return ci(n.value)?{required:!0}:null}function vU(n){return n.value===!0?null:{required:!0}}function _U(n){return ci(n.value)||pU.test(n.value)?null:{email:!0}}function IU(n){return e=>ci(e.value)||!ZS(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function wU(n){return e=>ZS(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function EU(n){if(!n)return XS;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ci(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function XS(n){return null}function eA(n){return n!=null}function tA(n){return Xr(n)?Ie(n):n}function nA(n){let e={};return n.forEach(t=>{e=t!=null?L(L({},e),t):e}),Object.keys(e).length===0?null:e}function rA(n,e){return e.map(t=>t(n))}function bU(n){return!n.validate}function iA(n){return n.map(e=>bU(e)?e:t=>e.validate(t))}function oA(n){if(!n)return null;let e=n.filter(eA);return e.length==0?null:function(t){return nA(rA(t,e))}}function sA(n){return n!=null?oA(iA(n)):null}function aA(n){if(!n)return null;let e=n.filter(eA);return e.length==0?null:function(t){let r=rA(t,e).map(tA);return Zp(r).pipe(ee(nA))}}function cA(n){return n!=null?aA(iA(n)):null}function $S(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function uA(n){return n._rawValidators}function lA(n){return n._rawAsyncValidators}function av(n){return n?Array.isArray(n)?n:[n]:[]}function lh(n,e){return Array.isArray(n)?n.includes(e):n===e}function HS(n,e){let t=av(e);return av(n).forEach(i=>{lh(t,i)||t.push(i)}),t}function zS(n,e){return av(e).filter(t=>!lh(n,t))}var dh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=sA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=cA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Ki=class extends dh{get formDirective(){return null}get path(){return null}},Qi=class extends dh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},hh=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},DU={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},R7=pe(L({},DU),{"[class.ng-submitted]":"isSubmitted"}),Ds=(()=>{class n extends hh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(Q(Qi,2))}}static{this.\u0275dir=Je({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&bd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[an]})}}return n})(),vh=(()=>{class n extends hh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(Q(Ki,10))}}static{this.\u0275dir=Je({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&bd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[an]})}}return n})();var Sc="VALID",uh="INVALID",Is="PENDING",Ac="DISABLED",ui=class{},fh=class extends ui{constructor(e,t){super(),this.value=e,this.source=t}},xc=class extends ui{constructor(e,t){super(),this.pristine=e,this.source=t}},Rc=class extends ui{constructor(e,t){super(),this.touched=e,this.source=t}},ws=class extends ui{constructor(e,t){super(),this.status=e,this.source=t}},cv=class extends ui{constructor(e){super(),this.source=e}},uv=class extends ui{constructor(e){super(),this.source=e}};function mv(n){return(_h(n)?n.validators:n)||null}function CU(n){return Array.isArray(n)?sA(n):n||null}function gv(n,e){return(_h(e)?e.asyncValidators:n)||null}function TU(n){return Array.isArray(n)?cA(n):n||null}function _h(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function dA(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new G(1e3,"");if(!r[t])throw new G(1001,"")}function hA(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new G(1002,"")})}var Es=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ya(()=>this.statusReactive()),this.statusReactive=qa(void 0),this._pristine=Ya(()=>this.pristineReactive()),this.pristineReactive=qa(!0),this._touched=Ya(()=>this.touchedReactive()),this.touchedReactive=qa(!1),this._events=new ht,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return In(this.statusReactive)}set status(e){In(()=>this.statusReactive.set(e))}get valid(){return this.status===Sc}get invalid(){return this.status===uh}get pending(){return this.status==Is}get disabled(){return this.status===Ac}get enabled(){return this.status!==Ac}get pristine(){return In(this.pristineReactive)}set pristine(e){In(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return In(this.touchedReactive)}set touched(e){In(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(HS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(HS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zS(e,this._rawAsyncValidators))}hasValidator(e){return lh(this._rawValidators,e)}hasAsyncValidator(e){return lh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(pe(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Rc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Rc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(pe(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new xc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new xc(!0,r))}markAsPending(e={}){this.status=Is;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ws(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(pe(L({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ac,this.errors=null,this._forEachChild(i=>{i.disable(pe(L({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new fh(this.value,r)),this._events.next(new ws(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(pe(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Sc,this._forEachChild(r=>{r.enable(pe(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(pe(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Sc||this.status===Is)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new fh(this.value,t)),this._events.next(new ws(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(pe(L({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ac:Sc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Is,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=tA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ws(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?Ac:this.errors?uh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Is)?Is:this._anyControlsHaveStatus(uh)?uh:Sc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new xc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Rc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){_h(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=CU(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=TU(this._rawAsyncValidators)}},ph=class extends Es{constructor(e,t,r){super(mv(t),gv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){hA(this,!0,e),Object.keys(e).forEach(r=>{dA(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var lv=class extends ph{};var Ih=new $("CallSetDisabledState",{providedIn:"root",factory:()=>wh}),wh="always";function fA(n,e){return[...e.path,n]}function dv(n,e,t=wh){yv(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),AU(n,e),RU(n,e),xU(n,e),SU(n,e)}function qS(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),gh(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function mh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function SU(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function yv(n,e){let t=uA(n);e.validator!==null?n.setValidators($S(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=lA(n);e.asyncValidator!==null?n.setAsyncValidators($S(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();mh(e._rawValidators,i),mh(e._rawAsyncValidators,i)}function gh(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=uA(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=lA(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return mh(e._rawValidators,r),mh(e._rawAsyncValidators,r),t}function AU(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&pA(n,e)})}function xU(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&pA(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function pA(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function RU(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function MU(n,e){n==null,yv(n,e)}function NU(n,e){return gh(n,e)}function mA(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function PU(n){return Object.getPrototypeOf(n.constructor)===yh}function OU(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function gA(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===li?t=o:PU(o)?r=o:i=o}),i||r||t||null}function kU(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function GS(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function WS(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Mc=class extends Es{constructor(e=null,t,r){super(mv(t),gv(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_h(t)&&(t.nonNullable||t.initialValueIsDefault)&&(WS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){GS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){GS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){WS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var FU=n=>n instanceof Mc;var LU={provide:Qi,useExisting:xn(()=>vv)},KS=Promise.resolve(),vv=(()=>{class n extends Qi{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Mc,this._registered=!1,this.name="",this.update=new Fe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=gA(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),mA(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){dv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){KS.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Pd(r);KS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?fA(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(Q(Ki,9),Q(fv,10),Q(pv,10),Q(bs,10),Q(ei,8),Q(Ih,8))}}static{this.\u0275dir=Je({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Zr([LU]),an,Gr]})}}return n})(),Eh=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Je({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var yA=new $("");var VU={provide:Ki,useExisting:xn(()=>Pc)},Pc=(()=>{class n extends Ki{get submitted(){return In(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Ya(()=>this._submittedReactive()),this._submittedReactive=qa(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Fe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return dv(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){qS(t.control||null,t,!1),kU(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),OU(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new cv(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new uv(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(qS(r||null,t),FU(i)&&(dv(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);MU(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&NU(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){yv(this.form,this),this._oldForm&&gh(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(Q(fv,10),Q(pv,10),Q(Ih,8))}}static{this.\u0275dir=Je({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&we("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Zr([VU]),an,Gr]})}}return n})();var jU={provide:Qi,useExisting:xn(()=>Oc)},Oc=(()=>{class n extends Qi{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Fe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=gA(this,o)}ngOnChanges(t){this._added||this._setUpControl(),mA(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return fA(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(Q(Ki,13),Q(fv,10),Q(pv,10),Q(bs,10),Q(yA,8))}}static{this.\u0275dir=Je({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Zr([jU]),an,Gr]})}}return n})(),UU={provide:bs,useExisting:xn(()=>bh),multi:!0};function vA(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function BU(n){return n.split(":")[0]}var bh=(()=>{class n extends yh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=vA(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=BU(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Qr(n)))(i||n)}})()}static{this.\u0275dir=Je({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&we("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Zr([UU]),an]})}}return n})(),_A=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(vA(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(Q(cr),Q(Jr),Q(bh,9))}}static{this.\u0275dir=Je({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),$U={provide:bs,useExisting:xn(()=>IA),multi:!0};function QS(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function HU(n){return n.split(":")[0]}var IA=(()=>{class n extends yh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=HU(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Qr(n)))(i||n)}})()}static{this.\u0275dir=Je({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&we("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Zr([$U]),an]})}}return n})(),wA=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(QS(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(QS(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(Q(cr),Q(Jr),Q(IA,9))}}static{this.\u0275dir=Je({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var EA=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Mn({type:n})}static{this.\u0275inj=Rn({})}}return n})(),hv=class extends Es{constructor(e,t,r){super(mv(t),gv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){hA(this,!1,e),e.forEach((r,i)=>{dA(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function YS(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Dh=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return YS(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new ph(i,o)}record(t,r=null){let i=this._reduceControls(t);return new lv(i,r)}control(t,r,i){let o={};return this.useNonNullable?(YS(r)?o=r:(o.validators=r,o.asyncValidators=i),new Mc(t,pe(L({},o),{nonNullable:!0}))):new Mc(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new hv(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Mc)return t;if(t instanceof Es)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var bA=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ih,useValue:t.callSetDisabledState??wh}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Mn({type:n})}static{this.\u0275inj=Rn({imports:[EA]})}}return n})(),Ch=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:yA,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Ih,useValue:t.callSetDisabledState??wh}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Mn({type:n})}static{this.\u0275inj=Rn({imports:[EA]})}}return n})();var Yi=class{items;constructor(){this.items=new Map}getItems(){return Array.from(this.items.values())}addProduct(e,t){this.items.has(e.id)?this.items.get(e.id).quantity+=t:this.items.set(e.id,{product:e,quantity:t})}removeProduct(e){this.items.delete(e)}getTotalQuantity(){let e=0;return this.items.forEach(t=>e+=t.quantity),e}updateQuantity(e,t){let r=this.items.get(e);r&&(r.quantity=t)}getItem(e){return this.items.get(e)}hasProduct(e){return this.items.has(e)}getTotalPrice(){let e=0;return this.items.forEach(t=>e+=t.product.price*t.quantity),e}clear(){this.items.clear()}};var Vn=class n{cart=new Yi;getCart(){return this.cart}getCartItems(){return this.cart.getItems()}addProduct(e,t){this.cart.addProduct(e,t)}removeProduct(e){this.cart.removeProduct(e)}getTotalQuantity(){return this.cart.getTotalQuantity()}clearCart(){this.cart=new Yi}getTotalPrice(){return this.cart.getTotalPrice()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})};function zU(n,e){if(n&1){let t=Kt();M(0,"div",14)(1,"app-product",15),we("addToCart",function(i){st(t);let o=Oe();return at(o.addToCart(i))}),A()()}if(n&2){let t=e.$implicit;H(),fe("product",t)}}var Th=class n{productList=[];productCategories=[];selectedCategory="All";searchKey="";productService=P(_s);cartservice=P(Vn);ngOnInit(){this.loadCategories(),this.loadProducts()}loadCategories(){this.productService.getProductCategoryList().subscribe(e=>{this.productCategories=e})}loadProducts(){this.productService.getAllProducts().subscribe(e=>{this.productList=e.products})}filterProducts(){this.selectedCategory==="All"?this.loadProducts():this.productService.getProductByCategory(this.selectedCategory).subscribe(e=>{this.productList=e.products})}searchProducts(){this.searchKey?this.productService.getProductByKey(this.searchKey).subscribe(e=>{this.productList=e.products}):this.loadProducts()}addToCart(e){this.cartservice.addProduct(e,1)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Be({type:n,selectors:[["app-home"]],standalone:!0,features:[$e],decls:20,vars:3,consts:[[1,"container","my-5"],[1,"text-center","mb-4","premium-title"],[1,"filters-container","mb-4"],[1,"category-select"],[1,"form-select","custom-select",3,"ngModelChange","change","ngModel"],["value","All"],["value","beauty"],["value","fragrances"],["value","furniture"],["value","groceries"],[1,"search-input"],["type","text","placeholder","Search products...",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"row","g-4"],["class","col-12 col-sm-6 col-md-4 col-lg-3",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-md-4","col-lg-3"],[3,"addToCart","product"]],template:function(t,r){t&1&&(M(0,"div",0)(1,"h1",1),O(2,"Our Most Premium Products!"),A(),M(3,"div",2)(4,"div",3)(5,"select",4),Td("ngModelChange",function(o){return Qg(r.selectedCategory,o)||(r.selectedCategory=o),o}),we("change",function(){return r.filterProducts()}),M(6,"option",5),O(7,"All Categories"),A(),M(8,"option",6),O(9,"Beauty"),A(),M(10,"option",7),O(11,"Fragrances"),A(),M(12,"option",8),O(13,"Furniture"),A(),M(14,"option",9),O(15,"Groceries"),A()()(),M(16,"div",10)(17,"input",11),Td("ngModelChange",function(o){return Qg(r.searchKey,o)||(r.searchKey=o),o}),we("input",function(){return r.searchProducts()}),A()()(),M(18,"div",12),Ae(19,zU,2,1,"div",13),A()()),t&2&&(H(5),Cd("ngModel",r.selectedCategory),H(12),Cd("ngModel",r.searchKey),H(2),fe("ngForOf",r.productList))},dependencies:[Nt,ti,bA,_A,wA,li,bh,Ds,vv,ch],styles:['.listing[_ngcontent-%COMP%]{background:var(--accent-color);border-radius:30px;padding-bottom:30px}.listing-heading[_ngcontent-%COMP%]{color:var(--primary-color);padding:10px 20px 0}.listing-photo[_ngcontent-%COMP%]{height:250px;width:100%;object-fit:cover;border-radius:30px 30px 0 0}.listing-location[_ngcontent-%COMP%]{padding:10px 20px 20px}.listing-location[_ngcontent-%COMP%]:before{content:url(/assets/location-pin.svg) / ""}section.listing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding-left:20px;text-decoration:none;color:var(--primary-color)}section.listing[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{content:"\\203a";margin-left:5px}.selected[_ngcontent-%COMP%]{font-weight:700;color:#00f;cursor:pointer}[_ngcontent-%COMP%]:root{--primary-color: #0d6efd;--primary-hover: #0b5ed7;--text-color: #2c3e50;--transition-speed: .3s}.premium-title[_ngcontent-%COMP%]{color:var(--text-color);font-weight:700;position:relative;display:inline-block;padding-bottom:10px}.premium-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:100px;height:3px;background:var(--primary-color);border-radius:2px}.filters-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:20px;background-color:#fff;padding:20px;border-radius:10px;box-shadow:0 2px 10px #0000000d}.category-select[_ngcontent-%COMP%]{min-width:200px;flex-shrink:0}.category-select[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border:2px solid rgba(13,110,253,.1);padding:10px 15px;border-radius:8px;font-weight:500;color:var(--text-color);cursor:pointer;transition:all var(--transition-speed) ease}.category-select[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:var(--primary-color);box-shadow:0 0 0 .25rem #0d6efd1a}.category-select[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:hover{border-color:var(--primary-color)}.search-input[_ngcontent-%COMP%]{flex-grow:1;max-width:500px}.search-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:2px solid rgba(13,110,253,.1);padding:10px 15px;border-radius:8px;font-weight:500;transition:all var(--transition-speed) ease}.search-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:var(--primary-color);box-shadow:0 0 0 .25rem #0d6efd1a}.search-input[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:hover{border-color:var(--primary-color)}@media (max-width: 768px){.filters-container[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.category-select[_ngcontent-%COMP%], .search-input[_ngcontent-%COMP%]{width:100%;max-width:none}.category-select[_ngcontent-%COMP%]{margin-bottom:15px}}.form-select[_ngcontent-%COMP%]:hover, .form-control[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.form-select[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{transition:all .3s ease}.form-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:10px;font-weight:500}']})};function qU(n,e){if(n&1&&ce(0,"img",14),n&2){let t=e.$implicit,r=Oe(2);Dd("alt","",r.product.title," image"),fe("src",t,za)}}function GU(n,e){if(n&1&&(M(0,"div",16)(1,"p")(2,"strong"),O(3),A(),O(4," :"),A(),M(5,"p"),O(6,"Rating: "),M(7,"strong"),O(8),A()(),M(9,"p"),O(10),A()()),n&2){let t=e.$implicit;H(3),wt(t.reviewerName),H(5),Pe("",t.rating," / 5"),H(2),wt(t.comment)}}function WU(n,e){if(n&1&&(M(0,"div"),Ae(1,GU,11,3,"div",15),A()),n&2){let t=Oe(2);H(),fe("ngForOf",t.product.reviews)}}function KU(n,e){n&1&&(M(0,"p"),O(1,"No reviews available for this product."),A())}function QU(n,e){if(n&1&&(M(0,"div",3)(1,"h1",4),O(2),A(),M(3,"div",5)(4,"div",6),ce(5,"img",7),M(6,"h5"),O(7,"Product Images:"),A(),M(8,"div",8),Ae(9,qU,1,3,"img",9),A()(),M(10,"div",6)(11,"div",10)(12,"p")(13,"strong"),O(14,"Description:"),A(),O(15),A(),M(16,"p")(17,"strong"),O(18,"Category:"),A(),O(19),A(),M(20,"p")(21,"strong"),O(22,"Price:"),A(),O(23),A(),M(24,"p")(25,"strong"),O(26,"Rating:"),A(),O(27),A(),M(28,"p")(29,"strong"),O(30,"Stock:"),A(),O(31),A(),M(32,"p")(33,"strong"),O(34,"Availability Status:"),A(),O(35),A(),M(36,"h2",11),O(37,"Return Policy"),A(),M(38,"p"),O(39),A(),M(40,"p")(41,"strong"),O(42,"Minimum Order Quantity:"),A(),O(43),A(),M(44,"h2",11),O(45,"Meta Information"),A(),M(46,"p"),O(47),A(),O(48,"~ "),A()()(),M(49,"div",12)(50,"h2"),O(51,"Customer Reviews"),A(),Ae(52,WU,2,1,"div",13)(53,KU,2,0,"ng-template",null,1,Ka),A()()),n&2){let t=Wa(54),r=Oe();H(2),wt(r.product.title),H(3),Kg("alt",r.product.title),fe("src",r.product.thumbnail,za),H(4),fe("ngForOf",r.product.images),H(6),Pe(" ",r.product.description,""),H(4),Pe(" ",r.product.category,""),H(4),Pe(" $",r.product.price,""),H(4),Pe(" ",r.product.rating," / 5"),H(4),Pe(" ",r.product.stock," available"),H(4),Pe(" ",r.product.availabilityStatus,""),H(4),wt(r.product.returnPolicy),H(4),Pe(" ",r.product.minimumOrderQuantity,""),H(4),wt(r.product.meta),H(5),fe("ngIf",r.product.reviews.length>0)("ngIfElse",t)}}function YU(n,e){n&1&&(M(0,"div",3)(1,"p",4),O(2,"Loading product details..."),A()())}var Sh=class n{product;route=P(pr);productService=P(_s);cartservice=P(Vn);addToCart=new Fe;ngOnInit(){let e=parseInt(this.route.snapshot.params.id,10);this.productService.getAllProducts().subscribe(t=>{let r=t.products;this.product=r.find(i=>i.id===e)})}onAddToCart(){this.product&&this.addToCart.emit(this.product)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Be({type:n,selectors:[["app-details"]],outputs:{addToCart:"addToCart"},standalone:!0,features:[$e],decls:3,vars:2,consts:[["loading",""],["noReviews",""],["class","container mt-4",4,"ngIf","ngIfElse"],[1,"container","mt-4"],[1,"text-center"],[1,"row"],[1,"col-md-6"],[1,"img-fluid","mb-3","rounded",3,"src","alt"],[1,"d-flex","flex-wrap"],["class","img-thumbnail me-2 mb-2",3,"src","alt",4,"ngFor","ngForOf"],[1,"border","p-3","shadow-sm"],[1,"mt-3"],[1,"mt-4"],[4,"ngIf","ngIfElse"],[1,"img-thumbnail","me-2","mb-2",3,"src","alt"],["class","border rounded p-3 my-2",4,"ngFor","ngForOf"],[1,"border","rounded","p-3","my-2"]],template:function(t,r){if(t&1&&Ae(0,QU,55,15,"div",2)(1,YU,3,0,"ng-template",null,0,Ka),t&2){let i=Wa(2);fe("ngIf",r.product)("ngIfElse",i)}},dependencies:[Nt,ti,Bt],styles:[".product-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px}.product-images[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.thumbnail[_ngcontent-%COMP%]{max-width:300px;margin-bottom:20px}.gallery[_ngcontent-%COMP%]{margin-top:20px}.image-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.image-grid[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px;cursor:pointer}.product-info[_ngcontent-%COMP%]{margin-top:20px}.reviews[_ngcontent-%COMP%]{margin-top:30px}.review[_ngcontent-%COMP%]{border:1px solid #ccc;margin:10px 0;padding:10px;border-radius:5px}.discount[_ngcontent-%COMP%]{color:red;font-weight:700}"]})};var Cs=class n{orderDetails=[];setOrderDetails(e){this.orderDetails=e}getOrderDetails(){return this.orderDetails}clearOrderDetails(){this.orderDetails=[]}static \u0275fac=function(t){return new(t||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})};function ZU(n,e){n&1&&(M(0,"div"),O(1,"Your cart is empty."),A())}function XU(n,e){if(n&1){let t=Kt();M(0,"tr")(1,"td"),O(2),A(),M(3,"td"),O(4),A(),M(5,"td")(6,"button",5),we("click",function(){let i=st(t).$implicit,o=Oe(2);return at(o.removeProduct(i.product.id))}),O(7,"Remove"),A()()()}if(n&2){let t=e.$implicit;H(2),wt(t.product.title),H(2),wt(t.quantity)}}function eB(n,e){if(n&1){let t=Kt();M(0,"div")(1,"table",2)(2,"thead")(3,"tr")(4,"th"),O(5,"Product"),A(),M(6,"th"),O(7,"Quantity"),A(),M(8,"th"),O(9,"Actions"),A()()(),M(10,"tbody"),Ae(11,XU,8,2,"tr",3),A()(),M(12,"h4"),O(13),A(),M(14,"h4"),O(15),A(),M(16,"button",4),we("click",function(){st(t);let i=Oe();return at(i.confirmOrder())}),O(17,"Confirm Order"),A()()}if(n&2){let t=Oe();H(11),fe("ngForOf",t.cart.getItems()),H(2),Pe("Total Quantity: ",t.cart.getTotalQuantity(),""),H(2),Pe("Total Price: ",t.cart.getTotalPrice(),"")}}var Ah=class n{constructor(e){this.router=e}cart=new Yi;cartService=P(Vn);cartToOrderService=P(Cs);ngOnInit(){this.cart=this.cartService.getCart()}addProductToCart(e){this.cartService.addProduct(e,1)}removeProduct(e){this.cartService.removeProduct(e)}confirmOrder(){let e=this.cart.getItems();this.cartToOrderService.setOrderDetails(e),this.router.navigate(["/order"])}static \u0275fac=function(t){return new(t||n)(Q(ze))};static \u0275cmp=Be({type:n,selectors:[["app-cart"]],standalone:!0,features:[$e],decls:5,vars:2,consts:[[1,"container","my-4"],[4,"ngIf"],[1,"table"],[4,"ngFor","ngForOf"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(t,r){t&1&&(M(0,"div",0)(1,"h2"),O(2,"Shopping Cart"),A(),Ae(3,ZU,2,0,"div",1)(4,eB,18,3,"div",1),A()),t&2&&(H(3),fe("ngIf",!r.cart.getItems().length),H(),fe("ngIf",r.cart.getItems().length>0))},dependencies:[Nt,ti,Bt]})};var CA=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},tB=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},TA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(t[h],t[p],t[g],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(CA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):tB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new wv;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let T=l<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},wv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},nB=function(n){let e=CA(n);return TA.encodeByteArray(e,!0)},kc=function(n){return nB(n).replace(/\./g,"")},bv=function(n){try{return TA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function rB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var iB=()=>rB().__FIREBASE_DEFAULTS__,oB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},sB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&bv(n[1]);return e&&JSON.parse(e)},Rh=()=>{try{return iB()||oB()||sB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Dv=n=>{var e,t;return(t=(e=Rh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},SA=n=>{let e=Dv(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Cv=()=>{var n;return(n=Rh())===null||n===void 0?void 0:n.config},Tv=n=>{var e;return(e=Rh())===null||e===void 0?void 0:e[`_${n}`]};var xh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function AA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[kc(JSON.stringify(t)),kc(JSON.stringify(s)),""].join(".")}function ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function aB(){var n;let e=(n=Rh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MA(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function NA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PA(){let n=ut();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function OA(){return!aB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sv(){try{return typeof indexedDB=="object"}catch{return!1}}function kA(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var cB="FirebaseError",Zt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=cB,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gr.prototype.create)}},gr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?uB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Zt(i,a,r)}};function uB(n,e){return n.replace(lB,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var lB=/\{\$([^}]+)}/g;function FA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ji(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(DA(o)&&DA(s)){if(!Ji(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function DA(n){return n!==null&&typeof n=="object"}function Fc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ts(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ss(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function LA(n,e){let t=new Ev(n,e);return t.subscribe.bind(t)}var Ev=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");dB(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Iv),i.error===void 0&&(i.error=Iv),i.complete===void 0&&(i.complete=Iv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function dB(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Iv(){}var dQ=4*60*60*1e3;function Ke(n){return n&&n._delegate?n._delegate:n}var un=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Zi="[DEFAULT]";var Av=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new xh;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fB(e))try{this.getOrInitializeService({instanceIdentifier:Zi})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Zi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Zi){return this.instances.has(e)}getOptions(e=Zi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hB(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zi){return this.component?this.component.multipleInstances?e:Zi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function hB(n){return n===Zi?void 0:n}function fB(n){return n.instantiationMode==="EAGER"}var Mh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Av(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var pB=[],ye=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ye||{}),mB={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},gB=ye.INFO,yB={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},vB=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=yB[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},di=class{constructor(e){this.name=e,this._logLevel=gB,this._logHandler=vB,this._userLogHandler=null,pB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}};var _B=(n,e)=>e.some(t=>n instanceof t),VA,jA;function IB(){return VA||(VA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wB(){return jA||(jA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var UA=new WeakMap,Rv=new WeakMap,BA=new WeakMap,xv=new WeakMap,Nv=new WeakMap;function EB(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(jn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&UA.set(t,n)}).catch(()=>{}),Nv.set(e,n),e}function bB(n){if(Rv.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Rv.set(n,e)}var Mv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Rv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||BA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return jn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function $A(n){Mv=n(Mv)}function DB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Nh(this),e,...t);return BA.set(r,e.sort?e.sort():[e]),jn(r)}:wB().includes(n)?function(...e){return n.apply(Nh(this),e),jn(UA.get(this))}:function(...e){return jn(n.apply(Nh(this),e))}}function CB(n){return typeof n=="function"?DB(n):(n instanceof IDBTransaction&&bB(n),_B(n,IB())?new Proxy(n,Mv):n)}function jn(n){if(n instanceof IDBRequest)return EB(n);if(xv.has(n))return xv.get(n);let e=CB(n);return e!==n&&(xv.set(n,e),Nv.set(e,n)),e}var Nh=n=>Nv.get(n);function zA(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=jn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(jn(s.result),u.oldVersion,u.newVersion,jn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var TB=["get","getKey","getAll","getAllKeys","count"],SB=["put","add","delete","clear"],Pv=new Map;function HA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Pv.get(e))return Pv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=SB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||TB.includes(t)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return Pv.set(e,o),o}$A(n=>pe(L({},n),{get:(e,t,r)=>HA(e,t)||n.get(e,t,r),has:(e,t)=>!!HA(e,t)||n.has(e,t)}));var kv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(AB(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function AB(n){let e=n.getComponent();return e?.type==="VERSION"}var Fv="@firebase/app",qA="0.10.13";var yr=new di("@firebase/app"),xB="@firebase/app-compat",RB="@firebase/analytics-compat",MB="@firebase/analytics",NB="@firebase/app-check-compat",PB="@firebase/app-check",OB="@firebase/auth",kB="@firebase/auth-compat",FB="@firebase/database",LB="@firebase/data-connect",VB="@firebase/database-compat",jB="@firebase/functions",UB="@firebase/functions-compat",BB="@firebase/installations",$B="@firebase/installations-compat",HB="@firebase/messaging",zB="@firebase/messaging-compat",qB="@firebase/performance",GB="@firebase/performance-compat",WB="@firebase/remote-config",KB="@firebase/remote-config-compat",QB="@firebase/storage",YB="@firebase/storage-compat",JB="@firebase/firestore",ZB="@firebase/vertexai-preview",XB="@firebase/firestore-compat",e$="firebase",t$="10.14.1";var Lv="[DEFAULT]",n$={[Fv]:"fire-core",[xB]:"fire-core-compat",[MB]:"fire-analytics",[RB]:"fire-analytics-compat",[PB]:"fire-app-check",[NB]:"fire-app-check-compat",[OB]:"fire-auth",[kB]:"fire-auth-compat",[FB]:"fire-rtdb",[LB]:"fire-data-connect",[VB]:"fire-rtdb-compat",[jB]:"fire-fn",[UB]:"fire-fn-compat",[BB]:"fire-iid",[$B]:"fire-iid-compat",[HB]:"fire-fcm",[zB]:"fire-fcm-compat",[qB]:"fire-perf",[GB]:"fire-perf-compat",[WB]:"fire-rc",[KB]:"fire-rc-compat",[QB]:"fire-gcs",[YB]:"fire-gcs-compat",[JB]:"fire-fst",[XB]:"fire-fst-compat",[ZB]:"fire-vertex","fire-js":"fire-js",[e$]:"fire-js-all"};var Lc=new Map,r$=new Map,Vv=new Map;function GA(n,e){try{n.container.addComponent(e)}catch(t){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function fi(n){let e=n.name;if(Vv.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;Vv.set(e,n);for(let t of Lc.values())GA(t,n);for(let t of r$.values())GA(t,n);return!0}function jc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function En(n){return n.settings!==void 0}var i$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hi=new gr("app","Firebase",i$);var jv=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new un("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hi.create("app-deleted",{appName:this._name})}};var pi=t$;function Uc(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Lv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw hi.create("bad-app-name",{appName:String(i)});if(t||(t=Cv()),!t)throw hi.create("no-options");let o=Lc.get(i);if(o){if(Ji(t,o.options)&&Ji(r,o.config))return o;throw hi.create("duplicate-app",{appName:i})}let s=new Mh(i);for(let u of Vv.values())s.addComponent(u);let a=new jv(t,r,s);return Lc.set(i,a),a}function As(n=Lv){let e=Lc.get(n);if(!e&&n===Lv&&Cv())return Uc();if(!e)throw hi.create("no-app",{appName:n});return e}function Ph(){return Array.from(Lc.values())}function rt(n,e,t){var r;let i=(r=n$[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(a.join(" "));return}fi(new un(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var o$="firebase-heartbeat-database",s$=1,Vc="firebase-heartbeat-store",Ov=null;function YA(){return Ov||(Ov=zA(o$,s$,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Vc)}catch(t){console.warn(t)}}}}).catch(n=>{throw hi.create("idb-open",{originalErrorMessage:n.message})})),Ov}function a$(n){return _(this,null,function*(){try{let t=(yield YA()).transaction(Vc),r=yield t.objectStore(Vc).get(JA(n));return yield t.done,r}catch(e){if(e instanceof Zt)yr.warn(e.message);else{let t=hi.create("idb-get",{originalErrorMessage:e?.message});yr.warn(t.message)}}})}function WA(n,e){return _(this,null,function*(){try{let r=(yield YA()).transaction(Vc,"readwrite");yield r.objectStore(Vc).put(e,JA(n)),yield r.done}catch(t){if(t instanceof Zt)yr.warn(t.message);else{let r=hi.create("idb-set",{originalErrorMessage:t?.message});yr.warn(r.message)}}})}function JA(n){return`${n.name}!${n.options.appId}`}var c$=1024,u$=30*24*60*60*1e3,Uv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Bv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=KA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=u$}),this._storage.overwrite(this._heartbeatsCache))}catch(r){yr.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=KA(),{heartbeatsToSend:r,unsentEntries:i}=l$(this._heartbeatsCache.heartbeats),o=kc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return yr.warn(t),""}})}};function KA(){return new Date().toISOString().substring(0,10)}function l$(n,e=c$){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),QA(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),QA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Bv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return Sv()?kA().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield a$(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return WA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return WA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function QA(n){return kc(JSON.stringify({version:2,heartbeats:n})).length}function d$(n){fi(new un("platform-logger",e=>new kv(e),"PRIVATE")),fi(new un("heartbeat",e=>new Uv(e),"PRIVATE")),rt(Fv,qA,n),rt(Fv,qA,"esm2017"),rt("fire-js","")}d$("");var h$="firebase",f$="10.14.1";rt(h$,f$,"app");var eo=new ar("ANGULARFIRE2_VERSION");function kh(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Bc=(n,e)=>{let t=e?[e]:Ph(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Rs=class{constructor(){return Bc(p$)}},p$="app-check";function xs(){}var Oh=class{zone;delegate;constructor(e,t=Qp){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},$v=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xs,{},xs,xs)),t.pipe(We({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ms=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Oh(Zone.current)),this.insideAngular=t.run(()=>new Oh(Zone.current,Kp)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(z(ge))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Fh(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function m$(n){return Fh().ngZone.runOutsideAngular(()=>n())}function Xi(n){return Fh().ngZone.run(()=>n())}function g$(n){return y$(Fh())(n)}function y$(n){return function(t){return t=t.lift(new $v(n.ngZone)),t.pipe(Fr(n.outsideAngular),kr(n.insideAngular))}}var v$=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Xi(()=>n.apply(void 0,r))},Et=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=Xi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xs,{},xs,xs))),r[o]=v$(r[o],t));let i=m$(()=>n.apply(this,r));if(!e)if(i instanceof le){let o=Fh();return i.pipe(Fr(o.outsideAngular),kr(o.insideAngular))}else return Xi(()=>i);return i instanceof le?i.pipe(g$):i instanceof Promise?Xi(()=>new Promise((o,s)=>i.then(a=>Xi(()=>o(a)),a=>Xi(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Xi(()=>i)};var vr=class{constructor(e){return e}},to=class{constructor(){return Ph()}};function _$(n){return n&&n.length===1?n[0]:new vr(As())}var Hv=new $("angularfire2._apps"),I$={provide:vr,useFactory:_$,deps:[[new It,Hv]]},w$={provide:to,deps:[[new It,Hv]]};function E$(n){return(e,t)=>{let r=t.get(Ut);rt("angularfire",eo.full,"core"),rt("angularfire",eo.full,"app"),rt("angular",YC.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new vr(i)}}function ZA(n,...e){return Lt([I$,w$,{provide:Hv,useFactory:E$(n),multi:!0,deps:[ge,ot,Ms,...e]}])}var XA=Et(Uc,!0);function gx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var yx=gx,vx=new gr("auth","Firebase",gx());var $h=new di("@firebase/auth");function b$(n,...e){$h.logLevel<=ye.WARN&&$h.warn(`Auth (${pi}): ${n}`,...e)}function Vh(n,...e){$h.logLevel<=ye.ERROR&&$h.error(`Auth (${pi}): ${n}`,...e)}function Bn(n,...e){throw h_(n,...e)}function no(n,...e){return h_(n,...e)}function _x(n,e,t){let r=Object.assign(Object.assign({},yx()),{[e]:t});return new gr("auth","Firebase",r).create(e,{appName:n.name})}function wr(n){return _x(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function h_(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return vx.create(n,...e)}function te(n,e,...t){if(!n)throw h_(e,...t)}function _r(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Vh(e),new Error(e)}function gi(n,e){n||_r(e)}function Wv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function D$(){return ex()==="http:"||ex()==="https:"}function ex(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function C$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(D$()||MA()||"connection"in navigator)?navigator.onLine:!0}function T$(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ro=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,gi(t>e,"Short delay should be less than long delay!"),this.isMobile=xA()||NA()}get(){return C$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function f_(n,e){gi(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Hh=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var S$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var A$=new ro(3e4,6e4);function yi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Er(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){return Ix(n,i,()=>_(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Fc(Object.assign({key:n.config.apiKey},h)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:g},l);return RA()||(y.referrerPolicy="no-referrer"),Hh.fetch()(wx(n,n.config.apiHost,t,p),y)}))})}function Ix(n,e,t){return _(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},S$),e);try{let i=new Kv(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Lh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lh(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Lh(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Lh(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw _x(n,h,l);Bn(n,h)}}catch(i){if(i instanceof Zt)throw i;Bn(n,"network-request-failed",{message:String(i)})}})}function Kc(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){let l=yield Er(n,e,t,r,i);return"mfaPendingCredential"in l&&Bn(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function wx(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?f_(n.config,i):`${n.config.apiScheme}://${i}`}function x$(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Kv=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(no(this.auth,"network-request-failed")),A$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Lh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=no(n,e,r);return i.customData._tokenResponse=t,i}function tx(n){return n!==void 0&&n.enterprise!==void 0}var Qv=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return x$(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function R$(n,e){return _(this,null,function*(){return Er(n,"GET","/v2/recaptchaConfig",yi(n,e))})}function M$(n,e){return _(this,null,function*(){return Er(n,"POST","/v1/accounts:delete",e)})}function Ex(n,e){return _(this,null,function*(){return Er(n,"POST","/v1/accounts:lookup",e)})}function $c(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function p_(n,e=!1){return _(this,null,function*(){let t=Ke(n),r=yield t.getIdToken(e),i=m_(r);te(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:$c(zv(i.auth_time)),issuedAtTime:$c(zv(i.iat)),expirationTime:$c(zv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function zv(n){return Number(n)*1e3}function m_(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Vh("JWT malformed, contained fewer than 3 sections"),null;try{let i=bv(t);return i?JSON.parse(i):(Vh("Failed to decode base64 JWT payload"),null)}catch(i){return Vh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function nx(n){let e=m_(n);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ns(n,e,t=!1){return _(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Zt&&N$(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function N$({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Yv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),t)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var zc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$c(this.lastLoginAt),this.creationTime=$c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function zh(n){return _(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Ns(n,Ex(t,{idToken:r}));te(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?bx(o.providerUserInfo):[],a=P$(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new zc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function g_(n){return _(this,null,function*(){let e=Ke(n);yield zh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function P$(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function bx(n){return n.map(e=>{var{providerId:t}=e,r=Yp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function O$(n,e){return _(this,null,function*(){let t=yield Ix(n,{},()=>_(this,null,function*(){let r=Fc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=wx(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Hh.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function k$(n,e){return _(this,null,function*(){return Er(n,"POST","/v2/accounts:revokeToken",yi(n,e))})}var Hc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){te(e.length!==0,"internal-error");let t=nx(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return _(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield O$(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(te(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(te(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return _r("not implemented")}};function mi(n,e){te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Ps=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Yp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let t=yield Ns(this,this.stsTokenManager.getToken(this.auth,e));return te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return p_(this,e)}reload(){return g_(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield zh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(En(this.auth.app))return Promise.reject(wr(this.auth));let e=yield this.getIdToken();return yield Ns(this,M$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,T=(s=t.photoURL)!==null&&s!==void 0?s:void 0,N=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,V=(l=t.createdAt)!==null&&l!==void 0?l:void 0,W=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:B,emailVerified:X,isAnonymous:De,providerData:Z,stsTokenManager:E}=t;te(B&&E,e,"internal-error");let v=Hc.fromJSON(this.name,E);te(typeof B=="string",e,"internal-error"),mi(p,e.name),mi(g,e.name),te(typeof X=="boolean",e,"internal-error"),te(typeof De=="boolean",e,"internal-error"),mi(y,e.name),mi(T,e.name),mi(N,e.name),mi(R,e.name),mi(V,e.name),mi(W,e.name);let I=new n({uid:B,auth:e,email:g,emailVerified:X,displayName:p,isAnonymous:De,photoURL:T,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:V,lastLoginAt:W});return Z&&Array.isArray(Z)&&(I.providerData=Z.map(b=>Object.assign({},b))),R&&(I._redirectEventId=R),I}static _fromIdTokenResponse(e,t,r=!1){return _(this,null,function*(){let i=new Hc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield zh(o),o})}static _fromGetAccountInfoResponse(e,t,r){return _(this,null,function*(){let i=t.users[0];te(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?bx(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Hc;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new zc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var rx=new Map;function Ir(n){gi(n instanceof Function,"Expected a class definition");let e=rx.get(n);return e?(gi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,rx.set(n,e),e)}var F$=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(t,r){return _(this,null,function*(){this.storage[t]=r})}_get(t){return _(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return _(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Jv=F$;function jh(n,e,t){return`firebase:${n}:${e}:${t}`}var qh=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=jh(this.userKey,i.apiKey,o),this.fullPersistenceKey=jh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ps._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(this,null,function*(){if(!t.length)return new n(Ir(Jv),e,r);let i=(yield Promise.all(t.map(l=>_(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Ir(Jv),s=jh(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p=Ps._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>_(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function ix(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Sx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Dx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xx(e))return"Blackberry";if(Rx(e))return"Webos";if(Cx(e))return"Safari";if((e.includes("chrome/")||Tx(e))&&!e.includes("edge/"))return"Chrome";if(Ax(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Dx(n=ut()){return/firefox\//i.test(n)}function Cx(n=ut()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Tx(n=ut()){return/crios\//i.test(n)}function Sx(n=ut()){return/iemobile/i.test(n)}function Ax(n=ut()){return/android/i.test(n)}function xx(n=ut()){return/blackberry/i.test(n)}function Rx(n=ut()){return/webos/i.test(n)}function y_(n=ut()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function L$(n=ut()){var e;return y_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function V$(){return PA()&&document.documentMode===10}function Mx(n=ut()){return y_(n)||Ax(n)||Rx(n)||xx(n)||/windows phone/i.test(n)||Sx(n)}function Nx(n,e=[]){let t;switch(n){case"Browser":t=ix(ut());break;case"Worker":t=`${ix(ut())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${pi}/${r}`}var Zv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function j$(t){return _(this,arguments,function*(n,e={}){return Er(n,"GET","/v2/passwordPolicy",yi(n,e))})}var U$=6,Xv=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:U$,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var e_=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gh(this),this.idTokenSubscription=new Gh(this),this.beforeStateQueue=new Zv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ir(t)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield qh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let t=yield Ex(this,{idToken:e}),r=yield Ps._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var t;if(En(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield zh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=T$()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(En(this.app))return Promise.reject(wr(this));let t=e?Ke(e):null;return t&&te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return _(this,null,function*(){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return En(this.app)?Promise.reject(wr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return En(this.app)?Promise.reject(wr(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Ir(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield j$(this),t=new Xv(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield k$(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Ir(e)||this._popupRedirectResolver;te(t,this,"argument-error"),this.redirectPersistenceManager=yield qh.create(this,[Ir(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Nx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return _(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&b$(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function oo(n){return Ke(n)}var Gh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=LA(t=>this.observer=t)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Xh={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B$(n){Xh=n}function Px(n){return Xh.loadJS(n)}function $$(){return Xh.recaptchaEnterpriseScript}function H$(){return Xh.gapiScript}function Ox(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var z$="recaptcha-enterprise",q$="NO_RECAPTCHA",t_=class{constructor(e){this.type=z$,this.auth=oo(e)}verify(e="verify",t=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(this,null,function*(){R$(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Qv(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;tx(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(q$)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&tx(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=$$();u.length!==0&&(u+=a),Px(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function ox(n,e,t,r=!1){return _(this,null,function*(){let i=new t_(n),o;try{o=yield i.verify(t)}catch{o=yield i.verify(t,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function n_(n,e,t,r){return _(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield ox(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(o=>_(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield ox(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)}))})}function v_(n,e){let t=jc(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Ji(o,e??{}))return i;Bn(i,"already-initialized")}return t.initialize({options:e})}function G$(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ir);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function __(n,e,t){let r=oo(n);te(r._canInitEmulator,r,"emulator-config-failed"),te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=kx(e),{host:s,port:a}=W$(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||K$()}function kx(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function W$(n){let e=kx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:sx(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:sx(s)}}}function sx(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function K$(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var qc=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _r("not implemented")}_getIdTokenResponse(e){return _r("not implemented")}_linkToIdToken(e,t){return _r("not implemented")}_getReauthenticationResolver(e){return _r("not implemented")}};function Q$(n,e){return _(this,null,function*(){return Er(n,"POST","/v1/accounts:signUp",e)})}function Y$(n,e){return _(this,null,function*(){return Kc(n,"POST","/v1/accounts:signInWithPassword",yi(n,e))})}function J$(n,e){return _(this,null,function*(){return Kc(n,"POST","/v1/accounts:signInWithEmailLink",yi(n,e))})}function Z$(n,e){return _(this,null,function*(){return Kc(n,"POST","/v1/accounts:signInWithEmailLink",yi(n,e))})}var Gc=class n extends qc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return n_(e,t,"signInWithPassword",Y$);case"emailLink":return J$(e,{email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}})}_linkToIdToken(e,t){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return n_(e,r,"signUpPassword",Q$);case"emailLink":return Z$(e,{idToken:t,email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function qv(n,e){return _(this,null,function*(){return Kc(n,"POST","/v1/accounts:signInWithIdp",yi(n,e))})}function X$(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eH(n){let e=Ts(Ss(n)).link,t=e?Ts(Ss(e)).deep_link_id:null,r=Ts(Ss(n)).deep_link_id;return(r?Ts(Ss(r)).link:null)||r||t||e||n}var Wh=class n{constructor(e){var t,r,i,o,s,a;let u=Ts(Ss(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=X$((i=u.mode)!==null&&i!==void 0?i:null);te(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=eH(e);try{return new n(t)}catch{return null}}};var Fx=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Gc._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Wh.parseLink(r);return te(i,"argument-error"),Gc._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Kh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var r_=class extends Kh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function tH(n,e){return _(this,null,function*(){return Kc(n,"POST","/v1/accounts:signUp",yi(n,e))})}var Os=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(this,null,function*(){let o=yield Ps._fromIdTokenResponse(e,r,i),s=ax(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=ax(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function ax(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var i_=class n extends Zt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function Lx(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?i_._fromErrorAndOperation(n,o,e,r):o})}function nH(n,e,t=!1){return _(this,null,function*(){let r=yield Ns(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Os._forOperation(n,"link",r)})}function rH(n,e,t=!1){return _(this,null,function*(){let{auth:r}=n;if(En(r.app))return Promise.reject(wr(r));let i="reauthenticate";try{let o=yield Ns(n,Lx(r,i,e,n),t);te(o.idToken,r,"internal-error");let s=m_(o.idToken);te(s,r,"internal-error");let{sub:a}=s;return te(n.uid===a,r,"user-mismatch"),Os._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Bn(r,"user-mismatch"),o}})}function Vx(n,e,t=!1){return _(this,null,function*(){if(En(n.app))return Promise.reject(wr(n));let r="signIn",i=yield Lx(n,r,e),o=yield Os._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function I_(n,e){return _(this,null,function*(){return Vx(oo(n),e)})}function jx(n){return _(this,null,function*(){let e=oo(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function w_(n,e,t){return _(this,null,function*(){if(En(n.app))return Promise.reject(wr(n));let r=oo(n),s=yield n_(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tH).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&jx(n),u}),a=yield Os._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function E_(n,e,t){return En(n.app)?Promise.reject(wr(n)):I_(Ke(n),Fx.credential(e,t)).catch(r=>_(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&jx(n),r}))}function iH(n,e){return _(this,null,function*(){return Er(n,"POST","/v1/accounts:update",e)})}function b_(r,i){return _(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let o=Ke(n),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=yield Ns(o,iH(o.auth,a));o.displayName=u.displayName||null,o.photoURL=u.photoUrl||null;let l=o.providerData.find(({providerId:h})=>h==="password");l&&(l.displayName=o.displayName,l.photoURL=o.photoURL),yield o._updateTokensIfNecessary(u)})}function D_(n,e,t,r){return Ke(n).onIdTokenChanged(e,t,r)}function C_(n,e,t){return Ke(n).beforeAuthStateChanged(e,t)}function T_(n,e,t,r){return Ke(n).onAuthStateChanged(e,t,r)}function S_(n){return Ke(n).signOut()}var Qh="__sak";var Yh=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qh,"1"),this.storage.removeItem(Qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var oH=1e3,sH=10,aH=(()=>{class n extends Yh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Mx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);V$()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,sH):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},oH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return _(this,null,function*(){yield Pr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return _(this,null,function*(){let r=yield Pr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return _(this,null,function*(){yield Pr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),Ux=aH;var cH=(()=>{class n extends Yh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),A_=cH;function uH(n){return Promise.all(n.map(e=>_(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var lH=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return _(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield uH(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Bx(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var o_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=Bx("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Un(){return window}function dH(n){Un().location.href=n}function $x(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}function hH(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function fH(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function pH(){return $x()?self:null}var Hx="firebaseLocalStorageDb",mH=1,Jh="firebaseLocalStorage",zx="fbase_key",io=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function ef(n,e){return n.transaction([Jh],e?"readwrite":"readonly").objectStore(Jh)}function gH(){let n=indexedDB.deleteDatabase(Hx);return new io(n).toPromise()}function s_(){let n=indexedDB.open(Hx,mH);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Jh,{keyPath:zx})}catch(i){t(i)}}),n.addEventListener("success",()=>_(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Jh)?e(r):(r.close(),yield gH(),e(yield s_()))}))})}function cx(n,e,t){return _(this,null,function*(){let r=ef(n,!0).put({[zx]:e,value:t});return new io(r).toPromise()})}function yH(n,e){return _(this,null,function*(){let t=ef(n,!1).get(e),r=yield new io(t).toPromise();return r===void 0?null:r.value})}function ux(n,e){let t=ef(n,!0).delete(e);return new io(t).toPromise()}var vH=800,_H=3,IH=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield s_(),this.db)})}_withRetries(t){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>_H)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return $x()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=lH._getInstance(pH()),this.receiver._subscribe("keyChanged",(t,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var t,r;if(this.activeServiceWorker=yield hH(),!this.activeServiceWorker)return;this.sender=new o_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||fH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let t=yield s_();return yield cx(t,Qh,"1"),yield ux(t,Qh),!0}catch{}return!1})}_withPendingWrite(t){return _(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>cx(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return _(this,null,function*(){let r=yield this._withRetries(i=>yH(i,t));return this.localCache[t]=r,r})}_remove(t){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>ux(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return _(this,null,function*(){let t=yield this._withRetries(o=>{let s=ef(o,!1).getAll();return new io(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),vH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),qx=IH;var iY=Ox("rcb"),oY=new ro(3e4,6e4);function wH(n,e){return e?Ir(e):(te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Wc=class extends qc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qv(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qv(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qv(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function EH(n){return Vx(n.auth,new Wc(n),n.bypassAuthState)}function bH(n){let{auth:e,user:t}=n;return te(t,e,"internal-error"),rH(t,new Wc(n),n.bypassAuthState)}function DH(n){return _(this,null,function*(){let{auth:e,user:t}=n;return te(t,e,"internal-error"),nH(t,new Wc(n),n.bypassAuthState)})}var a_=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EH;case"linkViaPopup":case"linkViaRedirect":return DH;case"reauthViaPopup":case"reauthViaRedirect":return bH;default:Bn(this.auth,"internal-error")}}resolve(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var sY=new ro(2e3,1e4);var CH="pendingRedirect",Uh=new Map,c_=class n extends a_{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Uh.get(this.auth._key());if(!e){try{let r=(yield TH(this.resolver,this.auth))?yield Pr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Uh.set(this.auth._key(),e)}return this.bypassAuthState||Uh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return Pr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Pr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function TH(n,e){return _(this,null,function*(){let t=xH(e),r=AH(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function SH(n,e){Uh.set(n._key(),e)}function AH(n){return Ir(n._redirectPersistence)}function xH(n){return jh(CH,n.config.apiKey,n.name)}function RH(n,e,t=!1){return _(this,null,function*(){if(En(n.app))return Promise.reject(wr(n));let r=oo(n),i=wH(r,e),s=yield new c_(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var MH=10*60*1e3,u_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NH(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Gx(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(no(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MH&&this.cachedEventUids.clear(),this.cachedEventUids.has(lx(e))}saveEventToCache(e){this.cachedEventUids.add(lx(e)),this.lastProcessedEventTime=Date.now()}};function lx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Gx({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function NH(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gx(n);default:return!1}}function PH(t){return _(this,arguments,function*(n,e={}){return Er(n,"GET","/v1/projects",e)})}var OH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kH=/^https?/;function FH(n){return _(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield PH(n);for(let t of e)try{if(LH(t))return}catch{}Bn(n,"unauthorized-domain")})}function LH(n){let e=Wv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!kH.test(t))return!1;if(OH.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var VH=new ro(3e4,6e4);function dx(){let n=Un().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function jH(n){return new Promise((e,t)=>{var r,i,o;function s(){dx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dx(),t(no(n,"network-request-failed"))},timeout:VH.get()})}if(!((i=(r=Un().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Un().gapi)===null||o===void 0)&&o.load)s();else{let a=Ox("iframefcb");return Un()[a]=()=>{gapi.load?s():t(no(n,"network-request-failed"))},Px(`${H$()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Bh=null,e})}var Bh=null;function UH(n){return Bh=Bh||jH(n),Bh}var BH=new ro(5e3,15e3),$H="__/auth/iframe",HH="emulator/auth/iframe",zH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GH(n){let e=n.config;te(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?f_(e,HH):`https://${n.config.authDomain}/${$H}`,r={apiKey:e.apiKey,appName:n.name,v:pi},i=qH.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Fc(r).slice(1)}`}function WH(n){return _(this,null,function*(){let e=yield UH(n),t=Un().gapi;return te(t,n,"internal-error"),e.open({where:document.body,url:GH(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zH,dontclear:!0},r=>new Promise((i,o)=>_(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=no(n,"network-request-failed"),a=Un().setTimeout(()=>{o(s)},BH.get());function u(){Un().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var KH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QH=500,YH=600,JH="_blank",ZH="http://localhost",Zh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function XH(n,e,t,r=QH,i=YH){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},KH),{width:r.toString(),height:i.toString(),top:o,left:s}),l=ut().toLowerCase();t&&(a=Tx(l)?JH:t),Dx(l)&&(e=e||ZH,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[y,T])=>`${g}${y}=${T},`,"");if(L$(l)&&a!=="_self")return e4(e||"",a),new Zh(null);let p=window.open(e||"",a,h);te(p,n,"popup-blocked");try{p.focus()}catch{}return new Zh(p)}function e4(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var t4="__/auth/handler",n4="emulator/auth/handler",r4=encodeURIComponent("fac");function hx(n,e,t,r,i,o){return _(this,null,function*(){te(n.config.authDomain,n,"auth-domain-config-required"),te(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:pi,eventId:i};if(e instanceof Kh){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",FA(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof r_){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${r4}=${encodeURIComponent(u)}`:"";return`${i4(n)}?${Fc(a).slice(1)}${l}`})}function i4({config:n}){return n.emulator?f_(n,n4):`https://${n.authDomain}/${t4}`}var Gv="webStorageSupport",l_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=A_,this._completeRedirectFn=RH,this._overrideRedirectResult=SH}_openPopup(e,t,r,i){return _(this,null,function*(){var o;gi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield hx(e,t,r,Wv(),i);return XH(e,s,Bx())})}_openRedirect(e,t,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield hx(e,t,r,Wv(),i);return dH(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(gi(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return _(this,null,function*(){let t=yield WH(e),r=new u_(e);return t.register("authEvent",i=>(te(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Gv,{type:Gv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Gv];s!==void 0&&t(!!s),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=FH(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Mx()||Cx()||y_()}},Wx=l_;var fx="@firebase/auth",px="1.7.9";var d_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function o4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s4(n){fi(new un("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;te(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nx(n)},l=new e_(r,i,o,u);return G$(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),fi(new un("auth-internal",e=>{let t=oo(e.getProvider("auth").getImmediate());return(r=>new d_(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),rt(fx,px,o4(n)),rt(fx,px,"esm2017")}var a4=5*60,c4=Tv("authIdTokenMaxAge")||a4,mx=null,u4=n=>e=>_(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>c4)return;let i=t?.token;mx!==i&&(mx=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function tf(n=As()){let e=jc(n,"auth");if(e.isInitialized())return e.getImmediate();let t=v_(n,{popupRedirectResolver:Wx,persistence:[qx,Ux,A_]}),r=Tv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=u4(o.toString());C_(t,s,()=>s(t.currentUser)),D_(t,a=>s(a))}}let i=Dv("auth");return i&&__(t,`http://${i}`),t}function l4(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}B$({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=no("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",l4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s4("Browser");var Kx="auth",so=class{constructor(e){return e}},Qc=class{constructor(){return Bc(Kx)}};var x_=new $("angularfire2.auth-instances");function Z4(n,e){let t=kh(Kx,n,e);return t&&new so(t)}function X4(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new so(r)}}var ez={provide:Qc,deps:[[new It,x_]]},tz={provide:so,useFactory:Z4,deps:[[new It,x_],vr]};function Qx(n,...e){return rt("angularfire",eo.full,"auth"),Lt([tz,ez,{provide:x_,useFactory:X4(n),multi:!0,deps:[ge,ot,Ms,to,[new It,Rs],...e]}])}var Yx=Et(w_,!0);var Jx=Et(T_,!0);var Zx=Et(E_,!0);var Xx=Et(S_,!0);var eR=Et(b_,!0);var ln=class n{firebaseAuth=P(so);userSubject=new tt(null);currentUser;constructor(){Jx(this.firebaseAuth,e=>{this.userSubject.next(e)})}get user$(){return this.userSubject.asObservable()}register(e,t,r){let i=Yx(this.firebaseAuth,e,r).then(o=>eR(o.user,{displayName:t}));return Ie(i)}login(e,t){let r=Zx(this.firebaseAuth,e,t).then(i=>(console.log("Login successful"),i));return Ie(r)}signOut(){let e=Xx(this.firebaseAuth).then(()=>{console.log("Sign out successful")});return Ie(e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})};function nz(n,e){if(n&1&&(M(0,"div",27),O(1),A()),n&2){let t=Oe();H(),Pe(" ",t.errorMessage," ")}}function rz(n,e){n&1&&(M(0,"div",28),O(1," Please enter a valid email. "),A())}function iz(n,e){n&1&&(M(0,"div",28),O(1," Password is required. "),A())}var nf=class n{constructor(e){this.router=e}fb=P(Dh);http=P(zi);authService=P(ln);errorMessage=null;form=this.fb.group({email:["",[Jt.required,Jt.email]],password:["",Jt.required],rememberMe:[!1]});onSubmit(){if(this.form.invalid){console.log("Form is invalid",this.form.errors);return}let{email:e,password:t}=this.form.value;e&&t&&this.authService.login(e,t).subscribe({next:()=>{console.log("Login successful"),this.router.navigateByUrl("/")},error:r=>{console.error("Login failed:",r),this.errorMessage=r.code}})}navigateToSignup(){this.router.navigate(["/signup"])}static \u0275fac=function(t){return new(t||n)(Q(ze))};static \u0275cmp=Be({type:n,selectors:[["app-login"]],standalone:!0,features:[$e],decls:38,vars:5,consts:[[1,"login-container"],[1,"login-box"],[1,"text-center","mb-4"],[1,"brand-text"],[1,"text-primary"],[1,"welcome-text"],["style","color: white; background-color: red; padding: 10px; font-weight: bold; border-radius: 5px;",4,"ngIf"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"form-floating","mb-4"],["type","email","formControlName","email","id","emailInput","placeholder","name@example.com",1,"form-control","custom-input"],["for","emailInput"],[1,"fas","fa-envelope","me-2"],["class","text-danger mt-1",4,"ngIf"],[1,"form-floating","mb-3"],["type","password","formControlName","password","id","passwordInput","placeholder","Password",1,"form-control","custom-input"],["for","passwordInput"],[1,"fas","fa-lock","me-2"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"form-check"],["type","checkbox","formControlName","rememberMe","id","rememberMe",1,"form-check-input","custom-checkbox"],["for","rememberMe",1,"form-check-label"],["href","#",1,"forgot-password"],["type","submit",1,"btn","btn-primary","w-100","login-btn","mb-4",3,"disabled"],[1,"fas","fa-sign-in-alt","me-2"],[1,"text-center"],[1,"me-2"],["routerLink","/signup",1,"signup-link",3,"click"],[2,"color","white","background-color","red","padding","10px","font-weight","bold","border-radius","5px"],[1,"text-danger","mt-1"]],template:function(t,r){if(t&1&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),O(4,"ib"),M(5,"span",4),O(6,"Ecom"),A()(),M(7,"p",5),O(8,"Welcome back! Please login to your account."),A()(),Ae(9,nz,2,1,"div",6),M(10,"form",7),we("ngSubmit",function(){return r.onSubmit()}),M(11,"div",8),ce(12,"input",9),M(13,"label",10),ce(14,"i",11),O(15,"Email address "),A(),Ae(16,rz,2,0,"div",12),A(),M(17,"div",13),ce(18,"input",14),M(19,"label",15),ce(20,"i",16),O(21,"Password "),A(),Ae(22,iz,2,0,"div",12),A(),M(23,"div",17)(24,"div",18),ce(25,"input",19),M(26,"label",20),O(27," Remember me "),A()(),M(28,"a",21),O(29,"Forgot Password?"),A()(),M(30,"button",22),ce(31,"i",23),O(32,"Login "),A(),M(33,"div",24)(34,"span",25),O(35,"Don't have an account?"),A(),M(36,"a",26),we("click",function(){return r.navigateToSignup()}),O(37,"Sign up"),A()()()()()),t&2){let i,o;H(9),fe("ngIf",r.errorMessage),H(),fe("formGroup",r.form),H(6),fe("ngIf",((i=r.form.get("email"))==null?null:i.invalid)&&((i=r.form.get("email"))==null?null:i.touched)),H(6),fe("ngIf",((o=r.form.get("password"))==null?null:o.invalid)&&((o=r.form.get("password"))==null?null:o.touched)),H(8),fe("disabled",r.form.invalid)}},dependencies:[Ch,Eh,li,Nc,Ds,vh,Pc,Oc,Nt,Bt],styles:["[_ngcontent-%COMP%]:root{--primary-color: #0d6efd;--primary-hover: #0b5ed7;--box-shadow: rgba(149, 157, 165, .2) 0px 8px 24px}.login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#f5f7fa,#e4e9f2);padding:20px}.login-box[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:20px;box-shadow:var(--box-shadow);width:100%;max-width:480px;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:1;transform:translateY(-20px)}to{opacity:0;transform:translateY(0)}}.brand-text[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:800;margin-bottom:.5rem}.welcome-text[_ngcontent-%COMP%]{color:#6c757d;font-size:1.1rem}.custom-input[_ngcontent-%COMP%]{border:2px solid #e9ecef;border-radius:10px;padding:.75rem 1.25rem;height:auto;font-size:1rem;transition:all .3s ease}.custom-input[_ngcontent-%COMP%]:focus{border-color:var(--primary-color);box-shadow:0 0 0 .25rem #0d6efd1a}.form-floating[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{padding-left:1.25rem;color:#6c757d}.form-floating[_ngcontent-%COMP%] > .custom-input[_ngcontent-%COMP%]:focus ~ label[_ngcontent-%COMP%], .form-floating[_ngcontent-%COMP%] > .custom-input[_ngcontent-%COMP%]:not(:placeholder-shown) ~ label[_ngcontent-%COMP%]{color:var(--primary-color);transform:scale(.85) translateY(-.75rem) translate(.15rem)}.custom-checkbox[_ngcontent-%COMP%]{width:1.1em;height:1.1em;margin-top:.2em;cursor:pointer}.form-check-label[_ngcontent-%COMP%]{color:#6c757d;cursor:pointer}.forgot-password[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:500;transition:color .3s ease}.forgot-password[_ngcontent-%COMP%]:hover{color:var(--primary-hover);text-decoration:underline}.signup-link[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:600;transition:all .3s ease}.signup-link[_ngcontent-%COMP%]:hover{color:var(--primary-hover);text-decoration:underline}.login-btn[_ngcontent-%COMP%]{padding:.75rem;border-radius:10px;font-weight:600;font-size:1.1rem;transition:all .3s ease;background:var(--primary-color);border:none;box-shadow:0 4px 15px #0d6efd33;color:#797474}.login-btn[_ngcontent-%COMP%]:hover{background:var(--primary-hover);transform:translateY(-2px);box-shadow:0 6px 20px #0d6efd4d}.login-btn[_ngcontent-%COMP%]:disabled{background:#6c757d;color:#fff;box-shadow:none;cursor:not-allowed}@media (max-width: 576px){.login-box[_ngcontent-%COMP%]{padding:20px}.brand-text[_ngcontent-%COMP%]{font-size:2rem}.welcome-text[_ngcontent-%COMP%]{font-size:1rem}}.signup-link[_ngcontent-%COMP%]{cursor:pointer;text-decoration:none}.signup-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};function oz(n,e){if(n&1&&(M(0,"div",6),O(1),A()),n&2){let t=Oe();H(),Pe(" ",t.errorMessage," ")}}function sz(n,e){n&1&&(M(0,"div",28),O(1," Username is required "),A())}function az(n,e){n&1&&(M(0,"div",28),O(1," Email is required "),A())}function cz(n,e){n&1&&(M(0,"div",28),O(1," Please enter a valid email address "),A())}function uz(n,e){n&1&&(M(0,"div",28),O(1," Password is required "),A())}function lz(n,e){n&1&&(M(0,"div",28),O(1," Password must be at least 6 characters long "),A())}function dz(n,e){n&1&&(M(0,"div",28),O(1," You must accept the terms and conditions "),A())}var rf=class n{constructor(e){this.router=e}fb=P(Dh);http=P(zi);authService=P(ln);errorMessage=null;form=this.fb.group({username:["",Jt.required],email:["",[Jt.required,Jt.email]],password:["",[Jt.required,Jt.minLength(6)]],terms:[!1,Jt.requiredTrue]});onSubmit(){if(console.log("Form submitted",this.form.value),this.form.invalid){console.log("Form is invalid",this.form.errors);return}let{email:e,username:t,password:r}=this.form.value;e&&t&&r&&this.authService.register(e,t,r).subscribe({next:()=>{console.log("Registration successful"),this.router.navigateByUrl("/")},error:i=>{this.errorMessage=i.code}})}navigateToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||n)(Q(ze))};static \u0275cmp=Be({type:n,selectors:[["app-signup"]],standalone:!0,features:[$e],decls:46,vars:8,consts:[[1,"signup-container"],[1,"signup-box"],[1,"text-center","mb-4"],[1,"brand-text"],[1,"text-primary"],[1,"welcome-text"],[2,"color","white","background-color","red","padding","10px","font-weight","bold","border-radius","5px"],[1,"signup-form",3,"ngSubmit","formGroup"],[1,"form-floating","mb-4"],["type","text","id","usernameInput","placeholder","Username","formControlName","username",1,"form-control","custom-input"],["for","usernameInput"],[1,"fas","fa-user","me-2"],["class","text-danger",4,"ngIf"],["type","email","id","emailInput","placeholder","name@example.com","formControlName","email",1,"form-control","custom-input"],["for","emailInput"],[1,"fas","fa-envelope","me-2"],["type","password","id","passwordInput","placeholder","Password","formControlName","password",1,"form-control","custom-input"],["for","passwordInput"],[1,"fas","fa-lock","me-2"],[1,"form-check","mb-4"],["type","checkbox","id","termsCheck","formControlName","terms",1,"form-check-input","custom-checkbox"],["for","termsCheck",1,"form-check-label"],["href","#",1,"terms-link"],["type","submit",1,"btn","btn-primary","w-100","signup-btn","mb-4"],[1,"fas","fa-user-plus","me-2"],[1,"text-center"],[1,"me-2"],["routerLink","/login",1,"login-link",3,"click"],[1,"text-danger"]],template:function(t,r){if(t&1&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),O(4,"ib"),M(5,"span",4),O(6,"Ecom"),A()(),M(7,"p",5),O(8,"Create your account and start shopping"),A()(),Ae(9,oz,2,1,"div",6),M(10,"form",7),we("ngSubmit",function(){return r.onSubmit()}),M(11,"div",8),ce(12,"input",9),M(13,"label",10),ce(14,"i",11),O(15,"Username "),A(),Ae(16,sz,2,0,"div",12),A(),M(17,"div",8),ce(18,"input",13),M(19,"label",14),ce(20,"i",15),O(21,"Email address "),A(),Ae(22,az,2,0,"div",12)(23,cz,2,0,"div",12),A(),M(24,"div",8),ce(25,"input",16),M(26,"label",17),ce(27,"i",18),O(28,"Password "),A(),Ae(29,uz,2,0,"div",12)(30,lz,2,0,"div",12),A(),M(31,"div",19),ce(32,"input",20),M(33,"label",21),O(34," I agree to the "),M(35,"a",22),O(36,"Terms and Conditions"),A()(),Ae(37,dz,2,0,"div",12),A(),M(38,"button",23),ce(39,"i",24),O(40,"Create Account "),A(),M(41,"div",25)(42,"span",26),O(43,"Already have an account?"),A(),M(44,"a",27),we("click",function(){return r.navigateToLogin()}),O(45,"Login"),A()()()()()),t&2){let i,o,s,a,u,l;H(9),HC(r.errorMessage?9:-1),H(),fe("formGroup",r.form),H(6),fe("ngIf",((i=r.form.get("username"))==null||i.errors==null?null:i.errors.required)&&((i=r.form.get("username"))==null?null:i.touched)),H(6),fe("ngIf",((o=r.form.get("email"))==null||o.errors==null?null:o.errors.required)&&((o=r.form.get("email"))==null?null:o.touched)),H(),fe("ngIf",((s=r.form.get("email"))==null||s.errors==null?null:s.errors.email)&&((s=r.form.get("email"))==null?null:s.touched)),H(6),fe("ngIf",((a=r.form.get("password"))==null||a.errors==null?null:a.errors.required)&&((a=r.form.get("password"))==null?null:a.touched)),H(),fe("ngIf",((u=r.form.get("password"))==null||u.errors==null?null:u.errors.minlength)&&((u=r.form.get("password"))==null?null:u.touched)),H(7),fe("ngIf",((l=r.form.get("terms"))==null||l.errors==null?null:l.errors.required)&&((l=r.form.get("terms"))==null?null:l.touched))}},dependencies:[Ch,Eh,li,Nc,Ds,vh,Pc,Oc,Nt,Bt],styles:[".signup-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f8f9fa;padding:20px}.signup-box[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:10px;box-shadow:0 0 20px #0000001a;width:100%;max-width:500px}.brand-text[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:.5rem}.welcome-text[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:2rem}.custom-input[_ngcontent-%COMP%]{border-radius:5px;border:1px solid #ced4da}.custom-input[_ngcontent-%COMP%]:focus{border-color:#0d6efd;box-shadow:0 0 0 .2rem #0d6efd40}.custom-checkbox[_ngcontent-%COMP%]{border-color:#0d6efd}.custom-checkbox[_ngcontent-%COMP%]:checked{background-color:#0d6efd}.signup-btn[_ngcontent-%COMP%]{padding:.75rem;font-weight:500;border-radius:5px}.signup-btn[_ngcontent-%COMP%]:disabled{background-color:#6c757d;border-color:#6c757d}.terms-link[_ngcontent-%COMP%]{color:#0d6efd;text-decoration:none}.terms-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-link[_ngcontent-%COMP%]{color:#0d6efd;text-decoration:none;font-weight:500}.login-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.text-danger[_ngcontent-%COMP%]{font-size:.875rem;margin-top:.25rem}"]})};var of=class{orderId;userId;items;totalPrice;orderDate;status;constructor(e,t,r,i,o,s="pending"){this.orderId=e,this.userId=t,this.items=r,this.totalPrice=i,this.orderDate=o,this.status=s}};var tR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nR={};var vi,M_;(function(){var n;function e(E,v){function I(){}I.prototype=v.prototype,E.D=v.prototype,E.prototype=new I,E.prototype.constructor=E,E.C=function(b,D,S){for(var w=Array(arguments.length-2),Jn=2;Jn<arguments.length;Jn++)w[Jn-2]=arguments[Jn];return v.prototype[D].apply(b,w)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,I){I||(I=0);var b=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)b[D]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(D=0;16>D;++D)b[D]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=E.g[0],I=E.g[1],D=E.g[2];var S=E.g[3],w=v+(S^I&(D^S))+b[0]+3614090360&4294967295;v=I+(w<<7&4294967295|w>>>25),w=S+(D^v&(I^D))+b[1]+3905402710&4294967295,S=v+(w<<12&4294967295|w>>>20),w=D+(I^S&(v^I))+b[2]+606105819&4294967295,D=S+(w<<17&4294967295|w>>>15),w=I+(v^D&(S^v))+b[3]+3250441966&4294967295,I=D+(w<<22&4294967295|w>>>10),w=v+(S^I&(D^S))+b[4]+4118548399&4294967295,v=I+(w<<7&4294967295|w>>>25),w=S+(D^v&(I^D))+b[5]+1200080426&4294967295,S=v+(w<<12&4294967295|w>>>20),w=D+(I^S&(v^I))+b[6]+2821735955&4294967295,D=S+(w<<17&4294967295|w>>>15),w=I+(v^D&(S^v))+b[7]+4249261313&4294967295,I=D+(w<<22&4294967295|w>>>10),w=v+(S^I&(D^S))+b[8]+1770035416&4294967295,v=I+(w<<7&4294967295|w>>>25),w=S+(D^v&(I^D))+b[9]+2336552879&4294967295,S=v+(w<<12&4294967295|w>>>20),w=D+(I^S&(v^I))+b[10]+4294925233&4294967295,D=S+(w<<17&4294967295|w>>>15),w=I+(v^D&(S^v))+b[11]+2304563134&4294967295,I=D+(w<<22&4294967295|w>>>10),w=v+(S^I&(D^S))+b[12]+1804603682&4294967295,v=I+(w<<7&4294967295|w>>>25),w=S+(D^v&(I^D))+b[13]+4254626195&4294967295,S=v+(w<<12&4294967295|w>>>20),w=D+(I^S&(v^I))+b[14]+2792965006&4294967295,D=S+(w<<17&4294967295|w>>>15),w=I+(v^D&(S^v))+b[15]+1236535329&4294967295,I=D+(w<<22&4294967295|w>>>10),w=v+(D^S&(I^D))+b[1]+4129170786&4294967295,v=I+(w<<5&4294967295|w>>>27),w=S+(I^D&(v^I))+b[6]+3225465664&4294967295,S=v+(w<<9&4294967295|w>>>23),w=D+(v^I&(S^v))+b[11]+643717713&4294967295,D=S+(w<<14&4294967295|w>>>18),w=I+(S^v&(D^S))+b[0]+3921069994&4294967295,I=D+(w<<20&4294967295|w>>>12),w=v+(D^S&(I^D))+b[5]+3593408605&4294967295,v=I+(w<<5&4294967295|w>>>27),w=S+(I^D&(v^I))+b[10]+38016083&4294967295,S=v+(w<<9&4294967295|w>>>23),w=D+(v^I&(S^v))+b[15]+3634488961&4294967295,D=S+(w<<14&4294967295|w>>>18),w=I+(S^v&(D^S))+b[4]+3889429448&4294967295,I=D+(w<<20&4294967295|w>>>12),w=v+(D^S&(I^D))+b[9]+568446438&4294967295,v=I+(w<<5&4294967295|w>>>27),w=S+(I^D&(v^I))+b[14]+3275163606&4294967295,S=v+(w<<9&4294967295|w>>>23),w=D+(v^I&(S^v))+b[3]+4107603335&4294967295,D=S+(w<<14&4294967295|w>>>18),w=I+(S^v&(D^S))+b[8]+1163531501&4294967295,I=D+(w<<20&4294967295|w>>>12),w=v+(D^S&(I^D))+b[13]+2850285829&4294967295,v=I+(w<<5&4294967295|w>>>27),w=S+(I^D&(v^I))+b[2]+4243563512&4294967295,S=v+(w<<9&4294967295|w>>>23),w=D+(v^I&(S^v))+b[7]+1735328473&4294967295,D=S+(w<<14&4294967295|w>>>18),w=I+(S^v&(D^S))+b[12]+2368359562&4294967295,I=D+(w<<20&4294967295|w>>>12),w=v+(I^D^S)+b[5]+4294588738&4294967295,v=I+(w<<4&4294967295|w>>>28),w=S+(v^I^D)+b[8]+2272392833&4294967295,S=v+(w<<11&4294967295|w>>>21),w=D+(S^v^I)+b[11]+1839030562&4294967295,D=S+(w<<16&4294967295|w>>>16),w=I+(D^S^v)+b[14]+4259657740&4294967295,I=D+(w<<23&4294967295|w>>>9),w=v+(I^D^S)+b[1]+2763975236&4294967295,v=I+(w<<4&4294967295|w>>>28),w=S+(v^I^D)+b[4]+1272893353&4294967295,S=v+(w<<11&4294967295|w>>>21),w=D+(S^v^I)+b[7]+4139469664&4294967295,D=S+(w<<16&4294967295|w>>>16),w=I+(D^S^v)+b[10]+3200236656&4294967295,I=D+(w<<23&4294967295|w>>>9),w=v+(I^D^S)+b[13]+681279174&4294967295,v=I+(w<<4&4294967295|w>>>28),w=S+(v^I^D)+b[0]+3936430074&4294967295,S=v+(w<<11&4294967295|w>>>21),w=D+(S^v^I)+b[3]+3572445317&4294967295,D=S+(w<<16&4294967295|w>>>16),w=I+(D^S^v)+b[6]+76029189&4294967295,I=D+(w<<23&4294967295|w>>>9),w=v+(I^D^S)+b[9]+3654602809&4294967295,v=I+(w<<4&4294967295|w>>>28),w=S+(v^I^D)+b[12]+3873151461&4294967295,S=v+(w<<11&4294967295|w>>>21),w=D+(S^v^I)+b[15]+530742520&4294967295,D=S+(w<<16&4294967295|w>>>16),w=I+(D^S^v)+b[2]+3299628645&4294967295,I=D+(w<<23&4294967295|w>>>9),w=v+(D^(I|~S))+b[0]+4096336452&4294967295,v=I+(w<<6&4294967295|w>>>26),w=S+(I^(v|~D))+b[7]+1126891415&4294967295,S=v+(w<<10&4294967295|w>>>22),w=D+(v^(S|~I))+b[14]+2878612391&4294967295,D=S+(w<<15&4294967295|w>>>17),w=I+(S^(D|~v))+b[5]+4237533241&4294967295,I=D+(w<<21&4294967295|w>>>11),w=v+(D^(I|~S))+b[12]+1700485571&4294967295,v=I+(w<<6&4294967295|w>>>26),w=S+(I^(v|~D))+b[3]+2399980690&4294967295,S=v+(w<<10&4294967295|w>>>22),w=D+(v^(S|~I))+b[10]+4293915773&4294967295,D=S+(w<<15&4294967295|w>>>17),w=I+(S^(D|~v))+b[1]+2240044497&4294967295,I=D+(w<<21&4294967295|w>>>11),w=v+(D^(I|~S))+b[8]+1873313359&4294967295,v=I+(w<<6&4294967295|w>>>26),w=S+(I^(v|~D))+b[15]+4264355552&4294967295,S=v+(w<<10&4294967295|w>>>22),w=D+(v^(S|~I))+b[6]+2734768916&4294967295,D=S+(w<<15&4294967295|w>>>17),w=I+(S^(D|~v))+b[13]+1309151649&4294967295,I=D+(w<<21&4294967295|w>>>11),w=v+(D^(I|~S))+b[4]+4149444226&4294967295,v=I+(w<<6&4294967295|w>>>26),w=S+(I^(v|~D))+b[11]+3174756917&4294967295,S=v+(w<<10&4294967295|w>>>22),w=D+(v^(S|~I))+b[2]+718787259&4294967295,D=S+(w<<15&4294967295|w>>>17),w=I+(S^(D|~v))+b[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+S&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var I=v-this.blockSize,b=this.B,D=this.h,S=0;S<v;){if(D==0)for(;S<=I;)i(this,E,S),S+=this.blockSize;if(typeof E=="string"){for(;S<v;)if(b[D++]=E.charCodeAt(S++),D==this.blockSize){i(this,b),D=0;break}}else for(;S<v;)if(b[D++]=E[S++],D==this.blockSize){i(this,b),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var I=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=I&255,I/=256;for(this.u(E),E=Array(16),v=I=0;4>v;++v)for(var b=0;32>b;b+=8)E[I++]=this.g[v]>>>b&255;return E};function o(E,v){var I=a;return Object.prototype.hasOwnProperty.call(I,E)?I[E]:I[E]=v(E)}function s(E,v){this.h=v;for(var I=[],b=!0,D=E.length-1;0<=D;D--){var S=E[D]|0;b&&S==v||(I[D]=S,b=!1)}this.g=I}var a={};function u(E){return-128<=E&&128>E?o(E,function(v){return new s([v|0],0>v?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return R(l(-E));for(var v=[],I=1,b=0;E>=I;b++)v[b]=E/I|0,I*=4294967296;return new s(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return R(h(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),b=p,D=0;D<E.length;D+=8){var S=Math.min(8,E.length-D),w=parseInt(E.substring(D,D+S),v);8>S?(S=l(Math.pow(v,S)),b=b.j(S).add(l(w))):(b=b.j(I),b=b.add(l(w)))}return b}var p=u(0),g=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(N(this))return-R(this).m();for(var E=0,v=1,I=0;I<this.g.length;I++){var b=this.i(I);E+=(0<=b?b:4294967296+b)*v,v*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(T(this))return"0";if(N(this))return"-"+R(this).toString(E);for(var v=l(Math.pow(E,6)),I=this,b="";;){var D=X(I,v).g;I=V(I,D.j(v));var S=((0<I.g.length?I.g[0]:I.h)>>>0).toString(E);if(I=D,T(I))return S+b;for(;6>S.length;)S="0"+S;b=S+b}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function T(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function N(E){return E.h==-1}n.l=function(E){return E=V(this,E),N(E)?-1:T(E)?0:1};function R(E){for(var v=E.g.length,I=[],b=0;b<v;b++)I[b]=~E.g[b];return new s(I,~E.h).add(g)}n.abs=function(){return N(this)?R(this):this},n.add=function(E){for(var v=Math.max(this.g.length,E.g.length),I=[],b=0,D=0;D<=v;D++){var S=b+(this.i(D)&65535)+(E.i(D)&65535),w=(S>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);b=w>>>16,S&=65535,w&=65535,I[D]=w<<16|S}return new s(I,I[I.length-1]&-2147483648?-1:0)};function V(E,v){return E.add(R(v))}n.j=function(E){if(T(this)||T(E))return p;if(N(this))return N(E)?R(this).j(R(E)):R(R(this).j(E));if(N(E))return R(this.j(R(E)));if(0>this.l(y)&&0>E.l(y))return l(this.m()*E.m());for(var v=this.g.length+E.g.length,I=[],b=0;b<2*v;b++)I[b]=0;for(b=0;b<this.g.length;b++)for(var D=0;D<E.g.length;D++){var S=this.i(b)>>>16,w=this.i(b)&65535,Jn=E.i(D)>>>16,ia=E.i(D)&65535;I[2*b+2*D]+=w*ia,W(I,2*b+2*D),I[2*b+2*D+1]+=S*ia,W(I,2*b+2*D+1),I[2*b+2*D+1]+=w*Jn,W(I,2*b+2*D+1),I[2*b+2*D+2]+=S*Jn,W(I,2*b+2*D+2)}for(b=0;b<v;b++)I[b]=I[2*b+1]<<16|I[2*b];for(b=v;b<2*v;b++)I[b]=0;return new s(I,0)};function W(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function B(E,v){this.g=E,this.h=v}function X(E,v){if(T(v))throw Error("division by zero");if(T(E))return new B(p,p);if(N(E))return v=X(R(E),v),new B(R(v.g),R(v.h));if(N(v))return v=X(E,R(v)),new B(R(v.g),v.h);if(30<E.g.length){if(N(E)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var I=g,b=v;0>=b.l(E);)I=De(I),b=De(b);var D=Z(I,1),S=Z(b,1);for(b=Z(b,2),I=Z(I,2);!T(b);){var w=S.add(b);0>=w.l(E)&&(D=D.add(I),S=w),b=Z(b,1),I=Z(I,1)}return v=V(E,D.j(v)),new B(D,v)}for(D=p;0<=E.l(v);){for(I=Math.max(1,Math.floor(E.m()/v.m())),b=Math.ceil(Math.log(I)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),S=l(I),w=S.j(v);N(w)||0<w.l(E);)I-=b,S=l(I),w=S.j(v);T(S)&&(S=g),D=D.add(S),E=V(E,w)}return new B(D,E)}n.A=function(E){return X(this,E).h},n.and=function(E){for(var v=Math.max(this.g.length,E.g.length),I=[],b=0;b<v;b++)I[b]=this.i(b)&E.i(b);return new s(I,this.h&E.h)},n.or=function(E){for(var v=Math.max(this.g.length,E.g.length),I=[],b=0;b<v;b++)I[b]=this.i(b)|E.i(b);return new s(I,this.h|E.h)},n.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),I=[],b=0;b<v;b++)I[b]=this.i(b)^E.i(b);return new s(I,this.h^E.h)};function De(E){for(var v=E.g.length+1,I=[],b=0;b<v;b++)I[b]=E.i(b)<<1|E.i(b-1)>>>31;return new s(I,E.h)}function Z(E,v){var I=v>>5;v%=32;for(var b=E.g.length-I,D=[],S=0;S<b;S++)D[S]=0<v?E.i(S+I)>>>v|E.i(S+I+1)<<32-v:E.i(S+I);return new s(D,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,M_=nR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,vi=nR.Integer=s}).apply(typeof tR<"u"?tR:typeof self<"u"?self:typeof window<"u"?window:{});var sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},br={};var N_,hz,ks,P_,Yc,af,O_,k_,F_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof sf=="object"&&sf];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var C=c[m];if(!(C in f))break e;f=f[C]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,C={next:function(){if(!m&&f<c.length){var x=f++;return{value:d(x,c[x]),done:!1}}return m=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,m),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function T(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,C,x){for(var j=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)j[Me-2]=arguments[Me];return d.prototype[C].apply(m,j)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let C=c.length||0,x=m.length||0;c.length=C+x;for(let j=0;j<x;j++)c[C+j]=m[j]}else c.push(m)}}class V{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function W(c){return/^[\s\xa0]*$/.test(c)}function B(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function X(c){return X[" "](c),c}X[" "]=function(){};var De=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function Z(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,d){let f,m;for(let C=1;C<arguments.length;C++){m=arguments[C];for(f in m)c[f]=m[f];for(let x=0;x<I.length;x++)f=I[x],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function w(){var c=ap;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Jn{constructor(){this.h=this.g=null}add(d,f){let m=ia.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var ia=new V(()=>new rN,c=>c.reset());class rN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let oa,sa=!1,ap=new Jn,Hw=()=>{let c=a.Promise.resolve(void 0);oa=()=>{c.then(iN)}};var iN=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){S(f)}var d=ia;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}sa=!1};function xr(){this.s=this.s,this.C=this.C}xr.prototype.s=!1,xr.prototype.ma=function(){this.s||(this.s=!0,this.N())},xr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function mt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}mt.prototype.h=function(){this.defaultPrevented=!0};var oN=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function aa(c,d){if(mt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(De){e:{try{X(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:sN[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&aa.aa.h.call(this)}}T(aa,mt);var sN={2:"touch",3:"pen",4:"mouse"};aa.prototype.h=function(){aa.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ca="closure_listenable_"+(1e6*Math.random()|0),aN=0;function cN(c,d,f,m,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=C,this.key=++aN,this.da=this.fa=!1}function _u(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Iu(c){this.src=c,this.g={},this.h=0}Iu.prototype.add=function(c,d,f,m,C){var x=c.toString();c=this.g[x],c||(c=this.g[x]=[],this.h++);var j=up(c,d,m,C);return-1<j?(d=c[j],f||(d.fa=!1)):(d=new cN(d,this.src,x,!!m,C),d.fa=f,c.push(d)),d};function cp(c,d){var f=d.type;if(f in c.g){var m=c.g[f],C=Array.prototype.indexOf.call(m,d,void 0),x;(x=0<=C)&&Array.prototype.splice.call(m,C,1),x&&(_u(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function up(c,d,f,m){for(var C=0;C<c.length;++C){var x=c[C];if(!x.da&&x.listener==d&&x.capture==!!f&&x.ha==m)return C}return-1}var lp="closure_lm_"+(1e6*Math.random()|0),dp={};function zw(c,d,f,m,C){if(m&&m.once)return Gw(c,d,f,m,C);if(Array.isArray(d)){for(var x=0;x<d.length;x++)zw(c,d[x],f,m,C);return null}return f=mp(f),c&&c[ca]?c.K(d,f,l(m)?!!m.capture:!!m,C):qw(c,d,f,!1,m,C)}function qw(c,d,f,m,C,x){if(!d)throw Error("Invalid event type");var j=l(C)?!!C.capture:!!C,Me=fp(c);if(Me||(c[lp]=Me=new Iu(c)),f=Me.add(d,f,m,j,x),f.proxy)return f;if(m=uN(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)oN||(C=j),C===void 0&&(C=!1),c.addEventListener(d.toString(),m,C);else if(c.attachEvent)c.attachEvent(Kw(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function uN(){function c(f){return d.call(c.src,c.listener,f)}let d=lN;return c}function Gw(c,d,f,m,C){if(Array.isArray(d)){for(var x=0;x<d.length;x++)Gw(c,d[x],f,m,C);return null}return f=mp(f),c&&c[ca]?c.L(d,f,l(m)?!!m.capture:!!m,C):qw(c,d,f,!0,m,C)}function Ww(c,d,f,m,C){if(Array.isArray(d))for(var x=0;x<d.length;x++)Ww(c,d[x],f,m,C);else m=l(m)?!!m.capture:!!m,f=mp(f),c&&c[ca]?(c=c.i,d=String(d).toString(),d in c.g&&(x=c.g[d],f=up(x,f,m,C),-1<f&&(_u(x[f]),Array.prototype.splice.call(x,f,1),x.length==0&&(delete c.g[d],c.h--)))):c&&(c=fp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=up(d,f,m,C)),(f=-1<c?d[c]:null)&&hp(f))}function hp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[ca])cp(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(Kw(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=fp(d))?(cp(f,c),f.h==0&&(f.src=null,d[lp]=null)):_u(c)}}}function Kw(c){return c in dp?dp[c]:dp[c]="on"+c}function lN(c,d){if(c.da)c=!0;else{d=new aa(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&hp(c),c=f.call(m,d)}return c}function fp(c){return c=c[lp],c instanceof Iu?c:null}var pp="__closure_events_fn_"+(1e9*Math.random()>>>0);function mp(c){return typeof c=="function"?c:(c[pp]||(c[pp]=function(d){return c.handleEvent(d)}),c[pp])}function gt(){xr.call(this),this.i=new Iu(this),this.M=this,this.F=null}T(gt,xr),gt.prototype[ca]=!0,gt.prototype.removeEventListener=function(c,d,f,m){Ww(this,c,d,f,m)};function Tt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new mt(d,c);else if(d instanceof mt)d.target=d.target||c;else{var C=d;d=new mt(m,c),b(d,C)}if(C=!0,f)for(var x=f.length-1;0<=x;x--){var j=d.g=f[x];C=wu(j,m,!0,d)&&C}if(j=d.g=c,C=wu(j,m,!0,d)&&C,C=wu(j,m,!1,d)&&C,f)for(x=0;x<f.length;x++)j=d.g=f[x],C=wu(j,m,!1,d)&&C}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)_u(f[m]);delete c.g[d],c.h--}}this.F=null},gt.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},gt.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function wu(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,x=0;x<d.length;++x){var j=d[x];if(j&&!j.da&&j.capture==f){var Me=j.listener,dt=j.ha||j.src;j.fa&&cp(c.i,j),C=Me.call(dt,m)!==!1&&C}}return C&&!m.defaultPrevented}function Qw(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Yw(c){c.g=Qw(()=>{c.g=null,c.i&&(c.i=!1,Yw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class dN extends xr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Yw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ua(c){xr.call(this),this.h=c,this.g={}}T(ua,xr);var Jw=[];function Zw(c){Z(c.g,function(d,f){this.g.hasOwnProperty(f)&&hp(d)},c),c.g={}}ua.prototype.N=function(){ua.aa.N.call(this),Zw(this)},ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gp=a.JSON.stringify,hN=a.JSON.parse,fN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function yp(){}yp.prototype.h=null;function Xw(c){return c.h||(c.h=c.i())}function eE(){}var la={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vp(){mt.call(this,"d")}T(vp,mt);function _p(){mt.call(this,"c")}T(_p,mt);var bi={},tE=null;function Eu(){return tE=tE||new gt}bi.La="serverreachability";function nE(c){mt.call(this,bi.La,c)}T(nE,mt);function da(c){let d=Eu();Tt(d,new nE(d))}bi.STAT_EVENT="statevent";function rE(c,d){mt.call(this,bi.STAT_EVENT,c),this.stat=d}T(rE,mt);function St(c){let d=Eu();Tt(d,new rE(d,c))}bi.Ma="timingevent";function iE(c,d){mt.call(this,bi.Ma,c),this.size=d}T(iE,mt);function ha(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function fa(){this.g=!0}fa.prototype.xa=function(){this.g=!1};function pN(c,d,f,m,C,x){c.info(function(){if(c.g)if(x)for(var j="",Me=x.split("&"),dt=0;dt<Me.length;dt++){var Ce=Me[dt].split("=");if(1<Ce.length){var yt=Ce[0];Ce=Ce[1];var vt=yt.split("_");j=2<=vt.length&&vt[1]=="type"?j+(yt+"="+Ce+"&"):j+(yt+"=redacted&")}}else j=null;else j=x;return"XMLHTTP REQ ("+m+") [attempt "+C+"]: "+d+`
`+f+`
`+j})}function mN(c,d,f,m,C,x,j){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+C+"]: "+d+`
`+f+`
`+x+" "+j})}function Io(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+yN(c,f)+(m?" "+m:"")})}function gN(c,d){c.info(function(){return"TIMEOUT: "+d})}fa.prototype.info=function(){};function yN(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var C=m[1];if(Array.isArray(C)&&!(1>C.length)){var x=C[0];if(x!="noop"&&x!="stop"&&x!="close")for(var j=1;j<C.length;j++)C[j]=""}}}}return gp(f)}catch{return d}}var bu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ip;function Du(){}T(Du,yp),Du.prototype.g=function(){return new XMLHttpRequest},Du.prototype.i=function(){return{}},Ip=new Du;function Rr(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new ua(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sE}function sE(){this.i=null,this.g="",this.h=!1}var aE={},wp={};function Ep(c,d,f){c.L=1,c.v=Au(Zn(d)),c.m=f,c.P=!0,cE(c,null)}function cE(c,d){c.F=Date.now(),Cu(c),c.A=Zn(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),EE(f.i,"t",m),c.C=0,f=c.j.J,c.h=new sE,c.g=UE(c.j,f?d:null,!c.m),0<c.O&&(c.M=new dN(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(Jw[0]=C.toString()),C=Jw);for(var x=0;x<C.length;x++){var j=zw(f,C[x],m||d.handleEvent,!1,d.h||d);if(!j)break;d.g[j.key]=j}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),da(),pN(c.i,c.u,c.A,c.l,c.R,c.m)}Rr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Xn(c)==3?d.j():this.Y(c)},Rr.prototype.Y=function(c){try{if(c==this.g)e:{let vt=Xn(this.g);var d=this.g.Ba();let bo=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||xE(this.g)))){this.J||vt!=4||d==7||(d==8||0>=bo?da(3):da(2)),bp(this);var f=this.g.Z();this.X=f;t:if(uE(this)){var m=xE(this.g);c="";var C=m.length,x=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Di(this),pa(this);var j="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(x&&d==C-1)});m.length=0,this.h.g+=c,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=f==200,mN(this.i,this.u,this.A,this.l,this.R,vt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,dt=this.g;if((Me=dt.g?dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Me)){var Ce=Me;break t}}Ce=null}if(f=Ce)Io(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dp(this,f);else{this.o=!1,this.s=3,St(12),Di(this),pa(this);break e}}if(this.P){f=!0;let hn;for(;!this.J&&this.C<j.length;)if(hn=vN(this,j),hn==wp){vt==4&&(this.s=4,St(14),f=!1),Io(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==aE){this.s=4,St(15),Io(this.i,this.l,j,"[Invalid Chunk]"),f=!1;break}else Io(this.i,this.l,hn,null),Dp(this,hn);if(uE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||j.length!=0||this.h.h||(this.s=1,St(16),f=!1),this.o=this.o&&f,!f)Io(this.i,this.l,j,"[Invalid Chunked Response]"),Di(this),pa(this);else if(0<j.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),Rp(yt),yt.M=!0,St(11))}}else Io(this.i,this.l,j,null),Dp(this,j);vt==4&&Di(this),this.o&&!this.J&&(vt==4?FE(this.j,this):(this.o=!1,Cu(this)))}else kN(this.g),f==400&&0<j.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),Di(this),pa(this)}}}catch{}finally{}};function uE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function vN(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?wp:(f=Number(d.substring(f,m)),isNaN(f)?aE:(m+=1,m+f>d.length?wp:(d=d.slice(m,m+f),c.C=m+f,d)))}Rr.prototype.cancel=function(){this.J=!0,Di(this)};function Cu(c){c.S=Date.now()+c.I,lE(c,c.I)}function lE(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ha(g(c.ba,c),d)}function bp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Rr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(gN(this.i,this.A),this.L!=2&&(da(),St(17)),Di(this),this.s=2,pa(this)):lE(this,this.S-c)};function pa(c){c.j.G==0||c.J||FE(c.j,c)}function Di(c){bp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Zw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Dp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Cp(f.h,c))){if(!c.K&&Cp(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var C=m;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Pu(f),Mu(f);else break e;xp(f),St(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=ha(g(f.Za,f),6e3));if(1>=fE(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ti(f,11)}else if((c.K||f.g==c)&&Pu(f),!W(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let Ce=C[d];if(f.T=Ce[0],Ce=Ce[1],f.G==2)if(Ce[0]=="c"){f.K=Ce[1],f.ia=Ce[2];let yt=Ce[3];yt!=null&&(f.la=yt,f.j.info("VER="+f.la));let vt=Ce[4];vt!=null&&(f.Aa=vt,f.j.info("SVER="+f.Aa));let bo=Ce[5];bo!=null&&typeof bo=="number"&&0<bo&&(m=1.5*bo,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let hn=c.g;if(hn){let ku=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ku){var x=m.h;x.g||ku.indexOf("spdy")==-1&&ku.indexOf("quic")==-1&&ku.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(Tp(x,x.h),x.h=null))}if(m.D){let Mp=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Mp&&(m.ya=Mp,ke(m.I,m.D,Mp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var j=c;if(m.qa=jE(m,m.J?m.ia:null,m.W),j.K){pE(m.h,j);var Me=j,dt=m.L;dt&&(Me.I=dt),Me.B&&(bp(Me),Cu(Me)),m.g=j}else OE(m);0<f.i.length&&Nu(f)}else Ce[0]!="stop"&&Ce[0]!="close"||Ti(f,7);else f.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?Ti(f,7):Ap(f):Ce[0]!="noop"&&f.l&&f.l.ta(Ce),f.v=0)}}da(4)}catch{}}var _N=class{constructor(c,d){this.g=c,this.map=d}};function dE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fE(c){return c.h?1:c.g?c.g.size:0}function Cp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Tp(c,d){c.g?c.g.add(d):c.h=d}function pE(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}dE.prototype.cancel=function(){if(this.i=mE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function mE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function IN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function wN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function gE(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=wN(c),m=IN(c),C=m.length,x=0;x<C;x++)d.call(void 0,m[x],f&&f[x],c)}var yE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function EN(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),C=null;if(0<=m){var x=c[f].substring(0,m);C=c[f].substring(m+1)}else x=c[f];d(x,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Ci(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ci){this.h=c.h,Tu(this,c.j),this.o=c.o,this.g=c.g,Su(this,c.s),this.l=c.l;var d=c.i,f=new ya;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),vE(this,f),this.m=c.m}else c&&(d=String(c).match(yE))?(this.h=!1,Tu(this,d[1]||"",!0),this.o=ma(d[2]||""),this.g=ma(d[3]||"",!0),Su(this,d[4]),this.l=ma(d[5]||"",!0),vE(this,d[6]||"",!0),this.m=ma(d[7]||"")):(this.h=!1,this.i=new ya(null,this.h))}Ci.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ga(d,_E,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ga(d,_E,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ga(f,f.charAt(0)=="/"?CN:DN,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ga(f,SN)),c.join("")};function Zn(c){return new Ci(c)}function Tu(c,d,f){c.j=f?ma(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Su(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function vE(c,d,f){d instanceof ya?(c.i=d,AN(c.i,c.h)):(f||(d=ga(d,TN)),c.i=new ya(d,c.h))}function ke(c,d,f){c.i.set(d,f)}function Au(c){return ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ma(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ga(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,bN),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function bN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _E=/[#\/\?@]/g,DN=/[#\?:]/g,CN=/[#\?]/g,TN=/[#\?@]/g,SN=/#/g;function ya(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Mr(c){c.g||(c.g=new Map,c.h=0,c.i&&EN(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=ya.prototype,n.add=function(c,d){Mr(this),this.i=null,c=wo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function IE(c,d){Mr(c),d=wo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function wE(c,d){return Mr(c),d=wo(c,d),c.g.has(d)}n.forEach=function(c,d){Mr(this),this.g.forEach(function(f,m){f.forEach(function(C){c.call(d,C,m,this)},this)},this)},n.na=function(){Mr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let C=c[m];for(let x=0;x<C.length;x++)f.push(d[m])}return f},n.V=function(c){Mr(this);let d=[];if(typeof c=="string")wE(this,c)&&(d=d.concat(this.g.get(wo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Mr(this),this.i=null,c=wo(this,c),wE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function EE(c,d,f){IE(c,d),0<f.length&&(c.i=null,c.g.set(wo(c,d),N(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let x=encodeURIComponent(String(m)),j=this.V(m);for(m=0;m<j.length;m++){var C=x;j[m]!==""&&(C+="="+encodeURIComponent(String(j[m]))),c.push(C)}}return this.i=c.join("&")};function wo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function AN(c,d){d&&!c.j&&(Mr(c),c.i=null,c.g.forEach(function(f,m){var C=m.toLowerCase();m!=C&&(IE(this,m),EE(this,C,f))},c)),c.j=d}function xN(c,d){let f=new fa;if(a.Image){let m=new Image;m.onload=y(Nr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(Nr,f,"TestLoadImage: error",!1,d,m),m.onabort=y(Nr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(Nr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function RN(c,d){let f=new fa,m=new AbortController,C=setTimeout(()=>{m.abort(),Nr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(x=>{clearTimeout(C),x.ok?Nr(f,"TestPingServer: ok",!0,d):Nr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Nr(f,"TestPingServer: error",!1,d)})}function Nr(c,d,f,m,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),m(f)}catch{}}function MN(){this.g=new fN}function NN(c,d,f){let m=f||"";try{gE(c,function(C,x){let j=C;l(C)&&(j=gp(C)),d.push(m+x+"="+encodeURIComponent(j))})}catch(C){throw d.push(m+"type="+encodeURIComponent("_badmap")),C}}function va(c){this.l=c.Ub||null,this.j=c.eb||!1}T(va,yp),va.prototype.g=function(){return new xu(this.l,this.j)},va.prototype.i=function(c){return function(){return c}}({});function xu(c,d){gt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(xu,gt),n=xu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ia(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_a(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ia(this)),this.g&&(this.readyState=3,Ia(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function bE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?_a(this):Ia(this),this.readyState==3&&bE(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,_a(this))},n.Qa=function(c){this.g&&(this.response=c,_a(this))},n.ga=function(){this.g&&_a(this)};function _a(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ia(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ia(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function DE(c){let d="";return Z(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Sp(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=DE(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):ke(c,d,f))}function je(c){gt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(je,gt);var PN=/^https?$/i,ON=["POST","PUT"];n=je.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ip.g(),this.v=this.o?Xw(this.o):Xw(Ip),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(x){CE(this,x);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var C in m)f.set(C,m[C]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let x of m.keys())f.set(x,m.get(x));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(x=>x.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ON,d,void 0))||m||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[x,j]of f)this.g.setRequestHeader(x,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{AE(this),this.u=!0,this.g.send(c),this.u=!1}catch(x){CE(this,x)}};function CE(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,TE(c),Ru(c)}function TE(c){c.A||(c.A=!0,Tt(c,"complete"),Tt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Tt(this,"complete"),Tt(this,"abort"),Ru(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ru(this,!0)),je.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?SE(this):this.bb())},n.bb=function(){SE(this)};function SE(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Xn(c)!=4||c.Z()!=2)){if(c.u&&Xn(c)==4)Qw(c.Ea,0,c);else if(Tt(c,"readystatechange"),Xn(c)==4){c.h=!1;try{let j=c.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=j===0){var C=String(c.D).match(yE)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),m=!PN.test(C?C.toLowerCase():"")}f=m}if(f)Tt(c,"complete"),Tt(c,"success");else{c.m=6;try{var x=2<Xn(c)?c.g.statusText:""}catch{x=""}c.l=x+" ["+c.Z()+"]",TE(c)}}finally{Ru(c)}}}}function Ru(c,d){if(c.g){AE(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Tt(c,"ready");try{f.onreadystatechange=m}catch{}}}function AE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),hN(d)}};function xE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function kN(c){let d={};c=(c.g&&2<=Xn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(W(c[m]))continue;var f=D(c[m]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let x=d[C]||[];d[C]=x,x.push(f)}E(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wa(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function RE(c){this.Aa=0,this.i=[],this.j=new fa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wa("baseRetryDelayMs",5e3,c),this.cb=wa("retryDelaySeedMs",1e4,c),this.Wa=wa("forwardChannelMaxRetries",2,c),this.wa=wa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new dE(c&&c.concurrentRequestLimit),this.Da=new MN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=RE.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,m){St(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=jE(this,null,this.W),Nu(this)};function Ap(c){if(ME(c),c.G==3){var d=c.U++,f=Zn(c.I);if(ke(f,"SID",c.K),ke(f,"RID",d),ke(f,"TYPE","terminate"),Ea(c,f),d=new Rr(c,c.j,d),d.L=2,d.v=Au(Zn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=UE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Cu(d)}VE(c)}function Mu(c){c.g&&(Rp(c),c.g.cancel(),c.g=null)}function ME(c){Mu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Pu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Nu(c){if(!hE(c.h)&&!c.s){c.s=!0;var d=c.Ga;oa||Hw(),sa||(oa(),sa=!0),ap.add(d,c),c.B=0}}function FN(c,d){return fE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ha(g(c.Ga,c,d),LE(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new Rr(this,this.j,c),x=this.o;if(this.S&&(x?(x=v(x),b(x,this.S)):x=this.S),this.m!==null||this.O||(C.H=x,x=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=PE(this,C,d),f=Zn(this.I),ke(f,"RID",c),ke(f,"CVER",22),this.D&&ke(f,"X-HTTP-Session-Id",this.D),Ea(this,f),x&&(this.O?d="headers="+encodeURIComponent(String(DE(x)))+"&"+d:this.m&&Sp(f,this.m,x)),Tp(this.h,C),this.Ua&&ke(f,"TYPE","init"),this.P?(ke(f,"$req",d),ke(f,"SID","null"),C.T=!0,Ep(C,f,null)):Ep(C,f,d),this.G=2}}else this.G==3&&(c?NE(this,c):this.i.length==0||hE(this.h)||NE(this))};function NE(c,d){var f;d?f=d.l:f=c.U++;let m=Zn(c.I);ke(m,"SID",c.K),ke(m,"RID",f),ke(m,"AID",c.T),Ea(c,m),c.m&&c.o&&Sp(m,c.m,c.o),f=new Rr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=PE(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Tp(c.h,f),Ep(f,m,d)}function Ea(c,d){c.H&&Z(c.H,function(f,m){ke(d,m,f)}),c.l&&gE({},function(f,m){ke(d,m,f)})}function PE(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var C=c.i;let x=-1;for(;;){let j=["count="+f];x==-1?0<f?(x=C[0].g,j.push("ofs="+x)):x=0:j.push("ofs="+x);let Me=!0;for(let dt=0;dt<f;dt++){let Ce=C[dt].g,yt=C[dt].map;if(Ce-=x,0>Ce)x=Math.max(0,C[dt].g-100),Me=!1;else try{NN(yt,j,"req"+Ce+"_")}catch{m&&m(yt)}}if(Me){m=j.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function OE(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;oa||Hw(),sa||(oa(),sa=!0),ap.add(d,c),c.v=0}}function xp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ha(g(c.Fa,c),LE(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,kE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ha(g(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),Mu(this),kE(this))};function Rp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function kE(c){c.g=new Rr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Zn(c.qa);ke(d,"RID","rpc"),ke(d,"SID",c.K),ke(d,"AID",c.T),ke(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&ke(d,"TO",c.ja),ke(d,"TYPE","xmlhttp"),Ea(c,d),c.m&&c.o&&Sp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Au(Zn(d)),f.m=null,f.P=!0,cE(f,c)}n.Za=function(){this.C!=null&&(this.C=null,Mu(this),xp(this),St(19))};function Pu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function FE(c,d){var f=null;if(c.g==d){Pu(c),Rp(c),c.g=null;var m=2}else if(Cp(c.h,d))f=d.D,pE(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;m=Eu(),Tt(m,new iE(m,f)),Nu(c)}else OE(c);else if(C=d.s,C==3||C==0&&0<d.X||!(m==1&&FN(c,d)||m==2&&xp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function LE(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ti(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let C=!m;m=new Ci(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Tu(m,"https"),Au(m),C?xN(m.toString(),f):RN(m.toString(),f)}else St(2);c.G=0,c.l&&c.l.sa(d),VE(c),ME(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function VE(c){if(c.G=0,c.ka=[],c.l){let d=mE(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function jE(c,d,f){var m=f instanceof Ci?Zn(f):new Ci(f);if(m.g!="")d&&(m.g=d+"."+m.g),Su(m,m.s);else{var C=a.location;m=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var x=new Ci(null);m&&Tu(x,m),d&&(x.g=d),C&&Su(x,C),f&&(x.l=f),m=x}return f=c.D,d=c.ya,f&&d&&ke(m,f,d),ke(m,"VER",c.la),Ea(c,m),m}function UE(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new je(new va({eb:f})):new je(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function BE(){}n=BE.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ou(){}Ou.prototype.g=function(c,d){return new Ht(c,d)};function Ht(c,d){gt.call(this),this.g=new RE(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!W(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!W(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Eo(this)}T(Ht,gt),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){Ap(this.g)},Ht.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=gp(c),c=f);d.i.push(new _N(d.Ya++,c)),d.G==3&&Nu(d)},Ht.prototype.N=function(){this.g.l=null,delete this.j,Ap(this.g),delete this.g,Ht.aa.N.call(this)};function $E(c){vp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}T($E,vp);function HE(){_p.call(this),this.status=1}T(HE,_p);function Eo(c){this.g=c}T(Eo,BE),Eo.prototype.ua=function(){Tt(this.g,"a")},Eo.prototype.ta=function(c){Tt(this.g,new $E(c))},Eo.prototype.sa=function(c){Tt(this.g,new HE)},Eo.prototype.ra=function(){Tt(this.g,"b")},Ou.prototype.createWebChannel=Ou.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,F_=br.createWebChannelTransport=function(){return new Ou},k_=br.getStatEventTarget=function(){return Eu()},O_=br.Event=bi,af=br.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bu.NO_ERROR=0,bu.TIMEOUT=8,bu.HTTP_ERROR=6,Yc=br.ErrorCode=bu,oE.COMPLETE="complete",P_=br.EventType=oE,eE.EventType=la,la.OPEN="a",la.CLOSE="b",la.ERROR="c",la.MESSAGE="d",gt.prototype.listen=gt.prototype.K,ks=br.WebChannel=eE,hz=br.FetchXmlHttpFactory=va,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,N_=br.XhrIo=je}).apply(typeof sf<"u"?sf:typeof self<"u"?self:typeof window<"u"?window:{});var rR="@firebase/firestore";var lt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};lt.UNAUTHENTICATED=new lt(null),lt.GOOGLE_CREDENTIALS=new lt("google-credentials-uid"),lt.FIRST_PARTY=new lt("first-party-uid"),lt.MOCK_USER=new lt("mock-user");var na="10.14.0";var lo=new di("@firebase/firestore");function Jc(){return lo.logLevel}function q(n,...e){if(lo.logLevel<=ye.DEBUG){let t=e.map(yw);lo.debug(`Firestore (${na}): ${n}`,...t)}}function Cr(n,...e){if(lo.logLevel<=ye.ERROR){let t=e.map(yw);lo.error(`Firestore (${na}): ${n}`,...t)}}function $s(n,...e){if(lo.logLevel<=ye.WARN){let t=e.map(yw);lo.warn(`Firestore (${na}): ${n}`,...t)}}function yw(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ne(n="Unexpected state"){let e=`FIRESTORE (${na}) INTERNAL ASSERTION FAILED: `+n;throw Cr(e),new Error(e)}function xe(n,e){n||ne()}function ie(n,e){return n}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},K=class extends Zt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Hn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var hf=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},B_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(lt.UNAUTHENTICATED))}shutdown(){}},$_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},H_=class{constructor(e){this.t=e,this.currentUser=lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){xe(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Hn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Hn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Hn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string"),new hf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string"),new lt(e)}},z_=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},q_=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new z_(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},G_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},W_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){xe(this.o===void 0);let r=o=>{o.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xe(typeof t.token=="string"),this.R=t.token,new G_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function fz(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var ff=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=fz(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function Te(n,e){return n<e?-1:n>e?1:0}function Hs(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var pt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new K(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new K(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new K(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var se=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new pt(0,0))}static max(){return new n(new pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var pf=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ne(),r===void 0?r=e.length-t:r>e.length-t&&ne(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},qe=class n extends pf{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new K(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},pz=/^[_a-zA-Z][_a-zA-Z0-9]*$/,en=class n extends pf{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return pz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new K(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new K(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new K(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new K(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var J=class n{constructor(e){this.path=e}static fromPath(e){return new n(qe.fromString(e))}static fromName(e){return new n(qe.fromString(e).popFirst(5))}static empty(){return new n(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new qe(e.slice()))}};var K_=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};K_.UNKNOWN_ID=-1;function mz(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new pt(t+1,0):new pt(t,r));return new ho(i,J.empty(),e)}function gz(n){return new ho(n.readTime,n.key,-1)}var ho=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(se.min(),J.empty(),-1)}static max(){return new n(se.max(),J.empty(),-1)}};function yz(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=J.comparator(n.documentKey,e.documentKey),t!==0?t:Te(n.largestBatchId,e.largestBatchId))}var vz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Q_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function mu(n){return _(this,null,function*(){if(n.code!==k.FAILED_PRECONDITION||n.message!==vz)throw n;q("LocalStore","Unexpectedly lost primary lease")})}var F=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function _z(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function gu(n){return n.name==="IndexedDbTransactionError"}var kR=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function qf(n){return n==null}function ru(n){return n===0&&1/n==-1/0}function Iz(n){return typeof n=="number"&&Number.isInteger(n)&&!ru(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var wz=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],bJ=[...wz,"documentOverlays"],Ez=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bz=Ez,Dz=[...bz,"indexConfiguration","indexState","indexEntries"];var DJ=[...Dz,"globals"];function iR(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function yo(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function FR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ge=class n{constructor(e,t){this.comparator=e,this.root=t||zn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new js(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new js(this.root,e,this.comparator,!1)}getReverseIterator(){return new js(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new js(this.root,e,this.comparator,!0)}},js=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},zn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();let e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}};zn.EMPTY=null,zn.RED=!0,zn.BLACK=!1;zn.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,t,r,i,o){return this}insert(e,t,r){return new zn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Dt=class n{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mf(this.data.getIterator())}getIteratorFrom(e){return new mf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},mf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var dn=class n{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new n([])}unionWith(e){let t=new Dt(en.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hs(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var gf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ct=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new gf("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ct.EMPTY_BYTE_STRING=new Ct("");var Cz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(n){if(xe(!!n),typeof n=="string"){let e=0,t=Cz.exec(n);if(xe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(n.seconds),nanos:Ve(n.nanos)}}function Ve(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ii(n){return typeof n=="string"?Ct.fromBase64String(n):Ct.fromUint8Array(n)}function vw(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function _w(n){let e=n.mapValue.fields.__previous_value__;return vw(e)?_w(e):e}function iu(n){let e=Tr(n.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}var Y_=class{constructor(e,t,r,i,o,s,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},yf=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var cf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?vw(n)?4:VR(n)?9007199254740991:LR(n)?10:11:ne()}function Kn(n,e){if(n===e)return!0;let t=fo(n);if(t!==fo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return iu(n).isEqual(iu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Tr(i.timestampValue),a=Tr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Ii(i.bytesValue).isEqual(Ii(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Ve(i.geoPointValue.latitude)===Ve(o.geoPointValue.latitude)&&Ve(i.geoPointValue.longitude)===Ve(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ve(i.integerValue)===Ve(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ve(i.doubleValue),a=Ve(o.doubleValue);return s===a?ru(s)===ru(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Hs(n.arrayValue.values||[],e.arrayValue.values||[],Kn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(iR(s)!==iR(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Kn(s[u],a[u])))return!1;return!0}(n,e);default:return ne()}}function ou(n,e){return(n.values||[]).find(t=>Kn(t,e))!==void 0}function zs(n,e){if(n===e)return 0;let t=fo(n),r=fo(e);if(t!==r)return Te(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Te(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ve(o.integerValue||o.doubleValue),u=Ve(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return oR(n.timestampValue,e.timestampValue);case 4:return oR(iu(n),iu(e));case 5:return Te(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Ii(o),u=Ii(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Te(a[l],u[l]);if(h!==0)return h}return Te(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Te(Ve(o.latitude),Ve(s.latitude));return a!==0?a:Te(Ve(o.longitude),Ve(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return sR(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,T=(u=g.value)===null||u===void 0?void 0:u.arrayValue,N=Te(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=T?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:sR(y,T)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===cf.mapValue&&s===cf.mapValue)return 0;if(o===cf.mapValue)return 1;if(s===cf.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=Te(u[p],h[p]);if(g!==0)return g;let y=zs(a[u[p]],l[h[p]]);if(y!==0)return y}return Te(u.length,h.length)}(n.mapValue,e.mapValue);default:throw ne()}}function oR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Te(n,e);let t=Tr(n),r=Tr(e),i=Te(t.seconds,r.seconds);return i!==0?i:Te(t.nanos,r.nanos)}function sR(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=zs(t[i],r[i]);if(o)return o}return Te(t.length,r.length)}function qs(n){return J_(n)}function J_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Tr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ii(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return J.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=J_(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${J_(t.fields[s])}`;return i+"}"}(n.mapValue):ne()}function Z_(n){return!!n&&"integerValue"in n}function Iw(n){return!!n&&"arrayValue"in n}function aR(n){return!!n&&"nullValue"in n}function cR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lf(n){return!!n&&"mapValue"in n}function LR(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Xc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return yo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Xc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Xc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function VR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Xt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!lf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xc(t)}setAll(e){let t=en.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Xc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());lf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Kn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];lf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){yo(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Xc(this.value))}};function jR(n){let e=[];return yo(n.fields,(t,r)=>{let i=new en([t]);if(lf(r)){let o=jR(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new dn(e)}var bn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,se.min(),se.min(),se.min(),Xt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,se.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,se.min(),se.min(),Xt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,se.min(),se.min(),Xt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Gs=class{constructor(e,t){this.position=e,this.inclusive=t}};function uR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=J.comparator(J.fromName(s.referenceValue),t.key):r=zs(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function lR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Kn(n.position[t],e.position[t]))return!1;return!0}var Ws=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Tz(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var vf=class{},it=class n extends vf{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new eI(e,t,r):t==="array-contains"?new rI(e,r):t==="in"?new iI(e,r):t==="not-in"?new oI(e,r):t==="array-contains-any"?new sI(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new tI(e,r):new nI(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(zs(t,this.value)):t!==null&&fo(this.value)===fo(t)&&this.matchesComparison(zs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Qn=class n extends vf{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return UR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function UR(n){return n.op==="and"}function BR(n){return Sz(n)&&UR(n)}function Sz(n){for(let e of n.filters)if(e instanceof Qn)return!1;return!0}function X_(n){if(n instanceof it)return n.field.canonicalString()+n.op.toString()+qs(n.value);if(BR(n))return n.filters.map(e=>X_(e)).join(",");{let e=n.filters.map(t=>X_(t)).join(",");return`${n.op}(${e})`}}function $R(n,e){return n instanceof it?function(r,i){return i instanceof it&&r.op===i.op&&r.field.isEqual(i.field)&&Kn(r.value,i.value)}(n,e):n instanceof Qn?function(r,i){return i instanceof Qn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&$R(s,i.filters[a]),!0):!1}(n,e):void ne()}function HR(n){return n instanceof it?function(t){return`${t.field.canonicalString()} ${t.op} ${qs(t.value)}`}(n):n instanceof Qn?function(t){return t.op.toString()+" {"+t.getFilters().map(HR).join(" ,")+"}"}(n):"Filter"}var eI=class extends it{constructor(e,t,r){super(e,t,r),this.key=J.fromName(r.referenceValue)}matches(e){let t=J.comparator(e.key,this.key);return this.matchesComparison(t)}},tI=class extends it{constructor(e,t){super(e,"in",t),this.keys=zR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},nI=class extends it{constructor(e,t){super(e,"not-in",t),this.keys=zR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function zR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>J.fromName(r.referenceValue))}var rI=class extends it{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Iw(t)&&ou(t.arrayValue,this.value)}},iI=class extends it{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&ou(this.value.arrayValue,t)}},oI=class extends it{constructor(e,t){super(e,"not-in",t)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!ou(this.value.arrayValue,t)}},sI=class extends it{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Iw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ou(this.value.arrayValue,r))}};var aI=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function dR(n,e=null,t=[],r=[],i=null,o=null,s=null){return new aI(n,e,t,r,i,o,s)}function ww(n){let e=ie(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>X_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),qf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>qs(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>qs(r)).join(",")),e.ue=t}return e.ue}function Ew(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Tz(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!$R(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!lR(n.startAt,e.startAt)&&lR(n.endAt,e.endAt)}function cI(n){return J.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ks=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Az(n,e,t,r,i,o,s,a){return new Ks(n,e,t,r,i,o,s,a)}function Gf(n){return new Ks(n)}function hR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function xz(n){return n.collectionGroup!==null}function eu(n){let e=ie(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Dt(en.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ws(o,r))}),t.has(en.keyField().canonicalString())||e.ce.push(new Ws(en.keyField(),r))}return e.ce}function qn(n){let e=ie(n);return e.le||(e.le=Rz(e,eu(n))),e.le}function Rz(n,e){if(n.limitType==="F")return dR(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ws(i.field,o)});let t=n.endAt?new Gs(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Gs(n.startAt.position,n.startAt.inclusive):null;return dR(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function uI(n,e,t){return new Ks(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wf(n,e){return Ew(qn(n),qn(e))&&n.limitType===e.limitType}function qR(n){return`${ww(qn(n))}|lt:${n.limitType}`}function Fs(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>HR(i)).join(", ")}]`),qf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>qs(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>qs(i)).join(",")),`Target(${r})`}(qn(n))}; limitType=${n.limitType})`}function Kf(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):J.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of eu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=uR(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,eu(r),i)||r.endAt&&!function(s,a,u){let l=uR(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,eu(r),i))}(n,e)}function Mz(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function GR(n){return(e,t)=>{let r=!1;for(let i of eu(n)){let o=Nz(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Nz(n,e,t){let r=n.field.isKeyField()?J.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?zs(u,l):ne()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}var wi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yo(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return FR(this.inner)}size(){return this.innerSize}};var Pz=new Ge(J.comparator);function Sr(){return Pz}var WR=new Ge(J.comparator);function Zc(...n){let e=WR;for(let t of n)e=e.insert(t.key,t);return e}function KR(n){let e=WR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ao(){return tu()}function QR(){return tu()}function tu(){return new wi(n=>n.toString(),(n,e)=>n.isEqual(e))}var Oz=new Ge(J.comparator),kz=new Dt(J.comparator);function ve(...n){let e=kz;for(let t of n)e=e.add(t);return e}var Fz=new Dt(Te);function Lz(){return Fz}function bw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ru(e)?"-0":e}}function YR(n){return{integerValue:""+n}}function Vz(n,e){return Iz(e)?YR(e):bw(n,e)}var Qs=class{constructor(){this._=void 0}};function jz(n,e,t){return n instanceof Ys?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&vw(o)&&(o=_w(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof po?ZR(n,e):n instanceof mo?XR(n,e):function(i,o){let s=JR(i,o),a=fR(s)+fR(i.Pe);return Z_(s)&&Z_(i.Pe)?YR(a):bw(i.serializer,a)}(n,e)}function Uz(n,e,t){return n instanceof po?ZR(n,e):n instanceof mo?XR(n,e):t}function JR(n,e){return n instanceof Js?function(r){return Z_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ys=class extends Qs{},po=class extends Qs{constructor(e){super(),this.elements=e}};function ZR(n,e){let t=eM(e);for(let r of n.elements)t.some(i=>Kn(i,r))||t.push(r);return{arrayValue:{values:t}}}var mo=class extends Qs{constructor(e){super(),this.elements=e}};function XR(n,e){let t=eM(e);for(let r of n.elements)t=t.filter(i=>!Kn(i,r));return{arrayValue:{values:t}}}var Js=class extends Qs{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function fR(n){return Ve(n.integerValue||n.doubleValue)}function eM(n){return Iw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Bz(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof po&&i instanceof po||r instanceof mo&&i instanceof mo?Hs(r.elements,i.elements,Kn):r instanceof Js&&i instanceof Js?Kn(r.Pe,i.Pe):r instanceof Ys&&i instanceof Ys}(n.transform,e.transform)}var lI=class{constructor(e,t){this.version=e,this.transformResults=t}},Dr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function df(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Zs=class{};function tM(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new su(n.key,Dr.none()):new go(n.key,n.data,Dr.none());{let t=n.data,r=Xt.empty(),i=new Dt(en.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Yn(n.key,r,new dn(i.toArray()),Dr.none())}}function $z(n,e,t){n instanceof go?function(i,o,s){let a=i.value.clone(),u=mR(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Yn?function(i,o,s){if(!df(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=mR(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(nM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function nu(n,e,t,r){return n instanceof go?function(o,s,a,u){if(!df(o.precondition,s))return a;let l=o.value.clone(),h=gR(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Yn?function(o,s,a,u){if(!df(o.precondition,s))return a;let l=gR(o.fieldTransforms,u,s),h=s.data;return h.setAll(nM(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return df(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function Hz(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=JR(r.transform,i||null);o!=null&&(t===null&&(t=Xt.empty()),t.set(r.field,o))}return t||null}function pR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Hs(r,i,(o,s)=>Bz(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var go=class extends Zs{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Yn=class extends Zs{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function nM(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function mR(n,e,t){let r=new Map;xe(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Uz(s,a,t[i]))}return r}function gR(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,jz(o,s,e))}return r}var su=class extends Zs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},dI=class extends Zs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var hI=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&$z(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=nu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=nu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=QR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=tM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ve())}isEqual(e){return this.batchId===e.batchId&&Hs(this.mutations,e.mutations,(t,r)=>pR(t,r))&&Hs(this.baseMutations,e.baseMutations,(t,r)=>pR(t,r))}},fI=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){xe(e.mutations.length===r.length);let i=function(){return Oz}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var pI=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var mI=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ze,be;function zz(n){switch(n){default:return ne();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function rM(n){if(n===void 0)return Cr("GRPC error has no .code"),k.UNKNOWN;switch(n){case Ze.OK:return k.OK;case Ze.CANCELLED:return k.CANCELLED;case Ze.UNKNOWN:return k.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return k.INTERNAL;case Ze.UNAVAILABLE:return k.UNAVAILABLE;case Ze.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Ze.NOT_FOUND:return k.NOT_FOUND;case Ze.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Ze.ABORTED:return k.ABORTED;case Ze.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Ze.DATA_LOSS:return k.DATA_LOSS;default:return ne()}}(be=Ze||(Ze={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";var yR=null;function qz(){return new TextEncoder}var Gz=new vi([4294967295,4294967295],0);function vR(n){let e=qz().encode(n),t=new M_;return t.update(e),new Uint8Array(t.digest())}function _R(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new vi([t,r],0),new vi([i,o],0)]}var gI=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new co(`Invalid padding: ${t}`);if(r<0)throw new co(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new co(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new co(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=vi.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(vi.fromNumber(r)));return i.compare(Gz)===1&&(i=new vi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=vR(e),[r,i]=_R(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=vR(e),[r,i]=_R(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},co=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var _f=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(se.min(),i,new Ge(Te),Sr(),ve())}},au=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ve(),ve(),ve())}};var Us=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},If=class{constructor(e,t){this.targetId=e,this.me=t}},wf=class{constructor(e,t,r=Ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Ef=class{constructor(){this.fe=0,this.ge=wR(),this.pe=Ct.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ve(),t=ve(),r=ve();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new au(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=wR()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},yI=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Sr(),this.qe=IR(),this.Qe=new Ge(Te)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:ne()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(cI(o))if(r===0){let s=new J(o.path);this.Ue(t,s,bn.newNoDocument(s,se.min()))}else xe(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}yR?.et(function(h,p,g,y,T){var N,R,V,W,B,X;let De={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},Z=p.unchangedNames;return Z&&(De.bloomFilter={applied:T===0,hashCount:(N=Z?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(W=(V=(R=Z?.bits)===null||R===void 0?void 0:R.bitmap)===null||V===void 0?void 0:V.length)!==null&&W!==void 0?W:0,padding:(X=(B=Z?.bits)===null||B===void 0?void 0:B.padding)!==null&&X!==void 0?X:0,mightContain:E=>{var v;return(v=y?.mightContain(E))!==null&&v!==void 0&&v}}),De}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Ii(r).toUint8Array()}catch(u){if(u instanceof gf)return $s("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new gI(s,i,o)}catch(u){return $s(u instanceof co?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&cI(a.target)){let u=new J(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,bn.newNoDocument(u,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=ve();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new _f(e,t,this.Qe,this.ke,r);return this.ke=Sr(),this.qe=IR(),this.Qe=new Ge(Te),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Ef,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Dt(Te),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||q("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ef),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function IR(){return new Ge(J.comparator)}function wR(){return new Ge(J.comparator)}var Wz={asc:"ASCENDING",desc:"DESCENDING"},Kz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qz={and:"AND",or:"OR"},vI=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function _I(n,e){return n.useProto3Json||qf(e)?e:{value:e}}function bf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iM(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Yz(n,e){return bf(n,e.toTimestamp())}function Gn(n){return xe(!!n),se.fromTimestamp(function(t){let r=Tr(t);return new pt(r.seconds,r.nanos)}(n))}function Dw(n,e){return II(n,e).canonicalString()}function II(n,e){let t=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function oM(n){let e=qe.fromString(n);return xe(lM(e)),e}function wI(n,e){return Dw(n.databaseId,e.path)}function L_(n,e){let t=oM(e);if(t.get(1)!==n.databaseId.projectId)throw new K(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new K(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new J(aM(t))}function sM(n,e){return Dw(n.databaseId,e)}function Jz(n){let e=oM(n);return e.length===4?qe.emptyPath():aM(e)}function EI(n){return new qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function aM(n){return xe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function ER(n,e,t){return{name:wI(n,e),fields:t.value.mapValue.fields}}function Zz(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(xe(h===void 0||typeof h=="string"),Ct.fromBase64String(h||"")):(xe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Ct.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?k.UNKNOWN:rM(l.code);return new K(h,l.message||"")}(s);t=new wf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=L_(n,r.document.name),o=Gn(r.document.updateTime),s=r.document.createTime?Gn(r.document.createTime):se.min(),a=new Xt({mapValue:{fields:r.document.fields}}),u=bn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Us(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=L_(n,r.document),o=r.readTime?Gn(r.readTime):se.min(),s=bn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Us([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=L_(n,r.document),o=r.removedTargetIds||[];t=new Us([],o,i,null)}else{if(!("filter"in e))return ne();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new mI(i,o),a=r.targetId;t=new If(a,s)}}return t}function Xz(n,e){let t;if(e instanceof go)t={update:ER(n,e.key,e.value)};else if(e instanceof su)t={delete:wI(n,e.key)};else if(e instanceof Yn)t={update:ER(n,e.key,e.data),updateMask:cq(e.fieldMask)};else{if(!(e instanceof dI))return ne();t={verify:wI(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Ys)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof po)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof mo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Js)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ne()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Yz(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ne()}(n,e.precondition)),t}function eq(n,e){return n&&n.length>0?(xe(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?Gn(i.updateTime):Gn(o);return s.isEqual(se.min())&&(s=Gn(o)),new lI(s,i.transformResults||[])}(t,e))):[]}function tq(n,e){return{documents:[sM(n,e.path)]}}function nq(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=sM(n,i);let o=function(l){if(l.length!==0)return uM(Qn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:Ls(g.field),direction:oq(g.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=_I(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function rq(n){let e=Jz(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){xe(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let g=cM(p);return g instanceof Qn&&BR(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(g=>function(T){return new Ws(Vs(T.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,qf(g)?null:g}(t.limit));let u=null;t.startAt&&(u=function(p){let g=!!p.before,y=p.values||[];return new Gs(y,g)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let g=!p.before,y=p.values||[];return new Gs(y,g)}(t.endAt)),Az(e,i,s,o,a,"F",u,l)}function iq(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function cM(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Vs(t.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Vs(t.unaryFilter.field);return it.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Vs(t.unaryFilter.field);return it.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Vs(t.unaryFilter.field);return it.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(n):n.fieldFilter!==void 0?function(t){return it.create(Vs(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Qn.create(t.compositeFilter.filters.map(r=>cM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne()}}(t.compositeFilter.op))}(n):ne()}function oq(n){return Wz[n]}function sq(n){return Kz[n]}function aq(n){return Qz[n]}function Ls(n){return{fieldPath:n.canonicalString()}}function Vs(n){return en.fromServerFormat(n.fieldPath)}function uM(n){return n instanceof it?function(t){if(t.op==="=="){if(cR(t.value))return{unaryFilter:{field:Ls(t.field),op:"IS_NAN"}};if(aR(t.value))return{unaryFilter:{field:Ls(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(cR(t.value))return{unaryFilter:{field:Ls(t.field),op:"IS_NOT_NAN"}};if(aR(t.value))return{unaryFilter:{field:Ls(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ls(t.field),op:sq(t.op),value:t.value}}}(n):n instanceof Qn?function(t){let r=t.getFilters().map(i=>uM(i));return r.length===1?r[0]:{compositeFilter:{op:aq(t.op),filters:r}}}(n):ne()}function cq(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lM(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var cu=class n{constructor(e,t,r,i,o=se.min(),s=se.min(),a=Ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var bI=class{constructor(e){this.ct=e}};function uq(n){let e=rq({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?uI(e,e.limit,"L"):e}var Df=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Ve(e.integerValue));else if("doubleValue"in e){let r=Ve(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),ru(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Tr(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Ii(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?VR(e)?this.dt(t,Number.MAX_SAFE_INTEGER):LR(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ne()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Ve(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),J.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Df.vt=new Df;var DI=class{constructor(){this.un=new CI}addToCollectionParentIndex(e,t){return this.un.add(t),F.resolve()}getCollectionParents(e,t){return F.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return F.resolve()}deleteFieldIndex(e,t){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,t){return F.resolve()}getDocumentsMatchingTarget(e,t){return F.resolve(null)}getIndexType(e,t){return F.resolve(0)}getFieldIndexes(e,t){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,t){return F.resolve(ho.min())}getMinOffsetFromCollectionGroup(e,t){return F.resolve(ho.min())}updateCollectionGroup(e,t,r){return F.resolve()}updateIndexEntries(e,t){return F.resolve()}},CI=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Dt(qe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dt(qe.comparator)).toArray()}};var TJ=new Uint8Array(0);var $n=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(41943040,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);var uu=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var TI=class{constructor(){this.changes=new wi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?F.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var SI=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var AI=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&nu(r.mutation,i,dn.empty(),pt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ve()){let i=ao();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Zc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=ao();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ve()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Sr(),s=tu(),a=function(){return tu()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Yn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),nu(h.mutation,l,h.mutation.getFieldMask(),pt.now())):s.set(l.key,dn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new SI(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=tu(),i=new Ge((s,a)=>s-a),o=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||dn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ve()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=QR();h.forEach(g=>{if(!o.has(g)){let y=tM(t.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return F.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return J.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xz(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):F.resolve(ao()),a=-1,u=o;return s.next(l=>F.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ve())).next(h=>({batchId:a,changes:KR(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new J(t)).next(r=>{let i=Zc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Zc();return this.indexManager.getCollectionParents(e,o).next(a=>F.forEach(a,u=>{let l=function(p,g){return new Ks(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,bn.newInvalidDocument(h)))});let a=Zc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&nu(h.mutation,l,dn.empty(),pt.now()),Kf(t,l)&&(a=a.insert(u,l))}),a})}};var xI=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return F.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Gn(i.createTime)}}(t)),F.resolve()}getNamedQuery(e,t){return F.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:uq(i.bundledQuery),readTime:Gn(i.readTime)}}(t)),F.resolve()}};var RI=class{constructor(){this.overlays=new Ge(J.comparator),this.Ir=new Map}getOverlay(e,t){return F.resolve(this.overlays.get(t))}getOverlays(e,t){let r=ao();return F.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),F.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,t,r){let i=ao(),o=t.length+1,s=new J(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ge((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=ao(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=ao(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return F.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new pI(t,r));let o=this.Ir.get(t);o===void 0&&(o=ve(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var MI=class{constructor(){this.sessionToken=Ct.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,F.resolve()}};var lu=class{constructor(){this.Tr=new Dt(Xe.Er),this.dr=new Dt(Xe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new Xe(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Xe(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new J(new qe([])),r=new Xe(t,e),i=new Xe(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new J(new qe([])),r=new Xe(t,e),i=new Xe(t,e+1),o=ve();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Xe(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Xe=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return J.comparator(e.key,t.key)||Te(e.wr,t.wr)}static Ar(e,t){return Te(e.wr,t.wr)||J.comparator(e.key,t.key)}};var NI=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Dt(Xe.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new hI(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new Xe(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,t){return F.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Xe(t,0),i=new Xe(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dt(Te);return t.forEach(i=>{let o=new Xe(i,0),s=new Xe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;J.isDocumentKey(o)||(o=o.child(""));let s=new Xe(new J(o),0),a=new Dt(Te);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),F.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){xe(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(t.mutations,i=>{let o=new Xe(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new Xe(t,0),i=this.br.firstAfterOrEqual(r);return F.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var PI=class{constructor(e){this.Mr=e,this.docs=function(){return new Ge(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return F.resolve(r?r.document.mutableCopy():bn.newInvalidDocument(t))}getEntries(e,t){let r=Sr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():bn.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Sr(),s=t.path,a=new J(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||yz(gz(h),r)<=0||(i.has(h.key)||Kf(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ne()}Or(e,t){return F.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new OI(this)}getSize(e){return F.resolve(this.size)}},OI=class extends TI{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),F.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var kI=class{constructor(e){this.persistence=e,this.Nr=new wi(t=>ww(t),Ew),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new lu,this.targetCount=0,this.kr=uu.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),F.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new uu(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,F.resolve()}updateTargetData(e,t){return this.Kn(t),F.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return F.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),F.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),F.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return F.resolve(r)}containsKey(e,t){return F.resolve(this.Br.containsKey(t))}};var FI=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new kR(0),this.Kr=!1,this.Kr=!0,this.$r=new MI,this.referenceDelegate=e(this),this.Ur=new kI(this),this.indexManager=new DI,this.remoteDocumentCache=function(i){return new PI(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new bI(t),this.Gr=new xI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new RI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new NI(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){q("MemoryPersistence","Starting transaction:",e);let i=new LI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},LI=class extends Q_{constructor(e){super(),this.currentSequenceNumber=e}},VI=class n{constructor(e){this.persistence=e,this.Jr=new lu,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ne()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),F.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{let i=J.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,se.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return F.or([()=>F.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var jI=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=ve(),i=ve();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var UI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var BI=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return OA()?8:_z(ut())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new UI;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Jc()<=ye.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Fs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(Jc()<=ye.DEBUG&&q("QueryEngine","Query:",Fs(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Jc()<=ye.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Fs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(t))):F.resolve())}Yi(e,t){if(hR(t))return F.resolve(null);let r=qn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=uI(t,null,"F"),r=qn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ve(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(t,a);return this.ns(t,l,s,u.readTime)?this.Yi(e,uI(t,null,"F")):this.rs(e,l,t,u)}))})))}Zi(e,t,r,i){return hR(t)||i.isEqual(se.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?F.resolve(null):(Jc()<=ye.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fs(t)),this.rs(e,s,t,mz(i,-1)).next(a=>a))})}ts(e,t){let r=new Dt(GR(e));return t.forEach((i,o)=>{Kf(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return Jc()<=ye.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Fs(t)),this.Ji.getDocumentsMatchingQuery(e,t,ho.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var $I=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Ge(Te),this._s=new wi(o=>ww(o),Ew),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function lq(n,e,t,r){return new $I(n,e,t,r)}function dM(n,e){return _(this,null,function*(){let t=ie(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ve();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function dq(n,e){let t=ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,g=p.keys(),y=F.resolve();return g.forEach(T=>{y=y.next(()=>h.getEntry(u,T)).next(N=>{let R=l.docVersions.get(T);xe(R!==null),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ve();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function hM(n){let e=ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function hq(n,e){let t=ie(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Ct.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,R,V){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(g,y,h)&&a.push(t.Ur.updateTargetData(o,y))});let u=Sr(),l=ve();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(fq(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(se.min())){let h=t.Ur.getLastRemoteSnapshotVersion(o).next(p=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.os=i,o))}function fq(n,e,t){let r=ve(),i=ve();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Sr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(se.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function pq(n,e){let t=ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mq(n,e){let t=ie(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,F.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new cu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function HI(n,e,t){return _(this,null,function*(){let r=ie(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!gu(s))throw s;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function bR(n,e,t){let r=ie(n),i=se.min(),o=ve();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ie(u),g=p._s.get(h);return g!==void 0?F.resolve(p.os.get(g)):p.Ur.getTargetData(l,h)}(r,s,qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:se.min(),t?o:ve())).next(a=>(gq(r,Mz(e),a),{documents:a,Ts:o})))}function gq(n,e,t){let r=n.us.get(e)||se.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var Cf=class{constructor(){this.activeTargetIds=Lz()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var zI=class{constructor(){this.so=new Cf,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Cf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var qI=class{_o(e){}shutdown(){}};var Tf=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var uf=null;function V_(){return uf===null?uf=function(){return 268435456+Math.round(2147483648*Math.random())}():uf++,"0x"+uf.toString(16)}var yq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var GI=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var bt="WebChannelConnection",WI=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=V_(),u=this.xo(t,r.toUriEncodedString());q("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(t,u,l,i).then(h=>(q("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw $s("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+na}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=yq[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=V_();return new Promise((s,a)=>{let u=new N_;u.setWithCredentials(!0),u.listenOnce(P_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Yc.NO_ERROR:let h=u.getResponseJson();q(bt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Yc.TIMEOUT:q(bt,`RPC '${e}' ${o} timed out`),a(new K(k.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:let p=u.getStatus();if(q(bt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);let y=g?.error;if(y&&y.status&&y.message){let T=function(R){let V=R.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(V)>=0?V:k.UNKNOWN}(y.status);a(new K(T,y.message))}else a(new K(k.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new K(k.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{q(bt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);q(bt,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",l,r,15)})}Bo(e,t,r){let i=V_(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=F_(),a=k_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");q(bt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),g=!1,y=!1,T=new GI({Io:R=>{y?q(bt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(g||(q(bt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),q(bt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),N=(R,V,W)=>{R.listen(V,B=>{try{W(B)}catch(X){setTimeout(()=>{throw X},0)}})};return N(p,ks.EventType.OPEN,()=>{y||(q(bt,`RPC '${e}' stream ${i} transport opened.`),T.yo())}),N(p,ks.EventType.CLOSE,()=>{y||(y=!0,q(bt,`RPC '${e}' stream ${i} transport closed`),T.So())}),N(p,ks.EventType.ERROR,R=>{y||(y=!0,$s(bt,`RPC '${e}' stream ${i} transport errored:`,R),T.So(new K(k.UNAVAILABLE,"The operation could not be completed")))}),N(p,ks.EventType.MESSAGE,R=>{var V;if(!y){let W=R.data[0];xe(!!W);let B=W,X=B.error||((V=B[0])===null||V===void 0?void 0:V.error);if(X){q(bt,`RPC '${e}' stream ${i} received error:`,X);let De=X.status,Z=function(I){let b=Ze[I];if(b!==void 0)return rM(b)}(De),E=X.message;Z===void 0&&(Z=k.INTERNAL,E="Unknown error status: "+De+" with message "+X.message),y=!0,T.So(new K(Z,E)),p.close()}else q(bt,`RPC '${e}' stream ${i} received:`,W),T.bo(W)}}),N(a,O_.STAT_EVENT,R=>{R.stat===af.PROXY?q(bt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===af.NOPROXY&&q(bt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}};function j_(){return typeof document<"u"?document:null}function Qf(n){return new vI(n,!0)}var Sf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Af=class{constructor(e,t,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Sf(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return _(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return _(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return _(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===k.RESOURCE_EXHAUSTED?(Cr(t.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new K(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>_(this,null,function*(){this.state=0,this.start()}))}I_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},KI=class extends Af{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=Zz(this.serializer,e),r=function(o){if(!("targetChange"in o))return se.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?se.min():s.readTime?Gn(s.readTime):se.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=EI(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=cI(u)?{documents:tq(o,u)}:{query:nq(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=iM(o,s.resumeToken);let l=_I(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(se.min())>0){a.readTime=bf(o,s.snapshotVersion.toTimestamp());let l=_I(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=iq(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=EI(this.serializer),t.removeTarget=e,this.a_(t)}},QI=class extends Af{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return xe(!!e.streamToken),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=eq(e.writeResults,e.commitTime),r=Gn(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=EI(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>Xz(this.serializer,r))};this.a_(t)}};var YI=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new K(k.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,II(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(k.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,II(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(k.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},JI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Cr(t),this.D_=!1):q("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var ZI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>_(this,null,function*(){vo(this)&&(q("RemoteStore","Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=ie(u);l.L_.add(4),yield yu(l),l.q_.set("Unknown"),l.L_.delete(4),yield Yf(l)})}(this))}))}),this.q_=new JI(r,i)}};function Yf(n){return _(this,null,function*(){if(vo(n))for(let e of n.B_)yield e(!0)})}function yu(n){return _(this,null,function*(){for(let e of n.B_)yield e(!1)})}function fM(n,e){let t=ie(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Aw(t)?Sw(t):ra(t).r_()&&Tw(t,e))}function Cw(n,e){let t=ie(n),r=ra(t);t.N_.delete(e),r.r_()&&pM(t,e),t.N_.size===0&&(r.r_()?r.o_():vo(t)&&t.q_.set("Unknown"))}function Tw(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ra(n).A_(e)}function pM(n,e){n.Q_.xe(e),ra(n).R_(e)}function Sw(n){n.Q_=new yI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),ra(n).start(),n.q_.v_()}function Aw(n){return vo(n)&&!ra(n).n_()&&n.N_.size>0}function vo(n){return ie(n).L_.size===0}function mM(n){n.Q_=void 0}function vq(n){return _(this,null,function*(){n.q_.set("Online")})}function _q(n){return _(this,null,function*(){n.N_.forEach((e,t)=>{Tw(n,e)})})}function Iq(n,e){return _(this,null,function*(){mM(n),Aw(n)?(n.q_.M_(e),Sw(n)):n.q_.set("Unknown")})}function wq(n,e,t){return _(this,null,function*(){if(n.q_.set("Online"),e instanceof wf&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield xf(n,r)}else if(e instanceof Us?n.Q_.Ke(e):e instanceof If?n.Q_.He(e):n.Q_.We(e),!t.isEqual(se.min()))try{let r=yield hM(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(Ct.EMPTY_BYTE_STRING,h.snapshotVersion)),pM(o,u);let p=new cu(h.target,u,l,h.sequenceNumber);Tw(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){q("RemoteStore","Failed to raise snapshot:",r),yield xf(n,r)}})}function xf(n,e,t){return _(this,null,function*(){if(!gu(e))throw e;n.L_.add(1),yield yu(n),n.q_.set("Offline"),t||(t=()=>hM(n.localStore)),n.asyncQueue.enqueueRetryable(()=>_(this,null,function*(){q("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Yf(n)}))})}function gM(n,e){return e().catch(t=>xf(n,t,e))}function Jf(n){return _(this,null,function*(){let e=ie(n),t=Ei(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Eq(e);)try{let i=yield pq(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,bq(e,i)}catch(i){yield xf(e,i)}yM(e)&&vM(e)})}function Eq(n){return vo(n)&&n.O_.length<10}function bq(n,e){n.O_.push(e);let t=Ei(n);t.r_()&&t.V_&&t.m_(e.mutations)}function yM(n){return vo(n)&&!Ei(n).n_()&&n.O_.length>0}function vM(n){Ei(n).start()}function Dq(n){return _(this,null,function*(){Ei(n).p_()})}function Cq(n){return _(this,null,function*(){let e=Ei(n);for(let t of n.O_)e.m_(t.mutations)})}function Tq(n,e,t){return _(this,null,function*(){let r=n.O_.shift(),i=fI.from(r,e,t);yield gM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Jf(n)})}function Sq(n,e){return _(this,null,function*(){e&&Ei(n).V_&&(yield function(r,i){return _(this,null,function*(){if(function(s){return zz(s)&&s!==k.ABORTED}(i.code)){let o=r.O_.shift();Ei(r).s_(),yield gM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Jf(r)}})}(n,e)),yM(n)&&vM(n)})}function DR(n,e){return _(this,null,function*(){let t=ie(n);t.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");let r=vo(t);t.L_.add(3),yield yu(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Yf(t)})}function Aq(n,e){return _(this,null,function*(){let t=ie(n);e?(t.L_.delete(2),yield Yf(t)):e||(t.L_.add(2),yield yu(t),t.q_.set("Unknown"))})}function ra(n){return n.K_||(n.K_=function(t,r,i){let o=ie(t);return o.w_(),new KI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:vq.bind(null,n),Ro:_q.bind(null,n),mo:Iq.bind(null,n),d_:wq.bind(null,n)}),n.B_.push(e=>_(this,null,function*(){e?(n.K_.s_(),Aw(n)?Sw(n):n.q_.set("Unknown")):(yield n.K_.stop(),mM(n))}))),n.K_}function Ei(n){return n.U_||(n.U_=function(t,r,i){let o=ie(t);return o.w_(),new QI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Dq.bind(null,n),mo:Sq.bind(null,n),f_:Cq.bind(null,n),g_:Tq.bind(null,n)}),n.B_.push(e=>_(this,null,function*(){e?(n.U_.s_(),yield Jf(n)):(yield n.U_.stop(),n.O_.length>0&&(q("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var XI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function xw(n,e){if(Cr("AsyncQueue",`${e}: ${n}`),gu(n))return new K(k.UNAVAILABLE,`${e}: ${n}`);throw n}var Rf=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||J.comparator(t.key,r.key):(t,r)=>J.comparator(t.key,r.key),this.keyedMap=Zc(),this.sortedSet=new Ge(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Mf=class{constructor(){this.W_=new Ge(J.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ne():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Xs=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Rf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var ew=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},tw=class{constructor(){this.queries=CR(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=ie(t),o=i.queries;i.queries=CR(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new K(k.ABORTED,"Firestore shutting down"))}};function CR(){return new wi(n=>qR(n),Wf)}function _M(n,e){return _(this,null,function*(){let t=ie(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new ew,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=xw(s,`Initialization of query '${Fs(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&Rw(t)})}function IM(n,e){return _(this,null,function*(){let t=ie(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function xq(n,e){let t=ie(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&Rw(t)}function Rq(n,e,t){let r=ie(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function Rw(n){n.Y_.forEach(e=>{e.next()})}var nw,TR;(TR=nw||(nw={})).ea="default",TR.Cache="cache";var Nf=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Xs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Xs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==nw.Cache}};var Pf=class{constructor(e){this.key=e}},Of=class{constructor(e){this.key=e}},rw=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ve(),this.mutatedKeys=ve(),this.Aa=GR(e),this.Ra=new Rf(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Mf,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=Kf(this.query,p)?p:null,T=!!g&&this.mutatedKeys.has(g.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;g&&y?g.data.isEqual(y.data)?T!==N&&(r.track({type:3,doc:y}),R=!0):this.ga(g,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),R=!0):g&&!y&&(r.track({type:1,doc:g}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(y,T){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return N(y)-N(T)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new Xs(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Mf,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ve(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Of(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Pf(r))}),t}ba(e){this.Ta=e.Ts,this.da=ve();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Xs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},iw=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},ow=class{constructor(e){this.key=e,this.va=!1}},sw=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new wi(a=>qR(a),Wf),this.Ma=new Map,this.xa=new Set,this.Oa=new Ge(J.comparator),this.Na=new Map,this.La=new lu,this.Ba={},this.ka=new Map,this.qa=uu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function Mq(n,e,t=!0){return _(this,null,function*(){let r=TM(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield wM(r,e,t,!0),i})}function Nq(n,e){return _(this,null,function*(){let t=TM(n);yield wM(t,e,!0,!1)})}function wM(n,e,t,r){return _(this,null,function*(){let i=yield mq(n.localStore,qn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield Pq(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&fM(n.remoteStore,i),a})}function Pq(n,e,t,r,i){return _(this,null,function*(){n.Ka=(p,g,y)=>function(N,R,V,W){return _(this,null,function*(){let B=R.view.ma(V);B.ns&&(B=yield bR(N.localStore,R.query,!1).then(({documents:E})=>R.view.ma(E,B)));let X=W&&W.targetChanges.get(R.targetId),De=W&&W.targetMismatches.get(R.targetId)!=null,Z=R.view.applyChanges(B,N.isPrimaryClient,X,De);return AR(N,R.targetId,Z.wa),Z.snapshot})}(n,p,g,y);let o=yield bR(n.localStore,e,!0),s=new rw(e,o.Ts),a=s.ma(o.documents),u=au.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);AR(n,t,l.wa);let h=new iw(e,t,s);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),l.snapshot})}function Oq(n,e,t){return _(this,null,function*(){let r=ie(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Wf(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield HI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Cw(r.remoteStore,i.targetId),aw(r,i.targetId)}).catch(mu))):(aw(r,i.targetId),yield HI(r.localStore,i.targetId,!0))})}function kq(n,e){return _(this,null,function*(){let t=ie(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Cw(t.remoteStore,r.targetId))})}function Fq(n,e,t){return _(this,null,function*(){let r=Hq(n);try{let i=yield function(s,a){let u=ie(s),l=pt.now(),h=a.reduce((y,T)=>y.add(T.key),ve()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=Sr(),N=ve();return u.cs.getEntries(y,h).next(R=>{T=R,T.forEach((V,W)=>{W.isValidDocument()||(N=N.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,T)).next(R=>{p=R;let V=[];for(let W of a){let B=Hz(W,p.get(W.key).overlayedDocument);B!=null&&V.push(new Yn(W.key,B,jR(B.value.mapValue),Dr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,V,a)}).next(R=>{g=R;let V=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,R.batchId,V)})}).then(()=>({batchId:g.batchId,changes:KR(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Ge(Te)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,t),yield vu(r,i.changes),yield Jf(r.remoteStore)}catch(i){let o=xw(i,"Failed to persist write");t.reject(o)}})}function EM(n,e){return _(this,null,function*(){let t=ie(n);try{let r=yield hq(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?xe(s.va):i.removedDocuments.size>0&&(xe(s.va),s.va=!1))}),yield vu(t,r,e)}catch(r){yield mu(r)}})}function SR(n,e,t){let r=ie(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ie(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.j_)g.Z_(a)&&(l=!0)}),l&&Rw(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Lq(n,e,t){return _(this,null,function*(){let r=ie(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Ge(J.comparator);s=s.insert(o,bn.newNoDocument(o,se.min()));let a=ve().add(o),u=new _f(se.min(),new Map,new Ge(Te),s,a);yield EM(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Mw(r)}else yield HI(r.localStore,e,!1).then(()=>aw(r,e,t)).catch(mu)})}function Vq(n,e){return _(this,null,function*(){let t=ie(n),r=e.batch.batchId;try{let i=yield dq(t.localStore,e);DM(t,r,null),bM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield vu(t,i)}catch(i){yield mu(i)}})}function jq(n,e,t){return _(this,null,function*(){let r=ie(n);try{let i=yield function(s,a){let u=ie(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(xe(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);DM(r,e,t),bM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield vu(r,i)}catch(i){yield mu(i)}})}function bM(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function DM(n,e,t){let r=ie(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function aw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||CM(n,r)})}function CM(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(Cw(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Mw(n))}function AR(n,e,t){for(let r of t)r instanceof Pf?(n.La.addReference(r.key,e),Uq(n,r)):r instanceof Of?(q("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||CM(n,r.key)):ne()}function Uq(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(q("SyncEngine","New document in limbo: "+t),n.xa.add(r),Mw(n))}function Mw(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new J(qe.fromString(e)),r=n.qa.next();n.Na.set(r,new ow(t)),n.Oa=n.Oa.insert(t,r),fM(n.remoteStore,new cu(qn(Gf(t.path)),r,"TargetPurposeLimboResolution",kR.oe))}}function vu(n,e,t){return _(this,null,function*(){let r=ie(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=jI.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return _(this,null,function*(){let h=ie(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(l,g=>F.forEach(g.$i,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>F.forEach(g.Ui,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!gu(p))throw p;q("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.os.get(g),T=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(T);h.os=h.os.insert(g,N)}}})}(r.localStore,o))})}function Bq(n,e){return _(this,null,function*(){let t=ie(n);if(!t.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());let r=yield dM(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new K(k.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield vu(t,r.hs)}})}function $q(n,e){let t=ie(n),r=t.Na.get(e);if(r&&r.va)return ve().add(r.key);{let i=ve(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function TM(n){let e=ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=EM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$q.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lq.bind(null,e),e.Ca.d_=xq.bind(null,e.eventManager),e.Ca.$a=Rq.bind(null,e.eventManager),e}function Hq(n){let e=ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jq.bind(null,e),e}var xR=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return _(this,null,function*(){this.serializer=Qf(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return lq(this.persistence,new BI,t.initialUser,this.serializer)}Ga(t){return new FI(VI.Zr,this.serializer)}Wa(t){return new zI}terminate(){return _(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var zq=(()=>{class n{initialize(t,r){return _(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>SR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bq.bind(null,this.syncEngine),yield Aq(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new tw}()}createDatastore(t){let r=Qf(t.databaseInfo.databaseId),i=function(s){return new WI(s)}(t.databaseInfo);return function(s,a,u,l){return new YI(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new ZI(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>SR(this.syncEngine,r,0),function(){return Tf.D()?new Tf:new qI}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let g=new sw(o,s,a,u,l,h);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var t,r;yield function(o){return _(this,null,function*(){let s=ie(o);q("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield yu(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var kf=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var cw=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=lt.UNAUTHENTICATED,this.clientId=ff.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){q("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=xw(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function U_(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>_(this,null,function*(){r.isEqual(i)||(yield dM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function RR(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield qq(n);q("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>DR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>DR(e.remoteStore,i)),n._onlineComponents=e})}function qq(n){return _(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield U_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;$s("Error using user provided cache. Falling back to memory cache: "+t),yield U_(n,new xR)}}else q("FirestoreClient","Using default OfflineComponentProvider"),yield U_(n,new xR);return n._offlineComponents})}function SM(n){return _(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),yield RR(n,n._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),yield RR(n,new zq))),n._onlineComponents})}function Gq(n){return SM(n).then(e=>e.syncEngine)}function uw(n){return _(this,null,function*(){let e=yield SM(n),t=e.eventManager;return t.onListen=Mq.bind(null,e.syncEngine),t.onUnlisten=Oq.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Nq.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=kq.bind(null,e.syncEngine),t})}function Wq(n,e,t={}){let r=new Hn;return n.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(o,s,a,u,l){let h=new kf({next:g=>{h.Za(),s.enqueueAndForget(()=>IM(o,p));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new K(k.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?l.reject(new K(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new Nf(Gf(a.path),h,{includeMetadataChanges:!0,_a:!0});return _M(o,p)}(yield uw(n),n.asyncQueue,e,t,r)})),r.promise}function AM(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var MR=new Map;function xM(n,e,t){if(!t)throw new K(k.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Kq(n,e,t,r){if(e===!0&&r===!0)throw new K(k.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function NR(n){if(!J.isDocumentKey(n))throw new K(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function PR(n){if(J.isDocumentKey(n))throw new K(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Nw(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ne()}function Wn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new K(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Nw(n);throw new K(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Ff=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Kq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new K(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new K(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new K(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ea=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ff({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ff(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new B_;switch(r.type){case"firstParty":return new q_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=MR.get(t);r&&(q("ComponentProvider","Removing Datastore"),MR.delete(t),r.terminate())}(this),Promise.resolve()}};function RM(n,e,t,r={}){var i;let o=(n=Wn(n,ea))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&$s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=lt.MOCK_USER;else{a=AA(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new K(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new lt(l)}n._authCredentials=new $_(new hf(a,u))}}var Lf=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},$t=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},_i=class n extends Lf{constructor(e,t,r){super(e,t,Gf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new J(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function MM(n,e,...t){if(n=Ke(n),xM("collection","path",e),n instanceof ea){let r=qe.fromString(e,...t);return PR(r),new _i(n,null,r)}{if(!(n instanceof $t||n instanceof _i))throw new K(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(qe.fromString(e,...t));return PR(r),new _i(n.firestore,null,r)}}function Pw(n,e,...t){if(n=Ke(n),arguments.length===1&&(e=ff.newId()),xM("doc","path",e),n instanceof ea){let r=qe.fromString(e,...t);return NR(r),new $t(n,null,new J(r))}{if(!(n instanceof $t||n instanceof _i))throw new K(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(qe.fromString(e,...t));return NR(r),new $t(n.firestore,n instanceof _i?n.converter:null,new J(r))}}var Vf=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Sf(this,"async_queue_retry"),this.Vu=()=>{let r=j_();r&&q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=j_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=j_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Hn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return _(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!gu(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Cr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=XI.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ne()}verifyOperationInProgress(){}wu(){return _(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function OR(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Ar=class extends ea{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Vf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Vf(e),this._firestoreClient=void 0,yield e}})}};function Ow(n,e){let t=typeof n=="object"?n:As(),r=typeof n=="string"?n:e||"(default)",i=jc(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=SA("firestore");o&&RM(i,...o)}return i}function kw(n){if(n._terminated)throw new K(k.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Qq(n),n._firestoreClient}function Qq(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new Y_(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,AM(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new cw(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var du=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Ct.fromBase64String(e))}catch(t){throw new K(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ta=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new K(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var hu=class{constructor(e){this._methodName=e}};var fu=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new K(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new K(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}};var pu=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var Yq=/^__.*__$/,lw=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Yn(e,this.data,this.fieldMask,t,this.fieldTransforms):new go(e,this.data,t,this.fieldTransforms)}},jf=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Yn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function NM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}var dw=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Bf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(NM(this.Cu)&&Yq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},hw=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Qf(e)}Qu(e,t,r,i=!1){return new dw({Cu:e,methodName:t,qu:r,path:en.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function PM(n){let e=n._freezeSettings(),t=Qf(n._databaseId);return new hw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Jq(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);Fw("Data must be an object, but it was:",s,r);let a=OM(r,s),u,l;if(o.merge)u=new dn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=fw(e,p,t);if(!s.contains(g))throw new K(k.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);FM(h,g)||h.push(g)}u=new dn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new lw(new Xt(a),u,l)}var Uf=class n extends hu{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function Zq(n,e,t,r){let i=n.Qu(1,e,t);Fw("Data must be an object, but it was:",i,r);let o=[],s=Xt.empty();yo(r,(u,l)=>{let h=Lw(e,u,t);l=Ke(l);let p=i.Nu(h);if(l instanceof Uf)o.push(h);else{let g=Zf(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new dn(o);return new jf(s,a,i.fieldTransforms)}function Xq(n,e,t,r,i,o){let s=n.Qu(1,e,t),a=[fw(e,r,t)],u=[i];if(o.length%2!=0)throw new K(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(fw(e,o[g])),u.push(o[g+1]);let l=[],h=Xt.empty();for(let g=a.length-1;g>=0;--g)if(!FM(l,a[g])){let y=a[g],T=u[g];T=Ke(T);let N=s.Nu(y);if(T instanceof Uf)l.push(y);else{let R=Zf(T,N);R!=null&&(l.push(y),h.set(y,R))}}let p=new dn(l);return new jf(h,p,s.fieldTransforms)}function Zf(n,e){if(kM(n=Ke(n)))return Fw("Unsupported field value:",e,n),OM(n,e);if(n instanceof hu)return function(r,i){if(!NM(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Zf(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Vz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=pt.fromDate(r);return{timestampValue:bf(i.serializer,o)}}if(r instanceof pt){let o=new pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bf(i.serializer,o)}}if(r instanceof fu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof du)return{bytesValue:iM(i.serializer,r._byteString)};if(r instanceof $t){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Dw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof pu)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return bw(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Nw(r)}`)}(n,e)}function OM(n,e){let t={};return FR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yo(n,(r,i)=>{let o=Zf(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function kM(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof pt||n instanceof fu||n instanceof du||n instanceof $t||n instanceof hu||n instanceof pu)}function Fw(n,e,t){if(!kM(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Nw(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function fw(n,e,t){if((e=Ke(e))instanceof ta)return e._internalPath;if(typeof e=="string")return Lw(n,e);throw Bf("Field path arguments must be of type string or ",n,!1,void 0,t)}var e3=new RegExp("[~\\*/\\[\\]]");function Lw(n,e,t){if(e.search(e3)>=0)throw Bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ta(...e.split("."))._internalPath}catch{throw Bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Bf(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new K(k.INVALID_ARGUMENT,a+n+u)}function FM(n,e){return n.some(t=>t.isEqual(e))}var $f=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new pw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(LM("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},pw=class extends $f{data(){return super.data()}};function LM(n,e){return typeof e=="string"?Lw(n,e):e instanceof ta?e._internalPath:e._delegate._internalPath}function t3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new K(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var mw=class{convertValue(e,t="none"){switch(fo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ne()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return yo(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ve(s.doubleValue));return new pu(o)}convertGeoPoint(e){return new fu(Ve(e.latitude),Ve(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=_w(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){let t=Tr(e);return new pt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=qe.fromString(e);xe(lM(r));let i=new yf(r.get(1),r.get(3)),o=new J(r.popFirst(5));return i.isEqual(t)||Cr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function n3(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var uo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Hf=class extends $f{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Bs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(LM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Bs=class extends Hf{data(e={}){return super.data(e)}},gw=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new uo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Bs(this._firestore,this._userDataWriter,r.key,r,new uo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new K(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Bs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new uo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Bs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new uo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:r3(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function r3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}function VM(n){n=Wn(n,$t);let e=Wn(n.firestore,Ar);return Wq(kw(e),n._key).then(t=>$M(e,n,t))}var zf=class extends mw{constructor(e){super(),this.firestore=e}convertBytes(e){return new du(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,t)}};function jM(n,e,t,...r){n=Wn(n,$t);let i=Wn(n.firestore,Ar),o=PM(i),s;return s=typeof(e=Ke(e))=="string"||e instanceof ta?Xq(o,"updateDoc",n._key,e,t,r):Zq(o,"updateDoc",n._key,e),jw(i,[s.toMutation(n._key,Dr.exists(!0))])}function UM(n){return jw(Wn(n.firestore,Ar),[new su(n._key,Dr.none())])}function BM(n,e){let t=Wn(n.firestore,Ar),r=Pw(n),i=n3(n.converter,e);return jw(t,[Jq(PM(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Dr.exists(!1))]).then(()=>r)}function Vw(n,...e){var t,r,i;n=Ke(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||OR(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(OR(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof $t)l=Wn(n.firestore,Ar),h=Gf(n._key.path),u={next:p=>{e[s]&&e[s]($M(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Wn(n,Lf);l=Wn(p.firestore,Ar),h=p._query;let g=new zf(l);u={next:y=>{e[s]&&e[s](new gw(l,g,p,y))},error:e[s+1],complete:e[s+2]},t3(n._query)}return function(g,y,T,N){let R=new kf(N),V=new Nf(y,R,T);return g.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return _M(yield uw(g),V)})),()=>{R.Za(),g.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return IM(yield uw(g),V)}))}}(kw(l),h,a,u)}function jw(n,e){return function(r,i){let o=new Hn;return r.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return Fq(yield Gq(r),i,o)})),o.promise}(kw(n),e)}function $M(n,e,t){let r=t.docs.get(e._key),i=new zf(n);return new Hf(n,i,e._key,r,new uo(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){na=i})(pi),fi(new un("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ar(new H_(r.getProvider("auth-internal")),new W_(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new K(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yf(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),rt(rR,"4.7.3",e),rt(rR,"4.7.3","esm2017")})();var Xf=function(){return Xf=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Xf.apply(this,arguments)};var s3={includeMetadataChanges:!1};function HM(n,e){return e===void 0&&(e=s3),new le(function(t){var r=Vw(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function zM(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Xf(Xf({},r),(t={},t[e.idField]=n.id,t))}function qM(n){return HM(n,{includeMetadataChanges:!0}).pipe(ee(function(e){return e.docs}))}function GM(n,e){return e===void 0&&(e={}),qM(n).pipe(ee(function(t){return t.map(function(r){return zM(r,e)})}))}var _o=class{constructor(e){return e}},WM="firestore",Uw=class{constructor(){return Bc(WM)}};var Bw=new $("angularfire2.firestore-instances");function a3(n,e){let t=kh(WM,n,e);return t&&new _o(t)}function c3(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new _o(r)}}var u3={provide:Uw,deps:[[new It,Bw]]},l3={provide:_o,useFactory:a3,deps:[[new It,Bw],vr]};function KM(n,...e){return rt("angularfire",eo.full,"fst"),Lt([l3,u3,{provide:Bw,useFactory:c3(n),multi:!0,deps:[ge,ot,Ms,to,[new It,Qc],[new It,Rs],...e]}])}var QM=Et(GM,!0);var YM=Et(BM,!0);var $w=Et(MM,!0);var JM=Et(UM,!0);var ep=Et(Pw,!0);var ZM=Et(VM,!0);var XM=Et(jM,!0);var tp=class n{constructor(e){this.fireStore=e}addOrder(e,t,r){let i={userId:e,amount:t,dateOrder:new Date,details:r},o=$w(this.fireStore,"orders");return Ie(YM(o,i).then(()=>{console.log("Order saved successfully!")}).catch(s=>{console.error("Error saving order: ",s)}))}getAllOrders(){let e=$w(this.fireStore,"orders");return QM(e,{idField:"id"})}getOrderById(e){let t=ep(this.fireStore,"orders",e);return Ie(ZM(t).then(r=>{if(r.exists())return L({id:r.id},r.data());throw new Error("No such order!")}))}updateOrder(e,t){let r=ep(this.fireStore,"orders",e);return Ie(XM(r,t).then(()=>{console.log(`Order with ID ${e} updated successfully!`)}).catch(i=>{console.error("Error updating order: ",i)}))}deleteOrder(e){let t=ep(this.fireStore,"orders",e);return Ie(JM(t).then(()=>{console.log("Order deleted successfully!")}).catch(r=>{console.error("Error deleting order: ",r)}))}static \u0275fac=function(t){return new(t||n)(z(_o))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})};function f3(n,e){n&1&&(M(0,"div",4),O(1," No items to display. "),A())}function p3(n,e){if(n&1&&(M(0,"tr")(1,"td"),O(2),A(),M(3,"td"),O(4),A(),M(5,"td"),O(6),A()()),n&2){let t=e.$implicit;H(2),wt(t.product.title),H(2),wt(t.quantity),H(2),Pe("",t.product.price*t.quantity," Dollar ")}}function m3(n,e){if(n&1){let t=Kt();M(0,"div")(1,"table",5)(2,"thead",6)(3,"tr")(4,"th"),O(5,"Product"),A(),M(6,"th"),O(7,"Quantity"),A(),M(8,"th"),O(9,"Price"),A()()(),M(10,"tbody"),Ae(11,p3,7,3,"tr",7),A()(),M(12,"h4",8),O(13),A(),M(14,"div",9)(15,"button",10),we("click",function(){st(t);let i=Oe();return at(i.confirmOrder())}),O(16,"Confirm Order"),A()()()}if(n&2){let t=Oe();H(11),fe("ngForOf",t.orderDetails),H(2),Pe("Total Price: ",t.totalPrice," Dollar ")}}var np=class n{constructor(e,t,r,i){this.router=e;this.orderService=t;this.authService=r;this.cartToOrderService=i}orderDetails=[];totalPrice=0;cartService=P(Vn);ngOnInit(){this.orderDetails=this.cartToOrderService.getOrderDetails(),this.calculateTotalPrice()}calculateTotalPrice(){this.totalPrice=this.orderDetails.reduce((e,t)=>e+t.product.price*t.quantity,0)}confirmOrder(){let e=this.authService.userSubject.value?.uid,t=this.totalPrice,r=this.generateOrderId(),i=new Date,o=new of(r,e,this.orderDetails,t,i);e?this.orderService.addOrder(e,t,this.orderDetails).subscribe({next:()=>{console.log("Order confirmed successfully!"),this.router.navigate(["/"])},error:s=>{console.error("Error confirming order: ",s)}}):(console.error("User is not logged in, cannot confirm order."),this.router.navigate(["/login"]))}generateOrderId(){return"ORDER_"+Math.random().toString(36).substr(2,9)}static \u0275fac=function(t){return new(t||n)(Q(ze),Q(tp),Q(ln),Q(Cs))};static \u0275cmp=Be({type:n,selectors:[["app-order"]],standalone:!0,features:[$e],decls:5,vars:2,consts:[[1,"container","my-4"],[1,"text-center","mb-4"],["class","alert alert-info text-center",4,"ngIf"],[4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"table","table-striped","table-bordered"],[1,"table-dark"],[4,"ngFor","ngForOf"],[1,"text-end"],[1,"text-center","mt-4"],[1,"btn","btn-success","btn-lg",3,"click"]],template:function(t,r){t&1&&(M(0,"div",0)(1,"h2",1),O(2,"Your Order"),A(),Ae(3,f3,2,0,"div",2)(4,m3,17,2,"div",3),A()),t&2&&(H(3),fe("ngIf",!r.orderDetails.length),H(),fe("ngIf",r.orderDetails.length>0))},dependencies:[Nt,ti,Bt],styles:[".table[_ngcontent-%COMP%]{margin-top:20px;border-radius:.5rem;overflow:hidden}.btn-success[_ngcontent-%COMP%]{padding:10px 20px;font-size:1.2rem}.alert[_ngcontent-%COMP%]{margin-top:20px}.text-end[_ngcontent-%COMP%]{font-weight:700}h2[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}"]})};var rp=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.user$.pipe(ee(e=>e?!0:(this.router.navigate(["/login"]),!1)))}static \u0275fac=function(t){return new(t||n)(z(ln),z(ze))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})};var eN=[{path:"",component:Th,title:"Home Page"},{path:"details/:id",component:Sh,title:"Product Details"},{path:"cart",component:Ah,title:"Your Cart"},{path:"login",component:nf,title:"login"},{path:"signup",component:rf,title:"signup"},{path:"order",component:np,title:"Your Order",canActivate:[rp]},{path:"**",redirectTo:""}];var tN={apiKey:"AIzaSyAcQkrwbhwejDq6AErdI9QcQpa42eqm_l0",authDomain:"angularecom-2a99e.firebaseapp.com",projectId:"angularecom-2a99e",storageBucket:"angularecom-2a99e.firebasestorage.app",messagingSenderId:"1009805325722",appId:"1:1009805325722:web:09032927fd4a6049113623"},VX=Uc(tN),nN={providers:[XC({eventCoalescing:!0}),FS(eN),WT(),qT(),kT(),ZA(()=>XA(tN)),Qx(()=>tf()),KM(()=>Ow())]};function g3(n,e){if(n&1){let t=Kt();M(0,"ul",14)(1,"li",15)(2,"a",16),we("click",function(){st(t);let i=Oe();return at(i.navigateToLogin())}),ce(3,"i",17),O(4," Login "),A()(),M(5,"li",9)(6,"a",18),we("click",function(){st(t);let i=Oe();return at(i.navigateToSignup())}),ce(7,"i",19),O(8," Sign Up "),A()()()}}function y3(n,e){if(n&1){let t=Kt();M(0,"li",15)(1,"a",20),we("click",function(){st(t);let i=Oe();return at(i.signOut())}),ce(2,"i",21),O(3," Sign Out "),A()(),M(4,"li",15)(5,"a",22),we("click",function(){st(t);let i=Oe();return at(i.navigateToOrders())}),ce(6,"i",23),O(7," Orders "),A()()}}var ip=class n{constructor(e,t){this.router=e;this.authService=t;this.user$=this.authService.user$}user$;onWindowScroll(){let e=document.querySelector(".navbar");window.scrollY>50?e.classList.add("scrolled"):e.classList.remove("scrolled")}navigateToHome(){this.router.navigate(["/"])}navigateToCart(){this.router.navigate(["/cart"])}navigateToLogin(){this.router.navigate(["/login"])}navigateToSignup(){this.router.navigate(["/signup"])}signOut(){this.authService.signOut().subscribe(()=>{this.router.navigate(["/"])})}navigateToOrders(){this.router.navigate(["/order"])}static \u0275fac=function(t){return new(t||n)(Q(ze),Q(ln))};static \u0275cmp=Be({type:n,selectors:[["app-navbar"]],hostBindings:function(t,r){t&1&&we("scroll",function(){return r.onWindowScroll()},!1,GD)},standalone:!0,features:[$e],decls:22,vars:4,consts:[["loggedIn",""],[1,"navbar","navbar-expand-lg","navbar-light","shadow-sm","py-3"],[1,"container"],[1,"navbar-brand","fw-bold","brand-logo",3,"click"],[1,"brand-text"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","custom-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto"],[1,"nav-item"],[1,"nav-link","fw-semibold","px-3","nav-item-link",3,"click"],[1,"fas","fa-home","me-1"],[1,"fas","fa-shopping-cart","me-1"],["class","navbar-nav auth-buttons",4,"ngIf","ngIfElse"],[1,"navbar-nav","auth-buttons"],[1,"nav-item","me-3"],[1,"btn","btn-outline-primary","fw-semibold","px-4","py-2","login-btn",3,"click"],[1,"fas","fa-sign-in-alt","me-1"],[1,"btn","btn-primary","fw-semibold","px-4","py-2","signup-btn",3,"click"],[1,"fas","fa-user-plus","me-1"],[1,"btn","btn-danger","fw-semibold","px-4","py-2","logout-btn",3,"click"],[1,"fas","fa-sign-out-alt","me-1"],[1,"btn","btn-secondary","fw-semibold","px-4","py-2","orders-btn",3,"click"],[1,"fas","fa-box","me-1"]],template:function(t,r){if(t&1){let i=Kt();M(0,"nav",1)(1,"div",2)(2,"a",3),we("click",function(){return st(i),at(r.navigateToHome())}),M(3,"span",4),O(4,"ib"),A(),O(5,"Ecom "),A(),M(6,"button",5),ce(7,"span",6),A(),M(8,"div",7)(9,"ul",8)(10,"li",9)(11,"a",10),we("click",function(){return st(i),at(r.navigateToHome())}),ce(12,"i",11),O(13," Home "),A()(),M(14,"li",9)(15,"a",10),we("click",function(){return st(i),at(r.navigateToCart())}),ce(16,"i",12),O(17," Cart "),A()()(),Ae(18,g3,9,0,"ul",13),KC(19,"async"),Ae(20,y3,8,0,"ng-template",null,0,Ka),A()()()}if(t&2){let i=Wa(21);H(18),fe("ngIf",QC(19,2,r.user$)===null)("ngIfElse",i)}},dependencies:[Nt,Bt,mT],styles:['[_ngcontent-%COMP%]:root{--primary-color: #0d6efd;--primary-hover: #0b5ed7;--text-color: #2c3e50;--transition-speed: .3s}.navbar[_ngcontent-%COMP%]{background-color:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-bottom:1px solid rgba(0,0,0,.05);transition:all var(--transition-speed) ease}.brand-logo[_ngcontent-%COMP%]{font-size:1.8rem;color:var(--text-color)!important;transition:transform var(--transition-speed) ease}.brand-logo[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.brand-text[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:800}.nav-item-link[_ngcontent-%COMP%]{position:relative;color:var(--text-color)!important;transition:all var(--transition-speed) ease;font-size:1.1rem}.nav-item-link[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:50%;width:0;height:2px;background-color:var(--primary-color);transition:all var(--transition-speed) ease;transform:translate(-50%)}.nav-item-link[_ngcontent-%COMP%]:hover:after, .nav-item-link[_ngcontent-%COMP%]:hover{color:var(--primary-color)!important;transform:translateY(-2px)}.login-btn[_ngcontent-%COMP%], .signup-btn[_ngcontent-%COMP%]{border-radius:8px;transition:all var(--transition-speed) ease;position:relative;overflow:hidden}.login-btn[_ngcontent-%COMP%]{border-width:2px}.login-btn[_ngcontent-%COMP%]:hover{background-color:#0d6efd1a;transform:translateY(-2px)}.signup-btn[_ngcontent-%COMP%]{box-shadow:0 4px 15px #0d6efd33}.signup-btn[_ngcontent-%COMP%]:hover{background-color:var(--primary-hover);transform:translateY(-2px);box-shadow:0 6px 20px #0d6efd4d}.custom-toggler[_ngcontent-%COMP%]{border:none;padding:.5rem;transition:all var(--transition-speed) ease}.custom-toggler[_ngcontent-%COMP%]:hover{background-color:#0d6efd1a;transform:scale(1.05)}@media (max-width: 991.98px){.navbar-collapse[_ngcontent-%COMP%]{padding:1rem 0}.nav-item[_ngcontent-%COMP%]{margin:.5rem 0}.auth-buttons[_ngcontent-%COMP%]{margin-top:1rem;display:flex;flex-direction:column}.auth-buttons[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{width:100%;margin:.5rem 0}.login-btn[_ngcontent-%COMP%], .signup-btn[_ngcontent-%COMP%]{width:100%;text-align:center}}.navbar.scrolled[_ngcontent-%COMP%]{background-color:#fffffffa;box-shadow:0 4px 20px #0000000d}html[_ngcontent-%COMP%]{scroll-behavior:smooth}.nav-item-link[_ngcontent-%COMP%], .auth-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{cursor:pointer}.nav-item-link[_ngcontent-%COMP%]:hover, .auth-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{text-decoration:underline}']})};var op=class n{currentYear=new Date().getFullYear();static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Be({type:n,selectors:[["app-efooter"]],standalone:!0,features:[$e],decls:40,vars:1,consts:[[1,"bg-dark","text-light","pt-4"],[1,"container"],[1,"row","mb-4"],[1,"col-md-4"],[1,"fw-bold"],[1,"text"],[1,"list-unstyled"],["href","#",1,"text-light"],[1,"col-md-4","text-md-end"],["href","#",1,"text-light","me-3"],[1,"fab","fa-facebook-f"],[1,"fab","fa-twitter"],[1,"fab","fa-instagram"],[1,"border-light"],[1,"text-center"],[1,"mb-0"],[1,"text-muted"]],template:function(t,r){t&1&&(M(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),O(5,"About Us"),A(),M(6,"p",5),O(7,"We are dedicated to providing the best e-commerce experience for our customers, offering high-quality products at competitive prices."),A()(),M(8,"div",3)(9,"h5",4),O(10,"Quick Links"),A(),M(11,"ul",6)(12,"li")(13,"a",7),O(14,"Home"),A()(),M(15,"li")(16,"a",7),O(17,"Products"),A()(),M(18,"li")(19,"a",7),O(20,"Contact Us"),A()(),M(21,"li")(22,"a",7),O(23,"FAQs"),A()()()(),M(24,"div",8)(25,"h5",4),O(26,"Follow Us"),A(),M(27,"a",9),ce(28,"i",10),A(),M(29,"a",9),ce(30,"i",11),A(),M(31,"a",7),ce(32,"i",12),A()()(),ce(33,"hr",13),M(34,"div",14)(35,"p",15),O(36),A(),M(37,"p",15)(38,"small",16),O(39,"Designed with passion for quality."),A()()()()()),t&2&&(H(36),Pe("\xA9 ",r.currentYear," Mohamed Ibrahimi. All rights reserved."))},styles:["footer[_ngcontent-%COMP%]{background-color:#343a40;padding:40px 0}footer[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#fff}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#d1d1d1}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:underline}footer[_ngcontent-%COMP%]   .border-light[_ngcontent-%COMP%]{border-color:#ffffff1a}"]})};var sp=class n{title="iBrahimiEcom";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Be({type:n,selectors:[["app-root"]],standalone:!0,features:[$e],decls:5,vars:0,consts:[[1,"content"]],template:function(t,r){t&1&&(ce(0,"app-navbar"),M(1,"main")(2,"section",0),ce(3,"router-outlet"),A()(),ce(4,"app-efooter"))},dependencies:[tv,BS,ip,op]})};zT(sp,nN).catch(n=>console.error(n));
